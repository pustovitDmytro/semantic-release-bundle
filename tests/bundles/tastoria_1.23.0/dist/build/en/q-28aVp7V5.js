import{l as m,M as c,d as p,k as z,o as C,c as b,C as V,j as r,K as s,y as h,_ as u,V as O,f as H,q as P,h as D}from"./q-grzRItSl.js";import{l as x}from"./q-kZRfDn4W.js";import{B as w}from"./q-YTYDmSU9.js";import{r as R,a as S}from"./q-mmDR2EFA.js";import{p as Y,v as j}from"./q-DTQGOYfe.js";import{s as g}from"./q-UwzTaAMR.js";import{L as y}from"./q-5LSN8IXO.js";import{f as k}from"./q-Qs8Yj10d.js";import{v as A}from"./q-yQnnJER4.js";function I(e,t){return e.split(/\s+/).filter(Boolean).map(n=>n.toLowerCase()).every(n=>t.title.toLowerCase().includes(n))}function $(e,t,{categories:o,tags:n}){const{recipe:i}=e,_=!!t,a=_&&I(t,i);let d=!0;_&&!a&&(d=!1),o.length>0&&(!i.categories||!o.some(l=>i.categories.includes(l.value)))&&(d=!1),n.length>0&&(!i.tags||!n.some(l=>i.tags.includes(l.value)))&&(d=!1),e.isVisible.value=d}const T=({track:e})=>{const[t,o,n,i]=m();e(()=>i.value+t.filter(l=>l.isSelected.value).map(l=>l.id).join(" "));const _=new Set(t.filter(l=>l.isSelected.value).map(l=>l.id)),a=n.categories.filter(l=>_.has(`category_${l.value}`)),d=n.tags.filter(l=>_.has(`tags_${l.value}`));for(const l of o.list)$(l,i.value,{categories:a,tags:d})},F=()=>{window.print()},W=()=>{const[e]=m(),t=e.list.filter(i=>i.isVisible.value),o=x.random.int(t.length-1,0),n=t[o];e.onOpenRecipe.submit({...n.recipe})},q=()=>{const[e]=m();return e.onEdit.submit()},Q=async()=>{const[e,t]=m();await e(),t.onRemove.submit()},K=e=>c(p,{children:c("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",className:"icon",viewBox:"0 0 1024 1024"},e,{children:[c("path",{d:"M32 241.6c-11.2 0-20-8.8-20-20s8.8-20 20-20l940 1.6c11.2 0 20 8.8 20 20s-8.8 20-20 20zm154.4 40.8c0-11.2 8.8-20 20-20s20 8.8 20 20v688.8l585.6-6.4V289.6c0-11.2 8.8-20 20-20s20 8.8 20 20v716.8l-666.4 7.2V282.4z"}),c("path",{d:"M682.4 867.2c-11.2 0-20-8.8-20-20V372c0-11.2 8.8-20 20-20s20 8.8 20 20v475.2c.8 11.2-8.8 20-20 20m-315.2 0c-11.2 0-20-8.8-20-20V372c0-11.2 8.8-20 20-20s20 8.8 20 20v475.2c.8 11.2-8.8 20-20 20m157.6 0c-11.2 0-20-8.8-20-20V372c0-11.2 8.8-20 20-20s20 8.8 20 20v475.2c.8 11.2-8.8 20-20 20m130.4-653.6v-48.8c0-17.6-14.4-32-32-32H418.4c-18.4 0-32 14.4-32 32.8V208h-40v-42.4c0-40 32.8-72.8 72.8-72.8H624c40 0 72.8 32.8 72.8 72.8v48.8h-41.6z"})]}))}),N=e=>c(p,{children:c("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1920 1920"},e,{children:c("path",{fillRule:"evenodd",d:"M0 1919.887h1467.88V452.008H0v1467.88ZM1354.965 564.922v1242.051H112.914V564.922zM777.203 800h-112l-.001 318.041H333v112h332.202V1580h112v-349.959H1113v-112H777.202zM1920 0v1467.992h-338.741v-113.027h225.827V112.914H565.035V338.74H452.008V0z"})}))}),X=e=>c(p,{children:c("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",strokeWidth:".019",transform:"scale(-1 1)",viewBox:"0 0 1920 1920"},e,{children:c("path",{fillRule:"evenodd",d:"M277.974 49.076c65.267-65.379 171.733-65.49 237.448 0l232.186 232.187 1055.697 1055.809L1919.958 1920l-582.928-116.653-950.128-950.015 79.15-79.15 801.792 801.68 307.977-307.976-907.362-907.474L281.22 747.65 49.034 515.464c-65.379-65.603-65.379-172.069 0-237.448Zm1376.996 1297.96-307.977 307.976 45.117 45.116 384.999 77.023-77.023-385zM675.355 596.258l692.304 692.304-79.149 79.15-692.304-692.305zM396.642 111.88c-14.33 0-28.547 5.374-39.519 16.345l-228.94 228.94c-21.718 21.718-21.718 57.318 0 79.149l153.038 153.037 308.089-308.09-153.037-153.036c-10.972-10.971-25.301-16.345-39.63-16.345Z"})}))}),U=e=>c(p,{children:c("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",viewBox:"-3 0 32 32"},e,{children:c("path",{d:"M23 32H3c-1.654 0-3-1.346-3-3V14c0-1.654 1.346-3 3-3h2V8c0-4.411 3.589-8 8-8s8 3.589 8 8v3h2c1.654 0 3 1.346 3 3v15c0 1.654-1.346 3-3 3M19 8c0-3.309-2.691-6-6-6S7 4.691 7 8v3h12zm5 6a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v15a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1zm-10 6.722V24a1 1 0 1 1-2 0v-3.278c-.595-.347-1-.985-1-1.722 0-1.102.897-2 2-2s2 .898 2 2c0 .737-.405 1.375-1 1.722"})}))}),Z=e=>c(p,{children:c("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30"},e,{children:c("path",{d:"M20.5 11h2a.499.499 0 1 1 0 1h-2a.499.499 0 1 1 0-1m5 0h2a.499.499 0 1 1 0 1h-2a.499.499 0 1 1 0-1m-17 12h13a.499.499 0 1 1 0 1h-13a.499.499 0 1 1 0-1m0-3h13a.499.499 0 1 1 0 1h-13a.499.499 0 1 1 0-1m-5-3h23a.499.499 0 1 1 0 1h-23a.499.499 0 1 1 0-1m-2-8C.678 9 0 9.678 0 10.5v11c0 .822.678 1.5 1.5 1.5H5v4.5c0 .822.678 1.5 1.5 1.5h17c.822 0 1.5-.678 1.5-1.5V23h3.5c.822 0 1.5-.678 1.5-1.5v-11c0-.822-.678-1.5-1.5-1.5zm0 1h27c.286 0 .5.214.5.5v11c0 .286-.214.5-.5.5H25v-2.5c0-.664-1-.664-1 0v2.92a.4.4 0 0 0 0 .162V27.5c0 .286-.214.5-.5.5h-17a.49.49 0 0 1-.5-.5v-4.92a.4.4 0 0 0 0-.162V19.5a.49.49 0 0 0-.5-.5.5.5 0 0 0-.5.5V22H1.5a.49.49 0 0 1-.5-.5v-11c0-.286.214-.5.5-.5m5-9C5.678 1 5 1.678 5 2.5v4c0 .673 1 .656 1 0v-4c0-.286.214-.5.5-.5h17c.286 0 .5.214.5.5v4c0 .67 1 .648 1 0v-4c0-.822-.678-1.5-1.5-1.5z"})}))}),G=e=>c(p,{children:c("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e,{children:c("path",{fillRule:"evenodd",d:"M16.5 2.25a3.25 3.25 0 0 0-3.2 3.824L8.57 9.386a1 1 0 0 0-.068.053 3.25 3.25 0 1 0 0 5.121 1 1 0 0 0 .068.054l4.73 3.312q-.05.28-.05.574a3.25 3.25 0 1 0 .667-1.973L9.438 13.39c.2-.422.312-.893.312-1.391s-.112-.97-.312-1.391l4.48-3.136A3.25 3.25 0 1 0 16.5 2.25M14.75 5.5a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0M6.5 10.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5m10 6.5a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5",clipRule:"evenodd"})}))}),J=e=>c(p,{children:c("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e,{children:c("path",{d:"M25 12.034H10.72l-.518-2.321c-.883-3.293.65-6.576 4.159-7.516 3.473-.93 6.534 1.061 7.432 4.41l.425 1.686a1 1 0 1 0 1.932-.518l-.425-1.687C22.538 1.655 18.4-.957 13.844.264 9.27 1.49 7.103 5.871 8.271 10.23l.402 1.803H7c-2.206 0-4 1.794-4 4v12c0 2.206 1.794 4 4 4h18c2.206 0 4-1.794 4-4v-12c0-2.206-1.794-4-4-4zm2 16.001c0 1.102-.898 2-2 2H7c-1.103 0-2-.898-2-2v-12c0-1.102.897-2 2-2h18c1.102 0 2 .898 2 2zm-11-10a1.994 1.994 0 0 0-1 3.723v3.277a1 1 0 0 0 2 0v-3.277c.595-.346 1-.985 1-1.723a2 2 0 0 0-2-2"})}))}),e1=e=>{z();const t=C(!1),o=C(null),n=b(R),i=b(S),_=x.isFunction(navigator.share)||x.isFunction(navigator.clipboard.writeText),a=!!navigator.wakeLock,d={title:"Tastoria Recipe",text:Y(e.recipe),url:e.shareURL.href},l=h(()=>u(()=>Promise.resolve().then(()=>v),void 0),"s_rM7E40KemPs",[t,o]),B=h(()=>u(()=>Promise.resolve().then(()=>v),void 0),"s_w9Q687LYp9U",[i,e,d]),L=h(()=>u(()=>Promise.resolve().then(()=>v),void 0),"s_uQK6fcRuFB0"),M=h(()=>u(()=>Promise.resolve().then(()=>v),void 0),"s_qWQDg3eBl9w",[e,n]),E=h(()=>u(()=>Promise.resolve().then(()=>v),void 0),"s_7jbYX0WCHdw",[e,n]);return V("div",null,{class:g.header},[V("h1",null,null,null,3,null),V("div",null,{class:g.headerButtons},[a&&r(w,{icon:!0,get class(){return g.headerButton},children:t.value?r(J,null,3,"8Y_0"):r(U,null,3,"8Y_1"),onClick:l,[s]:{class:s,icon:s,onClick:s}},1,"8Y_2"),_&&r(w,{icon:!0,get class(){return g.headerButton},children:r(G,null,3,"8Y_3"),onClick:B,[s]:{class:s,icon:s,onClick:s}},1,"8Y_4"),r(w,{icon:!0,get class(){return g.headerButton},children:r(Z,null,3,"8Y_5"),onClick:L,[s]:{class:s,icon:s,onClick:s}},1,"8Y_6"),e.onEdit&&r(w,{icon:!0,get class(){return g.headerButton},children:r(X,null,3,"8Y_7"),onClick:h(()=>u(()=>Promise.resolve().then(()=>v),void 0),"s_MWqIAbaxFiI",[e]),[s]:{class:s,icon:s}},1,"8Y_8"),e.onRemove&&r(w,{icon:!0,get class(){return g.headerButton},children:r(K,null,3,"8Y_9"),onClick:h(()=>u(()=>Promise.resolve().then(()=>v),void 0),"s_3zGzBz9HRCY",[E,e]),[s]:{class:s,icon:s}},1,"8Y_10"),e.onDuplicate&&r(w,{icon:!0,get class(){return g.headerButton},children:r(N,null,3,"8Y_11"),onClick:h(()=>u(()=>Promise.resolve().then(()=>v),void 0),"s_0CNWbNkwOdk",[M,e]),[s]:{class:s,icon:s}},1,"8Y_12")],1,null)],1,"8Y_13")},t1=e=>c(p,{children:c("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",strokeWidth:"0",viewBox:"0 0 24 24"},e,{children:[c("path",{d:"M12.75 9a.75.75 0 0 0-1.5 0v2.25H9a.75.75 0 0 0 0 1.5h2.25V15a.75.75 0 0 0 1.5 0v-2.25H15a.75.75 0 0 0 0-1.5h-2.25z"}),c("path",{fillRule:"evenodd",d:"M12 1.25C6.063 1.25 1.25 6.063 1.25 12S6.063 22.75 12 22.75 22.75 17.937 22.75 12 17.937 1.25 12 1.25M2.75 12a9.25 9.25 0 1 1 18.5 0 9.25 9.25 0 0 1-18.5 0",clipRule:"evenodd"})]}))}),s1=O(h(()=>u(()=>import("./q-IKgntnPE.js"),__vite__mapDeps([])),"s_XXjKXZPHCp4")),c1=e=>c(p,{children:c("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",strokeWidth:".004",viewBox:"0 0 423.757 423.757"},e,{children:c("path",{d:"m189.294 385.219 112.522 38.538 98.514-98.509-113.3-37.765zm50.668-6.016c-5.96 5.96-15.672 8.54-21.699 5.76-6.021-2.78-6.077-9.861-.113-15.821 5.96-5.96 15.672-8.54 21.699-5.76 6.026 2.78 6.072 9.861.113 15.821m36.336 12.728c-5.96 5.96-15.672 8.54-21.699 5.76-6.021-2.78-6.077-9.861-.113-15.821 5.965-5.96 15.672-8.54 21.699-5.76 6.022 2.78 6.073 9.861.113 15.821m73.262-56.991c5.96-5.96 15.672-8.54 21.699-5.76 6.021 2.78 6.077 9.861.118 15.821s-15.672 8.54-21.699 5.76-6.077-9.861-.118-15.821m-36.229-11.909c5.96-5.96 15.672-8.54 21.699-5.76 6.021 2.78 6.077 9.861.113 15.821-5.96 5.96-15.672 8.54-21.699 5.76-6.021-2.78-6.072-9.861-.113-15.821m-.916 64.988c6.021 2.78 6.077 9.861.113 15.821-5.96 5.96-15.672 8.54-21.699 5.76s-6.077-9.861-.118-15.821c5.965-5.954 15.677-8.535 21.704-5.76m-13.722-83.481c6.021 2.78 6.077 9.861.113 15.821-5.96 5.96-15.672 8.54-21.699 5.76-6.021-2.78-6.077-9.861-.113-15.821 5.96-5.96 15.673-8.535 21.699-5.76M402.158 311.634l-37.202-111.611-111.611-37.207 37.202 111.606zm-82.877-87.516c4.168-4.168 12.544-2.555 18.708 3.61s7.782 14.541 3.61 18.708c-4.168 4.168-12.544 2.555-18.708-3.61-6.165-6.164-7.783-14.541-3.61-18.708M135.171 0 29.939 52.613l105.231 52.613 105.226-52.613zm0 63.288c-8.714 0-15.785-4.782-15.785-10.675 0-5.898 7.066-10.675 15.785-10.675s15.785 4.782 15.785 10.675c-.006 5.898-7.071 10.675-15.785 10.675M162.22 201.728c5.028-1.853 9.231 1.08 10.685 6.702l63.022-63.022 12.805 4.27V63.529l-106.819 53.412v122.481l10.798-10.798c-1.101-1.951-1.761-4.48-1.761-7.475 0-8.433 5.049-17.127 11.27-19.421m68.736-114.862c6.226-2.294 11.269 2.678 11.269 11.105s-5.043 17.121-11.269 19.415-11.269-2.678-11.269-11.105c-.001-8.428 5.043-17.121 11.269-19.415m-32.113 55.137c6.226-2.294 11.269 2.678 11.269 11.105s-5.043 17.121-11.269 19.415-11.269-2.678-11.269-11.105 5.048-17.121 11.269-19.415m-47.893-1.828c0-8.427 5.043-17.121 11.269-19.415s11.269 2.678 11.269 11.105c0 8.428-5.043 17.121-11.269 19.415-6.225 2.294-11.269-2.677-11.269-11.105M21.599 202.839l105.313 51.579 1.51-1.51V116.941L21.599 63.529zm86.256-1.111c6.226 2.294 11.269 10.988 11.269 19.415s-5.043 13.399-11.269 11.105-11.269-10.988-11.269-19.415 5.049-13.399 11.269-11.105m-32.844-61.43c6.226 2.294 11.269 10.987 11.269 19.415s-5.043 13.399-11.269 11.105-11.269-10.988-11.269-19.415c-.001-8.427 5.048-13.399 11.269-11.105M41.208 86.866c6.226 2.294 11.269 10.987 11.269 19.415s-5.043 13.399-11.269 11.105-11.269-10.987-11.269-19.415 5.043-13.399 11.269-11.105M239.726 164.639l-98.514 98.504 38.543 112.533 97.736-97.746zm-42.071 173.926c-5.96 5.96-13.046 5.909-15.821-.118-2.775-6.026-.2-15.739 5.76-21.699s13.046-5.909 15.821.113.2 15.744-5.76 21.704m32.87-116.792c-5.96 5.96-13.046 5.908-15.821-.113-2.78-6.021-.2-15.739 5.76-21.699s13.046-5.908 15.821.113c2.781 6.026.2 15.739-5.76 21.699"})}))}),n1="\"../../variables.css\"",o1="#00b27c",a1="#1a602e",l1="#134741",r1="#2e2d32",i1="_header_5dp0j_4",d1="_search_5dp0j_10",h1="_headerButtons_5dp0j_15",u1="_headerButton_5dp0j_15",f={colors:n1,primary_1:o1,primary_2:a1,primary_3:l1,text_1:r1,header:i1,search:d1,headerButtons:h1,headerButton:u1},v1=e=>{const t=C(""),o=b(R),n={tags:[],categories:[]};Object.values(o.all).filter(a=>!a.deletedAt).forEach(a=>{a.tags.forEach(d=>k(n.tags,d,a.id)),a.categories.forEach(d=>k(n.categories,d,a.id))});const i=[...n.categories.map(a=>({label:`${a.value} (${a.items.length})`,id:`category_${a.value}`,isSelected:C(!1)})),...n.tags.map(a=>({label:`${a.value} (${a.items.length})`,id:`tags_${a.value}`,isSelected:C(!1)}))];H(h(()=>u(()=>Promise.resolve().then(()=>v),void 0),"s_amoFc1H8aQo",[i,e,n,t]));const _=h(()=>u(()=>Promise.resolve().then(()=>v),void 0),"s_oiYY4piAuSE",[e]);return V("div",null,{class:f.header},[r(s1,{get class(){return f.search},options:i,search:t,[s]:{class:s,search:s}},3,"Rs_0"),V("div",null,{class:f.headerButtons},[r(w,{icon:!0,get class(){return f.headerButton},children:r(c1,null,3,"Rs_1"),onClick:_,[s]:{class:s,icon:s,onClick:s}},1,"Rs_2"),r(y,{get class(){return f.headerButton},children:r(t1,null,3,"Rs_3"),href:"/recipes/create",[s]:{class:s,href:s}},1,"Rs_4")],1,null)],1,"Rs_5")},_1=()=>{const[e,t,o]=m();if(x.isFunction(navigator.share)&&navigator.share(o),x.isFunction(navigator.clipboard.writeText)){navigator.clipboard.writeText(`${o.text}

${o.url}`);const n=`${t.recipe.id}.clipboard`;e.toasts[n]={id:n,type:"success",text:"Copied to Clipboard"}}},m1=async()=>{const[e,t]=m(),o=await e();t.onDuplicate.submit(o)},p1=()=>{const[e,t]=m();e.recipe.deletedAt=new Date().toISOString(),e.recipe.updatedAt=new Date().toISOString(),t.lastChanged.value=new Date},g1=()=>{const[e,t]=m(),o={...e.recipe,id:A(),version:j,visits:0,favorite:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return t.all[o.id]=o,t.lastChanged.value=new Date,o},w1=async()=>{const[e,t]=m();function o(){e.value=!1}if(e.value&&t.value)t.value.release();else{const n=await navigator.wakeLock.request("screen");e.value=!0,n.addEventListener("release",o),t.value=P(n)}},v=Object.freeze(Object.defineProperty({__proto__:null,_hW:D,s_0CNWbNkwOdk:m1,s_3zGzBz9HRCY:Q,s_7jbYX0WCHdw:p1,s_MWqIAbaxFiI:q,s_amoFc1H8aQo:T,s_d1rp0xY1k0o:e1,s_gBrGKsUDvF8:v1,s_oiYY4piAuSE:W,s_qWQDg3eBl9w:g1,s_rM7E40KemPs:w1,s_uQK6fcRuFB0:F,s_w9Q687LYp9U:_1},Symbol.toStringTag,{value:"Module"}));export{D as _hW,m1 as s_0CNWbNkwOdk,Q as s_3zGzBz9HRCY,p1 as s_7jbYX0WCHdw,q as s_MWqIAbaxFiI,T as s_amoFc1H8aQo,e1 as s_d1rp0xY1k0o,v1 as s_gBrGKsUDvF8,W as s_oiYY4piAuSE,g1 as s_qWQDg3eBl9w,w1 as s_rM7E40KemPs,F as s_uQK6fcRuFB0,_1 as s_w9Q687LYp9U};function __vite__mapDeps(indexes){if(!__vite__mapDeps.viteFileDeps){__vite__mapDeps.viteFileDeps=[]}return indexes.map(i=>__vite__mapDeps.viteFileDeps[i])}