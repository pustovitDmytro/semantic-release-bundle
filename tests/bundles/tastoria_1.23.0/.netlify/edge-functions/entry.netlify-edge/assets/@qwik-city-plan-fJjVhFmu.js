var $S=Object.defineProperty;var SS=(e,t,n)=>t in e?$S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var eo=(e,t,n)=>(SS(e,typeof t!="symbol"?t+"":t,n),n);import Qu from"node:crypto";import{Buffer as Va}from"node:buffer";const IS=!0,TS=!1;/**
 * @license
 * @builder.io/qwik 1.4.0
 * Copyright Builder.io, Inc. All Rights Reserved.
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/BuilderIO/qwik/blob/main/LICENSE
 */const oi=e=>e&&typeof e.nodeType=="number",t1=e=>e.nodeType===9,ai=e=>e.nodeType===1,ci=e=>{const t=e.nodeType;return t===1||t===111},xS=e=>{const t=e.nodeType;return t===1||t===111||t===3},nr=e=>e.nodeType===111,Nh=e=>e.nodeType===3,pa=e=>e.nodeType===8,xi=(e,...t)=>Dh(!0,e,...t),n1=(e,...t)=>{throw Dh(!1,e,...t)},Ph=(e,...t)=>Dh(!0,e,...t),Do=()=>{},AS=e=>e,Dh=(e,t,...n)=>{const r=t instanceof Error?t:new Error(t);return console.error("%cQWIK ERROR","",r.stack||r.message,...AS(n)),e&&setTimeout(()=>{throw r},0),r};const $t=(e,...t)=>{const n=dl(e);return Ph(n,...t)},dl=e=>`Code(${e})`,RS=()=>({isServer:IS,importSymbol(e,t,n){var s;{const o=vy(n),a=(s=globalThis.__qwik_reg_symbols)==null?void 0:s.get(o);if(a)return a}if(!t)throw $t(31,n);if(!e)throw $t(30,t,n);const r=CS(e.ownerDocument,e,t).toString(),i=new URL(r);return i.hash="",i.search="",import(i.href).then(o=>o[n])},raf:e=>new Promise(t=>{requestAnimationFrame(()=>{t(e())})}),nextTick:e=>new Promise(t=>{setTimeout(()=>{t(e())})}),chunkForSymbol:(e,t)=>[e,t??"_"]}),CS=(e,t,n)=>{const r=e.baseURI,i=new URL(t.getAttribute("q:base")??r,r);return new URL(n,i)};let Mh=RS();const jY=e=>Mh=e,fl=()=>Mh,rr=()=>Mh.isServer,ma=e=>{const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null},ar=e=>!!e&&typeof e=="object",et=e=>Array.isArray(e),Hr=e=>typeof e=="string",yn=e=>typeof e=="function",Rt=e=>e&&typeof e.then=="function",hl=(e,t,n)=>{try{const r=e();return Rt(r)?r.then(t,n):t(r)}catch(r){return n(r)}},Ue=(e,t)=>Rt(e)?e.then(t):t(e),Lh=e=>e.some(Rt)?Promise.all(e):e,$c=e=>e.length>0?Promise.all(e):e,r1=e=>e!=null,OS=e=>new Promise(t=>{setTimeout(t,e)}),Qn=[],_n={},_a=e=>typeof document<"u"?document:e.nodeType===9?e:e.ownerDocument,bn="q:slot",pl="q:style",of=Symbol("proxy target"),os=Symbol("proxy flags"),Zn=Symbol("proxy manager"),H=Symbol("IMMUTABLE"),ml="_qc_",gn=(e,t,n)=>e.setAttribute(t,n),Un=(e,t)=>e.getAttribute(t),Fh=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase(),kS=e=>e.replace(/-./g,t=>t[1].toUpperCase()),Qm=Symbol("ContainerState"),Ls=e=>{let t=e[Qm];return t||(e[Qm]=t=Uh(e,Un(e,"q:base")??"/")),t},Uh=(e,t)=>{const n={$containerEl$:e,$elementIndex$:0,$styleMoved$:!1,$proxyMap$:new WeakMap,$opsNext$:new Set,$taskNext$:new Set,$taskStaging$:new Set,$hostsNext$:new Set,$hostsStaging$:new Set,$styleIds$:new Set,$events$:new Set,$serverData$:{},$base$:t,$renderPromise$:void 0,$hostsRendering$:void 0,$pauseCtx$:void 0,$subsManager$:null,$inlineFns$:new Map};return n.$subsManager$=wx(n),n},Bh=(e,t)=>{if(yn(e))return e(t);if(ar(e)&&"value"in e)return e.value=t;throw $t(32,e)},NS=e=>ai(e)&&e.hasAttribute("q:container"),Gr=e=>e.toString(36),jn=e=>parseInt(e,36),i1=e=>{const t=e.indexOf(":");return e&&kS(e.slice(t+1))},PS=/^(on|window:|document:)/,s1="preventdefault:",zh=e=>e.endsWith("$")&&PS.test(e),qh=e=>{if(e.length===0)return Qn;if(e.length===1){const n=e[0];return[[n[0],[n[1]]]]}const t=[];for(let n=0;n<e.length;n++){const r=e[n][0];t.includes(r)||t.push(r)}return t.map(n=>[n,e.filter(r=>r[0]===n).map(r=>r[1])])},Wh=(e,t,n,r)=>{if(t.endsWith("$"),t=af(t.slice(0,-1)),n)if(et(n)){const i=n.flat(1/0).filter(s=>s!=null).map(s=>[t,Jm(s,r)]);e.push(...i)}else e.push([t,Jm(n,r)]);return t},Zm=["on","window:on","document:on"],DS=["on","on-window","on-document"],af=e=>{let t="on";for(let n=0;n<Zm.length;n++){const r=Zm[n];if(e.startsWith(r)){t=DS[n],e=e.slice(r.length);break}}return t+":"+(e=e.startsWith("-")?Fh(e.slice(1)):e.toLowerCase())},Jm=(e,t)=>(e.$setContainer$(t),e),MS=(e,t)=>{const n=e.$element$.attributes,r=[];for(let i=0;i<n.length;i++){const{name:s,value:o}=n.item(i);if(s.startsWith("on:")||s.startsWith("on-window:")||s.startsWith("on-document:")){const a=o.split(`
`);for(const c of a){const l=wl(c,t);l.$capture$&&oy(l,e),r.push([s,l])}}}return r},LS=(e,t)=>{a1(o1(e,void 0),t)},e_=(e,t)=>{a1(o1(e,"document"),t)},o1=(e,t)=>{const n=t!==void 0?t+":":"";return Array.isArray(e)?e.map(r=>`${n}on-${r}`):`${n}on-${e}`},a1=(e,t)=>{if(t){const n=L1(),r=on(n.$hostElement$,n.$renderCtx$.$static$.$containerState$);typeof e=="string"?r.li.push([af(e),t]):r.li.push(...e.map(i=>[af(i),t])),r.$flags$|=Qr}},FS=(e,t,n,r)=>{typeof CustomEvent=="function"&&e&&e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:r,composed:r}))},xt=(e,t,n)=>new cf(e,t,n),US=e=>{const t=e.$funcStr$;let n="";for(let r=0;r<e.$args$.length;r++)n+=`p${r},`;return`(${n})=>(${t})`};var c1;const BS=(e,t,n,r)=>{const i=t.$subsManager$.$createManager$(r);return new Lo(e,i,n)},Mo=Symbol("proxy manager"),l1=Symbol("unassigned signal");class ga{}class Lo extends ga{constructor(t,n,r){super(),this[c1]=0,this.untrackedValue=t,this[Zn]=n,this[Mo]=r}valueOf(){}toString(){return`[Signal ${String(this.value)}]`}toJSON(){return{value:this.value}}get value(){var n;if(2&this[Mo])throw l1;const t=(n=_r())==null?void 0:n.$subscriber$;return t&&this[Zn].$addSub$(t),this.untrackedValue}set value(t){const n=this[Zn];n&&this.untrackedValue!==t&&(this.untrackedValue=t,n.$notifySubs$())}}c1=Mo;class cf extends ga{constructor(t,n,r){super(),this.$func$=t,this.$args$=n,this.$funcStr$=r}get value(){return this.$func$.apply(void 0,this.$args$)}}class lf extends ga{constructor(t,n){super(),this.ref=t,this.prop=n}get[Zn](){return tn(this.ref)}get value(){return this.ref[this.prop]}set value(t){this.ref[this.prop]=t}}const Gt=e=>e instanceof ga,Cn=(e,t)=>{var i,s;if(!ar(e))return e[t];if(e instanceof ga)return e;const n=Wi(e);if(n){const o=n["$$"+t];if(o)return o;if(((i=n[H])==null?void 0:i[t])!==!0)return new lf(e,t)}const r=(s=e[H])==null?void 0:s[t];return Gt(r)?r:H},Mn=(e,t)=>{const n=Cn(e,t);return n===H?e[t]:n},jh=(e,t,n=0)=>t.$proxyMap$.get(e)||(n!==0&&gl(e,n),Fs(e,t,void 0)),Fs=(e,t,n)=>{$a(e),t.$proxyMap$.has(e);const r=t.$subsManager$.$createManager$(n),i=new Proxy(e,new u1(t,r));return t.$proxyMap$.set(e,i),i},_l=()=>{const e={};return gl(e,2),e},gl=(e,t)=>{Object.defineProperty(e,os,{value:t,enumerable:!1})};class u1{constructor(t,n){this.$containerState$=t,this.$manager$=n}deleteProperty(t,n){if(2&t[os])throw $t(17);return typeof n=="string"&&delete t[n]&&(this.$manager$.$notifySubs$(et(t)?void 0:n),!0)}get(t,n){var l;if(typeof n=="symbol")return n===of?t:n===Zn?this.$manager$:t[n];const r=t[os]??0,i=_r(),s=(1&r)!=0,o=t["$$"+n];let a,c;if(i&&(a=i.$subscriber$),!(2&r)||n in t&&!zS((l=t[H])==null?void 0:l[n])||(a=null),o?(c=o.value,a=null):c=t[n],a){const u=et(t);this.$manager$.$addSub$(a,u?void 0:n)}return s?qS(c,this.$containerState$):c}set(t,n,r){if(typeof n=="symbol")return t[n]=r,!0;const i=t[os]??0;if(2&i)throw $t(17);const s=1&i?$a(r):r;if(et(t))return t[n]=s,this.$manager$.$notifySubs$(),!0;const o=t[n];return t[n]=s,o!==s&&this.$manager$.$notifySubs$(n),!0}has(t,n){if(n===of)return!0;const r=Object.prototype.hasOwnProperty;return!!r.call(t,n)||!(typeof n!="string"||!r.call(t,"$$"+n))}ownKeys(t){if(!(2&(t[os]??0))){let r=null;const i=_r();i&&(r=i.$subscriber$),r&&this.$manager$.$addSub$(r)}return et(t)?Reflect.ownKeys(t):Reflect.ownKeys(t).map(r=>typeof r=="string"&&r.startsWith("$$")?r.slice(2):r)}getOwnPropertyDescriptor(t,n){return et(t)||typeof n=="symbol"?Object.getOwnPropertyDescriptor(t,n):{enumerable:!0,configurable:!0}}}const zS=e=>e===H||Gt(e),qS=(e,t)=>{if(ar(e)){if(Object.isFrozen(e))return e;const n=$a(e);if(n!==e||py(n))return e;if(ma(n)||et(n))return t.$proxyMap$.get(n)||jh(n,t,1)}return e},WS=(e,t=0)=>{for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return Number(Math.abs(t)).toString(36)},jS=(e,t)=>`${WS(e.$hash$)}-${t}`,VS=e=>"â­ï¸"+e,d1=e=>{const t=e.join("|");if(t.length>0)return t};var f1;const mc="<!--qkssr-f-->";class h1{constructor(t){this.nodeType=t,this[f1]=null}}f1=ml;const HS=()=>new h1(9),VY=async(e,t)=>{var p,g,h;const n=t.containerTagName,r=Sc(1).$element$,i=Uh(r,t.base??"/");i.$serverData$.locale=(p=t.serverData)==null?void 0:p.locale;const s=HS(),o=B1(s,i),a=t.beforeContent??[],c={$static$:{$contexts$:[],$headNodes$:n==="html"?a:[],$locale$:(g=t.serverData)==null?void 0:g.locale,$textNodes$:new Map},$projectedChildren$:void 0,$projectedCtxs$:void 0,$invocationContext$:void 0};let l="ssr";t.containerAttributes["q:render"]&&(l=`${t.containerAttributes["q:render"]}-${l}`);const u={...t.containerAttributes,"q:container":"paused","q:version":"1.4.0","q:render":l,"q:base":t.base,"q:locale":(h=t.serverData)==null?void 0:h.locale,"q:manifest-hash":t.manifestHash},d=n==="html"?[e]:[a,e];n!=="html"&&(u.class="qcðŸ“¦"+(u.class?" "+u.class:"")),t.serverData&&(i.$serverData$=t.serverData);const f=W(n,null,u,d,Is|Qr,null);i.$hostsRendering$=new Set,await Promise.resolve().then(()=>GS(f,o,c,t.stream,i,t))},GS=async(e,t,n,r,i,s)=>{const o=s.beforeClose;return await Hh(e,t,n,r,0,o?a=>{const c=o(n.$static$.$contexts$,i,!1,n.$static$.$textNodes$);return Nn(c,t,n,a,0,void 0)}:void 0),t},YS=async(e,t,n,r,i)=>{r.write(mc);const s=e.props.children;let o;if(yn(s)){const a=s({write(c){r.write(c),r.write(mc)}});if(Rt(a))return a;o=a}else o=s;for await(const a of o)await Nn(a,t,n,r,i,void 0),r.write(mc)},p1=(e,t,n,r,i,s,o,a)=>{var h;const c=e.props,l=c["q:renderFn"];if(l)return t.$componentQrl$=l,QS(r,i,s,t,e,o,a);let u="<!--qv"+XS(c);const d="q:s"in c,f=e.key!=null?String(e.key):null;d&&((h=r.$cmpCtx$)==null||h.$id$,u+=" q:sref="+r.$cmpCtx$.$id$),f!=null&&(u+=" q:key="+f),u+="-->",s.write(u);const p=e.props[en];if(p)return s.write(p),void s.write(Zu);if(n)for(const m of n)Vh(m.type,m.props,s);const g=m1(e.children,r,i,s,o);return Ue(g,()=>{var _;if(!d&&!a)return void s.write(Zu);let m;if(d){const v=(_=i.$projectedChildren$)==null?void 0:_[f];if(v){const[y,b]=i.$projectedCtxs$,$=ya(y);$.$slotCtx$=t,i.$projectedChildren$[f]=void 0,m=Nn(v,$,b,s,o)}}return a&&(m=Ue(m,()=>a(s))),Ue(m,()=>{s.write(Zu)})})},Zu="<!--/qv-->",KS=e=>{let t="";for(const n in e){if(n===en)continue;const r=e[n];r!=null&&(t+=" "+(r===""?n:n+'="'+r+'"'))}return t},XS=e=>{let t="";for(const n in e){if(n==="children"||n===en)continue;const r=e[n];r!=null&&(t+=" "+(r===""?n:n+"="+r))}return t},Vh=(e,t,n)=>{if(n.write("<"+e+KS(t)+">"),v1[e])return;const r=t[en];r!=null&&n.write(r),n.write(`</${e}>`)},QS=(e,t,n,r,i,s,o)=>(JS(e,r,i.props.props),Ue(Ic(e,r),a=>{const c=r.$element$,l=a.rCtx,u=Ln(t.$static$.$locale$,c,void 0);u.$subscriber$=[0,c],u.$renderCtx$=l;const d={$static$:t.$static$,$projectedChildren$:ZS(i.children,t),$projectedCtxs$:[e,t],$invocationContext$:u},f=[];if(r.$appendStyles$){const m=4&s?t.$static$.$headNodes$:f;for(const _ of r.$appendStyles$)m.push(W("style",{[pl]:_.styleId,[en]:_.content,hidden:""},null,null,0,null))}const p=Uo(e),g=r.$scopeIds$?d1(r.$scopeIds$):void 0,h=de(i.type,{"q:sstyle":g,"q:id":p,children:a.node},0,i.key);return r.$id$=p,t.$static$.$contexts$.push(r),p1(h,r,f,l,d,n,s,m=>{if(r.$flags$&Qr){const y=Sc(1),b=y.li;b.push(...r.li),r.$flags$&=~Qr,y.$id$=Uo(e);const $={type:"placeholder",hidden:"","q:id":y.$id$};t.$static$.$contexts$.push(y);const S=qh(b);for(const I of S){const x=y1(I[0]);$[x]=fp(I[1],e.$static$.$containerState$,y),uf(x,e.$static$.$containerState$)}Vh("script",$,m)}const _=d.$projectedChildren$;let v;if(_){const y=Object.keys(_).map(I=>{const x=_[I];if(x)return W("q:template",{[bn]:I||!0,hidden:!0,"aria-hidden":"true"},null,x,0,null)}),[b,$]=d.$projectedCtxs$,S=ya(b);S.$slotCtx$=r,v=Nn(y,S,$,m,0,void 0)}return o?Ue(v,()=>o(m)):v})})),ZS=(e,t)=>{const n=_1(e,t);if(n===null)return;const r={};for(const i of n){let s="";qi(i)&&(s=i.props[bn]||""),(r[s]||(r[s]=[])).push(i)}return r},Sc=e=>{const t=new h1(e);return vl(t)},Hh=(e,t,n,r,i,s)=>{var l;const o=e.type,a=t.$cmpCtx$;if(typeof o=="string"){const u=e.key,d=e.props,f=e.immutableProps,p=Sc(1),g=p.$element$,h=o==="head";let m="<"+o,_=!1,v=!1,y="",b=null;const $=(x,A,C)=>{if(x==="ref")return void(A!==void 0&&(Bh(A,g),v=!0));if(zh(x))return void Wh(p.li,x,A,void 0);if(Gt(A)&&(A=gr(A,C?[1,g,A,a.$element$,x]:[2,a.$element$,A,g,x]),_=!0),x===en)return void(b=A);let N;x.startsWith(s1)&&uf(x.slice(15),t.$static$.$containerState$);const T=x==="htmlFor"?"for":x;T==="class"?y=Tc(A):T==="style"?N=yl(A):q1(T)||T==="draggable"||T==="spellcheck"?(N=A!=null?String(A):null,A=N):N=A===!1||A==null?null:String(A),N!=null&&(T==="value"&&o==="textarea"?b=df(N):sI(T)||(m+=" "+(A===!0?T:T+'="'+Ju(N)+'"')))};if(f)for(const x in f)$(x,f[x],!0);for(const x in d)$(x,d[x],!1);const S=p.li;if(a){if((l=a.$scopeIds$)!=null&&l.length){const x=a.$scopeIds$.join(" ");y=y?`${x} ${y}`:x}a.$flags$&Qr&&(S.push(...a.li),a.$flags$&=~Qr)}if(h&&(i|=1),o in eI&&(i|=16),o in tI&&(i|=8),y&&(m+=' class="'+Ju(y)+'"'),S.length>0){const x=qh(S),A=(16&i)!=0;for(const C of x){const N=A?y1(C[0]):C[0];m+=" "+N+'="'+fp(C[1],t.$static$.$containerState$,p)+'"',uf(N,t.$static$.$containerState$)}}if(u!=null&&(m+=' q:key="'+Ju(u)+'"'),v||_||S.length>0){if(v||_||oI(S)){const x=Uo(t);m+=' q:id="'+x+'"',p.$id$=x}n.$static$.$contexts$.push(p)}if(1&i&&(m+=" q:head"),m+=">",r.write(m),o in v1)return;if(b!=null)return r.write(String(b)),void r.write(`</${o}>`);o==="html"?i|=4:i&=-5,e.flags&zo&&(i|=1024);const I=Nn(e.children,t,n,r,i);return Ue(I,()=>{if(h){for(const x of n.$static$.$headNodes$)Vh(x.type,x.props,r);n.$static$.$headNodes$.length=0}if(s)return Ue(s(r),()=>{r.write(`</${o}>`)});r.write(`</${o}>`)})}if(o===Yr){const u=Sc(111);return t.$slotCtx$?(u.$parentCtx$=t.$slotCtx$,u.$realParentCtx$=t.$cmpCtx$):u.$parentCtx$=t.$cmpCtx$,a&&a.$flags$&np&&aI(a,u),p1(e,u,void 0,t,n,r,i,s)}if(o===b1)return void r.write(e.props.data);if(o===w1)return YS(e,t,n,r,i);const c=an(n.$invocationContext$,o,e.props,e.key,e.flags,e.dev);return W1(c,e)?Hh(de(Yr,{children:c},0,e.key),t,n,r,i,s):Nn(c,t,n,r,i,s)},Nn=(e,t,n,r,i,s)=>{var o;if(e!=null&&typeof e!="boolean"){if(!Hr(e)&&typeof e!="number"){if(qi(e))return Hh(e,t,n,r,i,s);if(et(e))return m1(e,t,n,r,i);if(Gt(e)){const a=8&i,c=(o=t.$cmpCtx$)==null?void 0:o.$element$;let l;if(c){if(!a){const u=Uo(t);if(l=gr(e,1024&i?[3,"#"+u,e,"#"+u]:[4,c,e,"#"+u]),Hr(l)){const d=Bo(l);n.$static$.$textNodes$.set(d,u)}return r.write(`<!--t=${u}-->`),Nn(l,t,n,r,i,s),void r.write("<!---->")}l=an(n.$invocationContext$,()=>e.value)}return void r.write(df(Bo(l)))}return Rt(e)?(r.write(mc),e.then(a=>Nn(a,t,n,r,i,s))):void Do()}r.write(df(String(e)))}},m1=(e,t,n,r,i)=>{if(e==null)return;if(!et(e))return Nn(e,t,n,r,i);const s=e.length;if(s===1)return Nn(e[0],t,n,r,i);if(s===0)return;let o=0;const a=[];return e.reduce((c,l,u)=>{const d=[];a.push(d);const f=Nn(l,t,n,c?{write(p){o===u?r.write(p):d.push(p)}}:r,i);if(c||Rt(f)){const p=()=>{o++,a.length>o&&a[o].forEach(g=>r.write(g))};return Rt(f)?c?Promise.all([f,c]).then(p):f.then(p):c.then(p)}o++},void 0)},_1=(e,t)=>{if(e==null)return null;const n=g1(e,t),r=et(n)?n:[n];return r.length===0?null:r},g1=(e,t)=>{if(e==null)return null;if(et(e))return e.flatMap(n=>g1(n,t));if(qi(e)&&yn(e.type)&&e.type!==b1&&e.type!==w1&&e.type!==Yr){const n=an(t.$invocationContext$,e.type,e.props,e.key,e.flags);return _1(n,t)}return e},JS=(e,t,n)=>{const r=Object.keys(n),i=_l();if(t.$props$=Fs(i,e.$static$.$containerState$),r.length===0)return;const s=i[H]=n[H]??_n;for(const o of r)o!=="children"&&o!==bn&&(Gt(s[o])?i["$$"+o]=s[o]:i[o]=n[o])},eI={head:!0,style:!0,script:!0,link:!0,meta:!0},tI={title:!0,style:!0,script:!0,noframes:!0,textarea:!0},v1={area:!0,base:!0,basefont:!0,bgsound:!0,br:!0,col:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},nI=/[&<>]/g,rI=/[&"]/g,uf=(e,t)=>{t.$events$.add(i1(e))},df=e=>e.replace(nI,t=>{switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return""}}),Ju=e=>e.replace(rI,t=>{switch(t){case"&":return"&amp;";case'"':return"&quot;";default:return""}}),iI=/[>/="'\u0009\u000a\u000c\u0020]/,sI=e=>iI.test(e),oI=e=>e.some(t=>t[1].$captureRef$&&t[1].$captureRef$.length>0),aI=(e,t)=>{const n=e.$dynamicSlots$||(e.$dynamicSlots$=[]);n.includes(t)||n.push(t)},y1=e=>e==="on:qvisible"?"on-document:qinit":e,W=(e,t,n,r,i,s)=>{const o=s==null?null:String(s);return new Us(e,t||_n,n,r,i,o)},cI=(e,t,n,r,i,s)=>{let o=null;return t&&"children"in t&&(o=t.children,delete t.children),W(e,t,n,o,r,i)},de=(e,t,n,r,i)=>{const s=r==null?null:String(r),o=t??{};if(typeof e=="string"&&H in o){const c=o[H];delete o[H];const l=o.children;delete o.children;for(const[u,d]of Object.entries(c))d!==H&&(delete o[u],o[u]=d);return W(e,null,o,l,n,r)}const a=new Us(e,o,null,o.children,n,s);return typeof e=="string"&&t&&delete t.children,a},Ke=(e,t,n)=>{const r=n==null?null:String(n),i=hs(()=>{const o=t.children;return typeof e=="string"&&delete t.children,o});return Hr(e)&&"className"in t&&(t.class=t.className,delete t.className),new Us(e,t,null,i,0,r)};class Us{constructor(t,n,r,i,s,o=null){this.type=t,this.props=n,this.immutableProps=r,this.children=i,this.flags=s,this.key=o}}const Yr=e=>e.children,qi=e=>e instanceof Us,St=e=>e.children,Gh=Symbol("skip render"),b1=()=>null,w1=()=>null,Yh=(e,t,n)=>{const r=!(t.$flags$&tp),i=t.$element$,s=e.$static$.$containerState$;return s.$hostsStaging$.delete(t),s.$subsManager$.$clearSub$(i),Ue(Ic(e,t),o=>{const a=e.$static$,c=o.rCtx,l=Ln(e.$static$.$locale$,i);if(a.$hostElements$.add(i),l.$subscriber$=[0,i],l.$renderCtx$=c,r&&t.$appendStyles$)for(const d of t.$appendStyles$)dT(a,d);const u=Kr(o.node,l);return Ue(u,d=>{const f=lI(i,d),p=Kh(t);return Ue(Rc(c,p,f,n),()=>{t.$vdom$=f})})})},Kh=e=>(e.$vdom$||(e.$vdom$=Cc(e.$element$)),e.$vdom$);class fr{constructor(t,n,r,i,s,o){this.$type$=t,this.$props$=n,this.$immutableProps$=r,this.$children$=i,this.$flags$=s,this.$key$=o,this.$elm$=null,this.$text$="",this.$signal$=null,this.$id$=t+(o?":"+o:"")}}const E1=(e,t)=>{const{key:n,type:r,props:i,children:s,flags:o,immutableProps:a}=e;let c="";if(Hr(r))c=r;else{if(r!==Yr){if(yn(r)){const u=an(t,r,i,n,o,e.dev);return W1(u,e)?E1(de(Yr,{children:u},0,n),t):Kr(u,t)}throw $t(25,r)}c=Ts}let l=Qn;return s!=null?Ue(Kr(s,t),u=>(u!==void 0&&(l=et(u)?u:[u]),new fr(c,i,a,l,o,n))):new fr(c,i,a,l,o,n)},lI=(e,t)=>{const n=t===void 0?Qn:et(t)?t:[t],r=new fr(":virtual",{},null,n,0,null);return r.$elm$=e,r},Kr=(e,t)=>{if(e!=null&&typeof e!="boolean"){if($1(e)){const n=new fr("#text",_n,null,Qn,0,null);return n.$text$=String(e),n}if(qi(e))return E1(e,t);if(Gt(e)){const n=new fr("#signal",_n,null,Qn,0,null);return n.$signal$=e,n}if(et(e)){const n=Lh(e.flatMap(r=>Kr(r,t)));return Ue(n,r=>r.flat(100).filter(r1))}return Rt(e)?e.then(n=>Kr(n,t)):e===Gh?new fr(":skipRender",_n,null,Qn,0,null):void Do()}},$1=e=>Hr(e)||typeof e=="number",S1=e=>{Un(e,"q:container")==="paused"&&(fI(e),vI(e))},uI=e=>{const t=_a(e),n=_I(e===t.documentElement?t.body:e,"type");if(n)return JSON.parse(pI(n.firstChild.data)||"{}")},dI=(e,t)=>{const n=JSON.parse(e);if(typeof n!="object")return null;const{_objs:r,_entry:i}=n;if(r===void 0||i===void 0)return null;let s={},o={};if(oi(t)&&ci(t)){const l=rp(t);l&&(o=Ls(l),s=l.ownerDocument)}const a=fy(o,s);for(let l=0;l<r.length;l++){const u=r[l];Hr(u)&&(r[l]=u===El?void 0:a.prepare(u))}const c=l=>r[jn(l)];for(const l of r)I1(l,c,a);return c(i)},fI=e=>{if(!NS(e))return void Do();const t=e._qwikjson_??uI(e);if(e._qwikjson_=null,!t)return void Do();const n=_a(e),r=mI(e),i=Ls(e),s=new Map,o=new Map;let a=null,c=0;const l=n.createTreeWalker(e,128);for(;a=l.nextNode();){const m=a.data;if(c===0){if(m.startsWith("qv ")){const _=yI(m);_>=0&&s.set(_,a)}else if(m.startsWith("t=")){const _=m.slice(2),v=jn(_),y=gI(a);s.set(v,y),o.set(v,y.data)}}m==="cq"?c++:m==="/cq"&&c--}const u=e.getElementsByClassName("qcðŸ“¦").length!==0;e.querySelectorAll("[q\\:id]").forEach(m=>{if(u&&m.closest("[q\\:container]")!==e)return;const _=Un(m,"q:id"),v=jn(_);s.set(v,m)});const d=fy(i,n),f=new Map,p=new Set,g=m=>(typeof m=="string"&&m.length>0,f.has(m)?f.get(m):h(m)),h=m=>{if(m.startsWith("#")){const $=m.slice(1),S=jn($);s.has(S);const I=s.get(S);if(pa(I)){if(!I.isConnected)return void f.set(m,void 0);const x=wa(I);return f.set(m,x),on(x,i),x}return ai(I)?(f.set(m,I),on(I,i),I):(f.set(m,I),I)}if(m.startsWith("@")){const $=m.slice(1),S=jn($);return r[S]}if(m.startsWith("*")){const $=m.slice(1),S=jn($);s.has(S);const I=o.get(S);return f.set(m,I),I}const _=jn(m),v=t.objs;v.length>_;let y=v[_];Hr(y)&&(y=y===El?void 0:d.prepare(y));let b=y;for(let $=m.length-1;$>=0;$--){const S=px[m[$]];if(!S)break;b=S(b,i)}return f.set(m,b),$1(y)||p.has(_)||(p.add(_),hI(y,_,t.subs,g,i,d),I1(y,g,d)),b};i.$elementIndex$=1e5,i.$pauseCtx$={getObject:g,meta:t.ctx,refs:t.refs},gn(e,"q:container","resumed"),FS(e,"qresume",void 0,!0)},hI=(e,t,n,r,i,s)=>{const o=n[t];if(o){const a=[];let c=0;for(const l of o)if(l.startsWith("_"))c=parseInt(l.slice(1),10);else{const u=bx(l,r);u&&a.push(u)}if(c>0&&gl(e,c),!s.subs(e,a)){const l=i.$proxyMap$.get(e);l?tn(l).$addSubs$(a):Fs(e,i,a)}}},I1=(e,t,n)=>{if(!n.fill(e,t)&&e&&typeof e=="object"){if(et(e))for(let r=0;r<e.length;r++)e[r]=t(e[r]);else if(ma(e))for(const r in e)e[r]=t(e[r])}},pI=e=>e.replace(/\\x3C(\/?script)/gi,"<$1"),mI=e=>e.qFuncs??Qn,_I=(e,t)=>{let n=e.lastElementChild;for(;n;){if(n.tagName==="SCRIPT"&&Un(n,t)==="qwik/json")return n;n=n.previousElementSibling}},gI=e=>{const t=e.nextSibling;if(Nh(t))return t;{const n=e.ownerDocument.createTextNode("");return e.parentElement.insertBefore(n,e),n}},vI=e=>{e.qwik={pause:()=>xT(e),state:Ls(e)}},yI=e=>{const t=e.indexOf("q:id=");return t>0?jn(e.slice(t+5)):-1},Ze=()=>{const e=M1();let t=e.$qrl$;if(t)t.$captureRef$;else{const n=e.$element$,r=rp(n);t=wl(decodeURIComponent(String(e.$url$)),r),S1(r);const i=on(n,Ls(r));oy(t,i)}return t.$captureRef$},bI=(e,t)=>{try{const n=t[0],r=e.$static$;switch(n){case 1:case 2:{let i,s;n===1?(i=t[1],s=t[3]):(i=t[3],s=t[1]);const o=wn(i);if(o==null)return;const a=t[4],c=i.namespaceURI===ba;r.$containerState$.$subsManager$.$clearSignal$(t);let l=gr(t[2],t.slice(0,-1));a==="class"?l=ip(l,wn(s)):a==="style"&&(l=yl(l));const u=Kh(o);return a in u.$props$&&u.$props$[a]===l?void 0:(u.$props$[a]=l,op(r,i,a,l,c))}case 3:case 4:{const i=t[3];if(!r.$visited$.includes(i)){r.$containerState$.$subsManager$.$clearSignal$(t);const s=void 0;let o=gr(t[2],t.slice(0,-1));const a=$x();Array.isArray(o)&&(o=new Us(Yr,{},null,o,0,null));let c=Kr(o,s);if(Rt(c))xi("Rendering promises in JSX signals is not supported");else{c===void 0&&(c=Kr("",s));const l=V1(i),u=wI(t[1]);if(e.$cmpCtx$=on(u,e.$static$.$containerState$),l.$type$==c.$type$&&l.$key$==c.$key$&&l.$id$==c.$id$)ns(e,l,c,0);else{const d=[],f=l.$elm$,p=Ei(e,c,0,d);d.length&&xi("Rendering promises in JSX signals is not supported"),a[3]=p,cs(e.$static$,i.parentElement,p,f),f&&cp(r,f)}}}}}}catch{}};function wI(e){for(;e;){if(ci(e))return e;e=e.parentElement}throw new Error("Not found")}const EI=(e,t)=>{if(e[0]===0){const n=e[1];ep(n)?Xh(n,t):$I(n,t)}else SI(e,t)},$I=(e,t)=>{const n=rr();n||S1(t.$containerEl$);const r=on(e,t);if(r.$componentQrl$,!(r.$flags$&Is))if(r.$flags$|=Is,t.$hostsRendering$!==void 0)t.$hostsStaging$.add(r);else{if(n)return void Do();t.$hostsNext$.add(r),Qh(t)}},SI=(e,t)=>{const n=t.$hostsRendering$!==void 0;t.$opsNext$.add(e),n||Qh(t)},Xh=(e,t)=>{e.$flags$&Xr||(e.$flags$|=Xr,t.$hostsRendering$!==void 0?t.$taskStaging$.add(e):(t.$taskNext$.add(e),Qh(t)))},Qh=e=>(e.$renderPromise$===void 0&&(e.$renderPromise$=fl().nextTick(()=>T1(e))),e.$renderPromise$),II=()=>{const[e]=Ze();Xh(e,Ls(rp(e.$el$)))},T1=async e=>{const t=e.$containerEl$,n=_a(t);try{const r=B1(n,e),i=r.$static$,s=e.$hostsRendering$=new Set(e.$hostsNext$);e.$hostsNext$.clear(),await xI(e,r),e.$hostsStaging$.forEach(c=>{s.add(c)}),e.$hostsStaging$.clear();const o=Array.from(e.$opsNext$);e.$opsNext$.clear();const a=Array.from(s);RI(a),!e.$styleMoved$&&a.length>0&&(e.$styleMoved$=!0,(t===n.documentElement?n.body:t).querySelectorAll("style[q\\:style]").forEach(c=>{e.$styleIds$.add(Un(c,pl)),J1(i,n.head,c)}));for(const c of a){const l=c.$element$;if(!i.$hostElements$.has(l)&&c.$componentQrl$){l.isConnected,i.$roots$.push(c);try{await Yh(r,c,TI(l.parentElement))}catch(u){xi(u)}}}return o.forEach(c=>{bI(r,c)}),i.$operations$.push(...i.$postOperations$),i.$operations$.length===0?(l_(i),void await t_(e,r)):(await iT(i),l_(i),t_(e,r))}catch(r){xi(r)}},TI=e=>{let t=0;return e&&(e.namespaceURI===ba&&(t|=pn),e.tagName==="HEAD"&&(t|=xc)),t},t_=async(e,t)=>{const n=t.$static$.$hostElements$;await AI(e,t,(r,i)=>(r.$flags$&A1)!=0&&(!i||n.has(r.$el$))),e.$hostsStaging$.forEach(r=>{e.$hostsNext$.add(r)}),e.$hostsStaging$.clear(),e.$hostsRendering$=void 0,e.$renderPromise$=void 0,e.$hostsNext$.size+e.$taskNext$.size+e.$opsNext$.size>0&&(e.$renderPromise$=T1(e))},n_=e=>(e.$flags$&R1)!=0,r_=e=>(e.$flags$&Jh)!=0,xI=async(e,t)=>{const n=e.$containerEl$,r=[],i=[];e.$taskNext$.forEach(s=>{n_(s)&&(i.push(Ue(s.$qrl$.$resolveLazy$(n),()=>s)),e.$taskNext$.delete(s)),r_(s)&&(r.push(Ue(s.$qrl$.$resolveLazy$(n),()=>s)),e.$taskNext$.delete(s))});do if(e.$taskStaging$.forEach(s=>{n_(s)?i.push(Ue(s.$qrl$.$resolveLazy$(n),()=>s)):r_(s)?r.push(Ue(s.$qrl$.$resolveLazy$(n),()=>s)):e.$taskNext$.add(s)}),e.$taskStaging$.clear(),i.length>0){const s=await Promise.all(i);ff(s),await Promise.all(s.map(o=>hf(o,e,t))),i.length=0}while(e.$taskStaging$.size>0);if(r.length>0){const s=await Promise.all(r);ff(s);for(const o of s)hf(o,e,t)}},AI=async(e,t,n)=>{const r=[],i=e.$containerEl$;e.$taskNext$.forEach(s=>{n(s,!1)&&(s.$el$.isConnected&&r.push(Ue(s.$qrl$.$resolveLazy$(i),()=>s)),e.$taskNext$.delete(s))});do if(e.$taskStaging$.forEach(s=>{s.$el$.isConnected&&(n(s,!0)?r.push(Ue(s.$qrl$.$resolveLazy$(i),()=>s)):e.$taskNext$.add(s))}),e.$taskStaging$.clear(),r.length>0){const s=await Promise.all(r);ff(s);for(const o of s)hf(o,e,t);r.length=0}while(e.$taskStaging$.size>0)},RI=e=>{e.sort((t,n)=>2&t.$element$.compareDocumentPosition(kc(n.$element$))?1:-1)},ff=e=>{e.sort((t,n)=>t.$el$===n.$el$?t.$index$<n.$index$?-1:1:2&t.$el$.compareDocumentPosition(kc(n.$el$))?1:-1)},li=()=>{const e=L1(),t=on(e.$hostElement$,e.$renderCtx$.$static$.$containerState$),n=t.$seq$||(t.$seq$=[]),r=e.$i$++;return{val:n[r],set:i=>n[r]=i,i:r,iCtx:e,elCtx:t}},cn=e=>Object.freeze({id:Fh(e)}),fn=(e,t)=>{const{val:n,set:r,elCtx:i}=li();if(n!==void 0)return;(i.$contexts$||(i.$contexts$=new Map)).set(e.id,t),r(!0)},qe=(e,t)=>{const{val:n,set:r,iCtx:i,elCtx:s}=li();if(n!==void 0)return n;const o=x1(e,s,i.$renderCtx$.$static$.$containerState$);if(typeof t=="function")return r(an(void 0,t,o));if(o!==void 0)return r(o);if(t!==void 0)return r(t);throw $t(13,e.id)},CI=(e,t)=>{var i;let n=e,r=1;for(;n&&!((i=n.hasAttribute)!=null&&i.call(n,"q:container"));){for(;n=n.previousSibling;)if(pa(n)){const s=n.__virtual;if(s){const o=s[ml];if(n===s.open)return o??on(s,t);if(o!=null&&o.$parentCtx$)return o.$parentCtx$;n=s;continue}if(n.data==="/qv")r++;else if(n.data.startsWith("qv ")&&(r--,r===0))return on(wa(n),t)}n=e.parentElement,e=n}return null},OI=(e,t)=>(e.$parentCtx$===void 0&&(e.$parentCtx$=CI(e.$element$,t)),e.$parentCtx$),x1=(e,t,n)=>{var s;const r=e.id;if(!t)return;let i=t;for(;i;){const o=(s=i.$contexts$)==null?void 0:s.get(r);if(o)return o;i=OI(i,n)}},kI=cn("qk-error"),Zh=(e,t,n)=>{const r=wn(t);if(rr())throw e;{const i=x1(kI,r,n.$static$.$containerState$);if(i===void 0)throw e;i.error=e}},A1=1,R1=2,Jh=4,Xr=16,C1=(e,t)=>{const{val:n,set:r,iCtx:i,i:s,elCtx:o}=li();if(n)return;const a=i.$renderCtx$.$static$.$containerState$,c=new va(Xr|R1,s,o.$element$,e,void 0);r(!0),e.$resolveLazy$(a.$containerEl$),o.$tasks$||(o.$tasks$=[]),o.$tasks$.push(c),qI(i,()=>N1(c,a,i.$renderCtx$)),rr()&&pf(c,t==null?void 0:t.eagerness)},wr=(e,t)=>{const{val:n,set:r,i,iCtx:s,elCtx:o}=li(),a=(t==null?void 0:t.strategy)??"intersection-observer";if(n)return void(rr()&&pf(n,a));const c=new va(A1,i,o.$element$,e,void 0),l=s.$renderCtx$.$static$.$containerState$;o.$tasks$||(o.$tasks$=[]),o.$tasks$.push(c),r(c),pf(c,a),rr()||(e.$resolveLazy$(l.$containerEl$),Xh(c,l))},O1=e=>(e.$flags$&Jh)!=0,NI=e=>(8&e.$flags$)!=0,hf=async(e,t,n)=>(e.$flags$&Xr,O1(e)?k1(e,t,n):NI(e)?PI(e,t,n):N1(e,t,n)),k1=(e,t,n,r)=>{e.$flags$&=~Xr,Fo(e);const i=Ln(n.$static$.$locale$,e.$el$,void 0,"qTask"),{$subsManager$:s}=t;i.$renderCtx$=n;const o=e.$qrl$.getFn(i,()=>{s.$clearSub$(e)}),a=[],c=e.$state$,l=$a(c),u={track:(_,v)=>{if(yn(_)){const b=Ln();return b.$renderCtx$=n,b.$subscriber$=[0,e],an(b,_)}const y=tn(_);return y?y.$addSub$([0,e],v):Ph(dl(26),_),v?_[v]:Gt(_)?_.value:_},cleanup(_){a.push(_)},cache(_){let v=0;v=_==="immutable"?1/0:_,c._cache=v},previous:l._resolved};let d,f,p=!1;const g=(_,v)=>!p&&(p=!0,_?(p=!0,c.loading=!1,c._state="resolved",c._resolved=v,c._error=void 0,d(v)):(p=!0,c.loading=!1,c._state="rejected",c._error=v,f(v)),!0);an(i,()=>{c._state="pending",c.loading=!rr(),c.value=new Promise((_,v)=>{d=_,f=v})}),e.$destroy$=Ea(()=>{p=!0,a.forEach(_=>_())});const h=hl(()=>Ue(r,()=>o(u)),_=>{g(!0,_)},_=>{g(!1,_)}),m=l._timeout;return m>0?Promise.race([h,OS(m).then(()=>{g(!1,new Error("timeout"))&&Fo(e)})]):h},N1=(e,t,n)=>{e.$flags$&=~Xr,Fo(e);const r=e.$el$,i=Ln(n.$static$.$locale$,r,void 0,"qTask");i.$renderCtx$=n;const{$subsManager$:s}=t,o=e.$qrl$.getFn(i,()=>{s.$clearSub$(e)}),a=[];e.$destroy$=Ea(()=>{a.forEach(l=>l())});const c={track:(l,u)=>{if(yn(l)){const f=Ln();return f.$subscriber$=[0,e],an(f,l)}const d=tn(l);return d?d.$addSub$([0,e],u):Ph(dl(26),l),u?l[u]:Gt(l)?l.value:l},cleanup(l){a.push(l)}};return hl(()=>o(c),l=>{yn(l)&&a.push(l)},l=>{Zh(l,r,n)})},PI=(e,t,n)=>{e.$state$,e.$flags$&=~Xr,Fo(e);const r=e.$el$,i=Ln(n.$static$.$locale$,r,void 0,"qComputed");i.$subscriber$=[0,e],i.$renderCtx$=n;const{$subsManager$:s}=t,o=e.$qrl$.getFn(i,()=>{s.$clearSub$(e)});return hl(o,a=>hs(()=>{const c=e.$state$;c[Mo]&=-3,c.untrackedValue=a,c[Zn].$notifySubs$()}),a=>{Zh(a,r,n)})},Fo=e=>{const t=e.$destroy$;if(t){e.$destroy$=void 0;try{t()}catch(n){xi(n)}}},P1=e=>{32&e.$flags$?(e.$flags$&=-33,(0,e.$qrl$)()):Fo(e)},pf=(e,t)=>{t==="visible"||t==="intersection-observer"?LS("qvisible",ed(e)):t==="load"||t==="document-ready"?e_("qinit",ed(e)):t!=="idle"&&t!=="document-idle"||e_("qidle",ed(e))},ed=e=>{const t=e.$qrl$;return Sa(t.$chunk$,"_hW",II,null,null,[e],t.$symbol$)},ep=e=>ar(e)&&e instanceof va,DI=(e,t)=>{let n=`${Gr(e.$flags$)} ${Gr(e.$index$)} ${t(e.$qrl$)} ${t(e.$el$)}`;return e.$state$&&(n+=` ${t(e.$state$)}`),n},MI=e=>{const[t,n,r,i,s]=e.split(" ");return new va(jn(t),jn(n),i,r,s)};class va{constructor(t,n,r,i,s){this.$flags$=t,this.$index$=n,this.$el$=r,this.$qrl$=i,this.$state$=s}}function LI(e){return FI(e)&&e.nodeType===1}function FI(e){return e&&typeof e.nodeType=="number"}const Is=1,Qr=2,tp=4,np=8,wn=e=>e[ml],on=(e,t)=>{const n=wn(e);if(n)return n;const r=vl(e),i=Un(e,"q:id");if(i){const s=t.$pauseCtx$;if(r.$id$=i,s){const{getObject:o,meta:a,refs:c}=s;if(LI(e)){const l=c[i];l&&(r.$refMap$=l.split(" ").map(o),r.li=MS(r,t.$containerEl$))}else{const l=e.getAttribute("q:sstyle");r.$scopeIds$=l?l.split("|"):null;const u=a[i];if(u){const d=u.s,f=u.h,p=u.c,g=u.w;if(d&&(r.$seq$=d.split(" ").map(o)),g&&(r.$tasks$=g.split(" ").map(o)),p){r.$contexts$=new Map;for(const h of p.split(" ")){const[m,_]=h.split("=");r.$contexts$.set(m,o(_))}}if(f){const[h,m]=f.split(" ");if(r.$flags$=tp,h&&(r.$componentQrl$=o(h)),m){const _=o(m);r.$props$=_,gl(_,2),_[H]=UI(_)}else r.$props$=Fs(_l(),t)}}}}}return r},UI=e=>{const t={},n=Wi(e);for(const r in n)r.startsWith("$$")&&(t[r.slice(2)]=n[r]);return t},vl=e=>{const t={$flags$:0,$id$:"",$element$:e,$refMap$:[],li:[],$tasks$:null,$seq$:null,$slots$:null,$scopeIds$:null,$appendStyles$:null,$props$:null,$vdom$:null,$componentQrl$:null,$contexts$:null,$dynamicSlots$:null,$parentCtx$:void 0,$realParentCtx$:void 0};return e[ml]=t,t},BI=(e,t)=>{var n;(n=e.$tasks$)==null||n.forEach(r=>{t.$clearSub$(r),P1(r)}),e.$componentQrl$=null,e.$seq$=null,e.$tasks$=null};let fs;function D1(e){if(fs===void 0){const t=_r();if(t&&t.$locale$)return t.$locale$;if(e!==void 0)return e;throw new Error("Reading `locale` outside of context.")}return fs}function mf(e,t){const n=fs;try{return fs=e,t()}finally{fs=n}}function zI(e){fs=e}let $o;const _r=()=>{if(!$o){const e=typeof document<"u"&&document&&document.__q_context__;return e?et(e)?document.__q_context__=U1(e):e:void 0}return $o},M1=()=>{const e=_r();if(!e)throw $t(14);return e},L1=()=>{const e=_r();if(!e||e.$event$!=="qRender")throw $t(20);return e.$hostElement$,e.$waitOn$,e.$renderCtx$,e.$subscriber$,e};function i_(e){if(e==null)return e;const t=M1();return function(...n){return F1.call(this,t,e,n)}}function an(e,t,...n){return F1.call(this,e,t,n)}function F1(e,t,n){const r=$o;let i;try{$o=e,i=t.apply(this,n)}finally{$o=r}return i}const qI=(e,t)=>{const n=e.$waitOn$;if(n.length===0){const r=t();Rt(r)&&n.push(r)}else n.push(Promise.all(n).then(t))},U1=([e,t,n])=>{const r=e.closest("[q\\:container]"),i=(r==null?void 0:r.getAttribute("q:locale"))||void 0;return i&&zI(i),Ln(i,void 0,e,t,n)},Ln=(e,t,n,r,i)=>({$url$:i,$i$:0,$hostElement$:t,$element$:n,$event$:r,$qrl$:void 0,$waitOn$:void 0,$subscriber$:void 0,$renderCtx$:void 0,$locale$:e}),rp=e=>e.closest("[q\\:container]"),hs=e=>an(void 0,e),s_=Ln(void 0,void 0,void 0,"qRender"),gr=(e,t)=>(s_.$subscriber$=t,an(s_,()=>e.value)),Er=e=>{const t=_r();return t&&t.$hostElement$&&t.$renderCtx$&&(on(t.$hostElement$,t.$renderCtx$.$static$.$containerState$).$flags$|=np),e},WI=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexShrink","gridArea","gridRow","gridRowEnd","gridRowStart","gridColumn","gridColumnEnd","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","MozAnimationIterationCount","MozBoxFlex","msFlex","msFlexPositive","WebkitAnimationIterationCount","WebkitBoxFlex","WebkitBoxOrdinalGroup","WebkitColumnCount","WebkitColumns","WebkitFlex","WebkitFlexGrow","WebkitFlexShrink","WebkitLineClamp"]),jI=e=>WI.has(e),Ic=(e,t)=>{t.$flags$&=~Is,t.$flags$|=tp,t.$slots$=[],t.li.length=0;const n=t.$element$,r=t.$componentQrl$,i=t.$props$,s=Ln(e.$static$.$locale$,n,void 0,"qRender"),o=s.$waitOn$=[],a=ya(e);a.$cmpCtx$=t,a.$slotCtx$=void 0,s.$subscriber$=[0,n],s.$renderCtx$=e,r.$setContainer$(e.$static$.$containerState$.$containerEl$);const c=r.getFn(s);return hl(()=>c(i),l=>Ue($c(o),()=>t.$flags$&Is?Ic(e,t):{node:l,rCtx:a}),l=>l===l1?Ue($c(o),()=>Ic(e,t)):(Zh(l,n,e),{node:Gh,rCtx:a}))},B1=(e,t)=>({$static$:{$doc$:e,$locale$:t.$serverData$.locale,$containerState$:t,$hostElements$:new Set,$operations$:[],$postOperations$:[],$roots$:[],$addSlots$:[],$rmSlots$:[],$visited$:[]},$cmpCtx$:null,$slotCtx$:void 0}),ya=e=>({$static$:e.$static$,$cmpCtx$:e.$cmpCtx$,$slotCtx$:e.$slotCtx$}),ip=(e,t)=>{var n;return(n=t==null?void 0:t.$scopeIds$)!=null&&n.length?t.$scopeIds$.join(" ")+" "+Tc(e):Tc(e)},Tc=e=>{if(!e)return"";if(Hr(e))return e.trim();const t=[];if(et(e))for(const n of e){const r=Tc(n);r&&t.push(r)}else for(const[n,r]of Object.entries(e))r&&t.push(n.trim());return t.join(" ")},yl=e=>{if(e==null)return"";if(typeof e=="object"){if(et(e))throw $t(0,e,"style");{const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];r!=null&&(n.startsWith("--")?t.push(n+":"+r):t.push(Fh(n)+":"+VI(n,r)))}return t.join(";")}}return String(e)},VI=(e,t)=>typeof t!="number"||t===0||jI(e)?t:t+"px",Uo=e=>Gr(e.$static$.$containerState$.$elementIndex$++),z1=(e,t)=>{const n=Uo(e);t.$id$=n},Bo=e=>Gt(e)?Bo(e.value):e==null||typeof e=="boolean"?"":String(e);function q1(e){return e.startsWith("aria-")}const W1=(e,t)=>!!t.key&&(!qi(e)||!yn(e.type)&&e.key!=t.key),zo=2,en="dangerouslySetInnerHTML",ba="http://www.w3.org/2000/svg",pn=1,xc=2,Ac=[],Rc=(e,t,n,r)=>{t.$elm$;const i=n.$children$;if(i.length===1&&i[0].$type$===":skipRender")return void(n.$children$=t.$children$);const s=t.$elm$;let o=Oc;t.$children$===Ac&&s.nodeName==="HEAD"&&(o=YI,r|=xc);const a=HI(t,o);return a.length>0&&i.length>0?GI(e,s,a,i,r):a.length>0&&i.length===0?sp(e.$static$,a,0,a.length-1):i.length>0?G1(e,s,null,i,0,i.length-1,r):void 0},HI=(e,t)=>{const n=e.$children$;return n===Ac?e.$children$=j1(e.$elm$,t):n},GI=(e,t,n,r,i)=>{let s=0,o=0,a=n.length-1,c=n[0],l=n[a],u=r.length-1,d=r[0],f=r[u],p,g,h;const m=[],_=e.$static$;for(;s<=a&&o<=u;)if(c==null)c=n[++s];else if(l==null)l=n[--a];else if(d==null)d=r[++o];else if(f==null)f=r[--u];else if(c.$id$===d.$id$)m.push(ns(e,c,d,i)),c=n[++s],d=r[++o];else if(l.$id$===f.$id$)m.push(ns(e,l,f,i)),l=n[--a],f=r[--u];else if(c.$key$&&c.$id$===f.$id$)c.$elm$,l.$elm$,m.push(ns(e,c,f,i)),uT(_,t,c.$elm$,l.$elm$),c=n[++s],f=r[--u];else if(l.$key$&&l.$id$===d.$id$)c.$elm$,l.$elm$,m.push(ns(e,l,d,i)),cs(_,t,l.$elm$,c.$elm$),l=n[--a],d=r[++o];else{if(p===void 0&&(p=aT(n,s,a)),g=p[d.$key$],g===void 0){const y=Ei(e,d,i,m);cs(_,t,y,c==null?void 0:c.$elm$)}else if(h=n[g],h.$type$!==d.$type$){const y=Ei(e,d,i,m);Ue(y,b=>{cs(_,t,b,c==null?void 0:c.$elm$)})}else m.push(ns(e,h,d,i)),n[g]=void 0,h.$elm$,cs(_,t,h.$elm$,c.$elm$);d=r[++o]}o<=u&&m.push(G1(e,t,r[u+1]==null?null:r[u+1].$elm$,r,o,u,i));let v=Lh(m);return s<=a&&(v=Ue(v,()=>{sp(_,n,s,a)})),v},as=(e,t)=>{const n=nr(e)?e.close:null,r=[];let i=e.firstChild;for(;(i=lp(i))&&(t(i)&&r.push(i),i=i.nextSibling,i!==n););return r},j1=(e,t)=>as(e,t).map(V1),V1=e=>{var t;return ai(e)?((t=wn(e))==null?void 0:t.$vdom$)??Cc(e):Cc(e)},Cc=e=>{if(ci(e)){const t=new fr(e.localName,{},null,Ac,0,gf(e));return t.$elm$=e,t}if(Nh(e)){const t=new fr(e.nodeName,_n,null,Ac,0,null);return t.$text$=e.data,t.$elm$=e,t}},YI=e=>{const t=e.nodeType;return t===1?e.hasAttribute("q:head"):t===111},_f=e=>e.nodeName==="Q:TEMPLATE",Oc=e=>{const t=e.nodeType;if(t===3||t===111)return!0;if(t!==1)return!1;const n=e.nodeName;return n!=="Q:TEMPLATE"&&(n==="HEAD"?e.hasAttribute("q:head"):n!=="STYLE"||!e.hasAttribute(pl))},H1=e=>{const t={};for(const n of e){const r=KI(n);(t[r]??(t[r]=new fr(Ts,{"q:s":""},null,[],0,r))).$children$.push(n)}return t},ns=(e,t,n,r)=>{t.$type$,n.$type$,t.$key$,n.$key$,t.$id$,n.$id$;const i=t.$elm$,s=n.$type$,o=e.$static$,a=o.$containerState$,c=e.$cmpCtx$;if(n.$elm$=i,s==="#text"){o.$visited$.push(i);const f=n.$signal$;return f&&(n.$text$=Bo(gr(f,[4,c.$element$,f,i]))),void Zr(o,i,"data",n.$text$)}if(s==="#signal")return;const l=n.$props$,u=n.$flags$,d=on(i,a);if(s!==Ts){let f=(r&pn)!=0;if(f||s!=="svg"||(r|=pn,f=!0),l!==_n){!(1&u)&&(d.li.length=0);const p=t.$props$;n.$props$=p;for(const g in l){let h=l[g];if(g!=="ref")if(zh(g)){const m=Wh(d.li,g,h,a.$containerEl$);X1(o,i,m)}else Gt(h)&&(h=gr(h,[1,c.$element$,h,i,g])),g==="class"?h=ip(h,c):g==="style"&&(h=yl(h)),p[g]!==h&&(p[g]=h,op(o,i,g,h,f));else h!==void 0&&Bh(h,i)}}return u&zo||(f&&s==="foreignObject"&&(r&=~pn),l[en]!==void 0)||s==="textarea"?void 0:Rc(e,t,n,r)}if("q:renderFn"in l){const f=l.props;rT(a,d,f);let p=!!(d.$flags$&Is);return p||d.$componentQrl$||d.$element$.hasAttribute("q:id")||(z1(e,d),d.$componentQrl$=f["q:renderFn"],d.$componentQrl$,p=!0),p?Ue(Yh(e,d,r),()=>o_(e,d,n,r)):o_(e,d,n,r)}if("q:s"in l)return c.$slots$,void c.$slots$.push(n);if(en in l)Zr(o,i,"innerHTML",l[en]);else if(!(u&zo))return Rc(e,t,n,r)},o_=(e,t,n,r)=>{if(n.$flags$&zo)return;const i=e.$static$,s=H1(n.$children$),o=K1(t);for(const a in o.slots)if(!s[a]){const c=o.slots[a],l=j1(c,Oc);if(l.length>0){const u=wn(c);u&&u.$vdom$&&(u.$vdom$.$children$=[]),sp(i,l,0,l.length-1)}}for(const a in o.templates){const c=o.templates[a];c&&!s[a]&&(o.templates[a]=void 0,cp(i,c))}return Lh(Object.keys(s).map(a=>{const c=s[a],l=Y1(i,o,t,a,e.$static$.$containerState$),u=Kh(l),d=ya(e),f=l.$element$;d.$slotCtx$=l,l.$vdom$=c,c.$elm$=f;let p=r&~pn;f.isSvg&&(p|=pn);const g=i.$addSlots$.findIndex(h=>h[0]===f);return g>=0&&i.$addSlots$.splice(g,1),Rc(d,u,c,p)}))},G1=(e,t,n,r,i,s,o)=>{const a=[];for(;i<=s;++i){const c=r[i],l=Ei(e,c,o,a);cs(e.$static$,t,l,n)}return $c(a)},sp=(e,t,n,r)=>{for(;n<=r;++n){const i=t[n];i&&(i.$elm$,cp(e,i.$elm$))}},Y1=(e,t,n,r,i)=>{const s=t.slots[r];if(s)return on(s,i);const o=t.templates[r];if(o)return on(o,i);const a=ey(e.$doc$,r),c=vl(a);return c.$parentCtx$=n,hT(e,n.$element$,a),t.templates[r]=a,c},KI=e=>e.$props$[bn]??"",Ei=(e,t,n,r)=>{const i=t.$type$,s=e.$static$.$doc$,o=e.$cmpCtx$;if(i==="#text")return t.$elm$=s.createTextNode(t.$text$);if(i==="#signal"){const m=t.$signal$,_=m.value;if(qi(_)){const v=Kr(_);if(Gt(v))throw new Error("NOT IMPLEMENTED: Promise");if(Array.isArray(v))throw new Error("NOT IMPLEMENTED: Array");{const y=Ei(e,v,n,r);return gr(m,4&n?[3,y,m,y]:[4,o.$element$,m,y]),t.$elm$=y}}{const v=s.createTextNode(t.$text$);return v.data=t.$text$=Bo(_),gr(m,4&n?[3,v,m,v]:[4,o.$element$,m,v]),t.$elm$=v}}let a,c=!!(n&pn);c||i!=="svg"||(n|=pn,c=!0);const l=i===Ts,u=t.$props$,d=e.$static$,f=d.$containerState$;l?a=yT(s,c):i==="head"?(a=s.head,n|=xc):(a=ap(s,i,c),n&=~xc),t.$flags$&zo&&(n|=4),t.$elm$=a;const p=vl(a);if(e.$slotCtx$?(p.$parentCtx$=e.$slotCtx$,p.$realParentCtx$=e.$cmpCtx$):p.$parentCtx$=e.$cmpCtx$,l){if("q:renderFn"in u){const m=u["q:renderFn"],_=_l(),v=f.$subsManager$.$createManager$(),y=new Proxy(_,new u1(f,v)),b=u.props;if(f.$proxyMap$.set(_,y),p.$props$=y,b!==_n){const S=_[H]=b[H]??_n;for(const I in b)if(I!=="children"&&I!==bn){const x=S[I];Gt(x)?_["$$"+I]=x:_[I]=b[I]}}z1(e,p),p.$componentQrl$=m;const $=Ue(Yh(e,p,n),()=>{let S=t.$children$;if(S.length===0)return;S.length===1&&S[0].$type$===":skipRender"&&(S=S[0].$children$);const I=K1(p),x=[],A=H1(S);for(const C in A){const N=A[C],T=Y1(d,I,p,C,d.$containerState$),k=ya(e),E=T.$element$;k.$slotCtx$=T,T.$vdom$=N,N.$elm$=E;let M=n&~pn;E.isSvg&&(M|=pn);for(const Y of N.$children$){const q=Ei(k,Y,M,x);Y.$elm$,Y.$elm$,J1(d,E,q)}}return $c(x)});return Rt($)&&r.push($),a}if("q:s"in u)o.$slots$,gT(a,t.$key$),gn(a,"q:sref",o.$id$),gn(a,"q:s",""),o.$slots$.push(t),d.$addSlots$.push([a,o.$element$]);else if(en in u)return Zr(d,a,"innerHTML",u[en]),a}else{if(t.$immutableProps$&&c_(d,p,o,t.$immutableProps$,c,!0),u!==_n&&(p.$vdom$=t,t.$props$=c_(d,p,o,u,c,!1)),c&&i==="foreignObject"&&(c=!1,n&=~pn),o){const m=o.$scopeIds$;m&&m.forEach(_=>{a.classList.add(_)}),o.$flags$&Qr&&(p.li.push(...o.li),o.$flags$&=~Qr)}for(const m of p.li)X1(d,a,m[0]);if(u[en]!==void 0)return a;c&&i==="foreignObject"&&(c=!1,n&=~pn)}let g=t.$children$;if(g.length===0)return a;g.length===1&&g[0].$type$===":skipRender"&&(g=g[0].$children$);const h=g.map(m=>Ei(e,m,n,r));for(const m of h)qo(a,m);return a},XI=e=>{const t=e.$slots$;return t||(e.$element$.parentElement,e.$slots$=QI(e))},K1=e=>{const t=XI(e),n={},r={},i=Array.from(e.$element$.childNodes).filter(_f);for(const s of t)s.$elm$,n[s.$key$??""]=s.$elm$;for(const s of i)r[Un(s,bn)??""]=s;return{slots:n,templates:r}},QI=e=>{const t=e.$element$.parentElement;return $T(t,"q:sref",e.$id$).map(Cc)},ZI=(e,t,n)=>(Zr(e,t.style,"cssText",n),!0),JI=(e,t,n)=>(t.namespaceURI===ba?Wo(e,t,"class",n):Zr(e,t,"className",n),!0),a_=(e,t,n,r)=>r in t&&((t[r]!==n||r==="value"&&!t.hasAttribute(r))&&(t.tagName==="SELECT"?lT(e,t,r,n):Zr(e,t,r,n)),!0),to=(e,t,n,r)=>(Wo(e,t,r.toLowerCase(),n),!0),eT=(e,t,n)=>(Zr(e,t,"innerHTML",n),!0),tT=()=>!0,nT={style:ZI,class:JI,value:a_,checked:a_,href:to,list:to,form:to,tabIndex:to,download:to,innerHTML:tT,[en]:eT},op=(e,t,n,r,i)=>{if(q1(n))return void Wo(e,t,n,r!=null?String(r):r);const s=nT[n];s&&s(e,t,r,n)||(i||!(n in t)?(n.startsWith(s1)&&Q1(n.slice(15)),Wo(e,t,n,r)):Zr(e,t,n,r))},c_=(e,t,n,r,i,s)=>{const o={},a=t.$element$;for(const c in r){let l=r[c];if(c!=="ref")if(zh(c))Wh(t.li,c,l,e.$containerState$.$containerEl$);else{if(Gt(l)&&(l=gr(l,s?[1,a,l,n.$element$,c]:[2,n.$element$,l,a,c])),c==="class"){if(l=ip(l,n),!l)continue}else c==="style"&&(l=yl(l));o[c]=l,op(e,a,c,l,i)}else l!==void 0&&Bh(l,a)}return o},rT=(e,t,n)=>{let r=t.$props$;if(r||(t.$props$=r=Fs(_l(),e)),n===_n)return;const i=tn(r),s=Wi(r),o=s[H]=n[H]??_n;for(const a in n)if(a!=="children"&&a!==bn&&!o[a]){const c=n[a];s[a]!==c&&(s[a]=c,i.$notifySubs$(a))}},So=(e,t,n,r)=>{if(n.$clearSub$(e),ci(e)){if(r&&e.hasAttribute("q:s"))return void t.$rmSlots$.push(e);const i=wn(e);i&&BI(i,n);const s=nr(e)?e.close:null;let o=e.firstChild;for(;(o=lp(o))&&(So(o,t,n,!0),o=o.nextSibling,o!==s););}},iT=async e=>{_T(e)},qo=(e,t)=>{nr(t)?t.appendTo(e):e.appendChild(t)},sT=(e,t)=>{nr(t)?t.remove():e.removeChild(t)},oT=(e,t,n)=>{nr(t)?t.insertBeforeTo(e,(n==null?void 0:n.nextSibling)??null):e.insertBefore(t,(n==null?void 0:n.nextSibling)??null)},bl=(e,t,n)=>{nr(t)?t.insertBeforeTo(e,kc(n)):e.insertBefore(t,kc(n))},aT=(e,t,n)=>{const r={};for(let i=t;i<=n;++i){const s=e[i].$key$;s!=null&&(r[s]=i)}return r},X1=(e,t,n)=>{n.startsWith("on:")||Wo(e,t,n,""),Q1(n)},Q1=e=>{var t;{const n=i1(e);try{((t=globalThis).qwikevents||(t.qwikevents=[])).push(n)}catch{}}},Wo=(e,t,n,r)=>{e.$operations$.push({$operation$:cT,$args$:[t,n,r]})},cT=(e,t,n)=>{if(n==null||n===!1)e.removeAttribute(t);else{const r=n===!0?"":String(n);gn(e,t,r)}},Zr=(e,t,n,r)=>{e.$operations$.push({$operation$:Z1,$args$:[t,n,r]})},lT=(e,t,n,r)=>{e.$postOperations$.push({$operation$:Z1,$args$:[t,n,r]})},Z1=(e,t,n)=>{try{e[t]=n??"",n==null&&oi(e)&&ai(e)&&e.removeAttribute(t)}catch(r){xi(dl(6),{node:e,key:t,value:n},r)}},ap=(e,t,n)=>n?e.createElementNS(ba,t):e.createElement(t),cs=(e,t,n,r)=>(e.$operations$.push({$operation$:bl,$args$:[t,n,r||null]}),n),uT=(e,t,n,r)=>(e.$operations$.push({$operation$:oT,$args$:[t,n,r||null]}),n),J1=(e,t,n)=>(e.$operations$.push({$operation$:qo,$args$:[t,n]}),n),dT=(e,t)=>{e.$containerState$.$styleIds$.add(t.styleId),e.$postOperations$.push({$operation$:fT,$args$:[e.$containerState$,t]})},fT=(e,t)=>{const n=e.$containerEl$,r=_a(n),i=r.documentElement===n,s=r.head,o=r.createElement("style");gn(o,pl,t.styleId),gn(o,"hidden",""),o.textContent=t.content,i&&s?qo(s,o):bl(n,o,n.firstChild)},hT=(e,t,n)=>{e.$operations$.push({$operation$:pT,$args$:[t,n]})},pT=(e,t)=>{bl(e,t,e.firstChild)},cp=(e,t)=>{ci(t)&&So(t,e,e.$containerState$.$subsManager$,!0),e.$operations$.push({$operation$:mT,$args$:[t,e]})},mT=e=>{const t=e.parentElement;t&&sT(t,e)},ey=(e,t)=>{const n=ap(e,"q:template",!1);return gn(n,bn,t),gn(n,"hidden",""),gn(n,"aria-hidden","true"),n},_T=e=>{for(const t of e.$operations$)t.$operation$.apply(void 0,t.$args$);vT(e)},gf=e=>Un(e,"q:key"),gT=(e,t)=>{t!==null&&gn(e,"q:key",t)},vT=e=>{const t=e.$containerState$.$subsManager$;for(const n of e.$rmSlots$){const r=gf(n),i=as(n,Oc);if(i.length>0){const s=n.getAttribute("q:sref"),o=e.$roots$.find(a=>a.$id$===s);if(o){const a=o.$element$;if(a.isConnected)if(as(a,_f).some(c=>Un(c,bn)===r))So(n,e,t,!1);else{const c=ey(e.$doc$,r);for(const l of i)qo(c,l);bl(a,c,a.firstChild)}else So(n,e,t,!1)}else So(n,e,t,!1)}}for(const[n,r]of e.$addSlots$){const i=gf(n),s=as(r,_f).find(o=>o.getAttribute(bn)===i);s&&(as(s,Oc).forEach(o=>{qo(n,o)}),s.remove())}},l_=()=>{},yT=(e,t)=>{const n=e.createComment("qv "),r=e.createComment("/qv");return new ty(n,r,t)},bT=e=>{if(!e)return{};const t=e.split(" ");return Object.fromEntries(t.map(n=>{const r=n.indexOf("=");return r>=0?[n.slice(0,r),IT(n.slice(r+1))]:[n,""]}))},wT=e=>{const t=[];return Object.entries(e).forEach(([n,r])=>{t.push(r?`${n}=${ST(r)}`:`${n}`)}),t.join(" ")},ET=(e,t,n)=>e.ownerDocument.createTreeWalker(e,128,{acceptNode(r){const i=wa(r);return i&&Un(i,t)===n?1:2}}),$T=(e,t,n)=>{const r=ET(e,t,n),i=[];let s=null;for(;s=r.nextNode();)i.push(wa(s));return i},ST=e=>e.replace(/ /g,"+"),IT=e=>e.replace(/\+/g," "),Ts=":virtual";class ty{constructor(t,n,r){this.open=t,this.close=n,this.isSvg=r,this._qc_=null,this.nodeType=111,this.localName=Ts,this.nodeName=Ts;const i=this.ownerDocument=t.ownerDocument;this.$template$=ap(i,"template",!1),this.$attributes$=bT(t.data.slice(3)),t.data.startsWith("qv "),t.__virtual=this,n.__virtual=this}insertBefore(t,n){const r=this.parentElement;return r?r.insertBefore(t,n||this.close):this.$template$.insertBefore(t,n),t}remove(){const t=this.parentElement;if(t){const n=this.childNodes;this.$template$.childElementCount,t.removeChild(this.open);for(let r=0;r<n.length;r++)this.$template$.appendChild(n[r]);t.removeChild(this.close)}}appendChild(t){return this.insertBefore(t,null)}insertBeforeTo(t,n){const r=this.childNodes;t.insertBefore(this.open,n);for(const i of r)t.insertBefore(i,n);t.insertBefore(this.close,n),this.$template$.childElementCount}appendTo(t){this.insertBeforeTo(t,null)}get namespaceURI(){var t;return((t=this.parentElement)==null?void 0:t.namespaceURI)??""}removeChild(t){this.parentElement?this.parentElement.removeChild(t):this.$template$.removeChild(t)}getAttribute(t){return this.$attributes$[t]??null}hasAttribute(t){return t in this.$attributes$}setAttribute(t,n){this.$attributes$[t]=n,this.open.data=u_(this.$attributes$)}removeAttribute(t){delete this.$attributes$[t],this.open.data=u_(this.$attributes$)}matches(t){return!1}compareDocumentPosition(t){return this.open.compareDocumentPosition(t)}closest(t){const n=this.parentElement;return n?n.closest(t):null}querySelectorAll(t){const n=[];return as(this,xS).forEach(r=>{ci(r)&&(r.matches(t)&&n.push(r),n.concat(Array.from(r.querySelectorAll(t))))}),n}querySelector(t){for(const n of this.childNodes)if(ai(n)){if(n.matches(t))return n;const r=n.querySelector(t);if(r!==null)return r}return null}get innerHTML(){return""}set innerHTML(t){const n=this.parentElement;n?(this.childNodes.forEach(r=>this.removeChild(r)),this.$template$.innerHTML=t,n.insertBefore(this.$template$.content,this.close)):this.$template$.innerHTML=t}get firstChild(){if(this.parentElement){const t=this.open.nextSibling;return t===this.close?null:t}return this.$template$.firstChild}get nextSibling(){return this.close.nextSibling}get previousSibling(){return this.open.previousSibling}get childNodes(){if(!this.parentElement)return Array.from(this.$template$.childNodes);const t=[];let n=this.open;for(;(n=n.nextSibling)&&n!==this.close;)t.push(n);return t}get isConnected(){return this.open.isConnected}get parentElement(){return this.open.parentElement}}const u_=e=>`qv ${wT(e)}`,lp=e=>{if(e==null)return null;if(pa(e)){const t=wa(e);if(t)return t}return e},TT=e=>{let t=e,n=1;for(;t=t.nextSibling;)if(pa(t)){const r=t.__virtual;if(r)t=r;else if(t.data.startsWith("qv "))n++;else if(t.data==="/qv"&&(n--,n===0))return t}},wa=e=>{var n;const t=e.__virtual;if(t)return t;if(e.data.startsWith("qv ")){const r=TT(e);return new ty(e,r,((n=e.parentElement)==null?void 0:n.namespaceURI)===ba)}return null},kc=e=>e==null?null:nr(e)?e.open:e,HY=async e=>{const t=Uh(null,null),n=ny(t);let r;for(Ne(e,n,!1);(r=n.$promises$).length>0;)n.$promises$=[],await Promise.all(r);const i=Array.from(n.$objSet$.keys());let s=0;const o=new Map;for(const l of i)o.set(l,Gr(s)),s++;if(n.$noSerialize$.length>0){const l=o.get(void 0);for(const u of n.$noSerialize$)o.set(u,l)}const a=l=>{let u="";if(Rt(l)){const f=ry(l);if(!f)throw $t(27,l);l=f.value,u+=f.resolved?"~":"_"}if(ar(l)){const f=Wi(l);f&&(u+="!",l=f)}const d=o.get(l);if(d===void 0)throw $t(27,l);return d+u},c=sy(i,a,null,n,t);return JSON.stringify({_entry:a(e),_objs:c})},xT=async(e,t)=>{const n=_a(e),r=n.documentElement,i=t1(e)?r:e;if(Un(i,"q:container")==="paused")throw $t(21);const s=t??(i===n.documentElement?n.body:i),o=Ls(i),a=RT(i,MT);gn(i,"q:container","paused");for(const f of a){const p=f.$element$,g=f.li;if(f.$scopeIds$){const h=d1(f.$scopeIds$);h&&p.setAttribute("q:sstyle",h)}if(f.$id$&&p.setAttribute("q:id",f.$id$),ai(p)&&g.length>0){const h=qh(g);for(const m of h)p.setAttribute(m[0],fp(m[1],o,f))}}const c=await AT(a,o,f=>oi(f)&&Nh(f)?UT(f,o):null),l=n.createElement("script");gn(l,"type","qwik/json"),l.textContent=NT(JSON.stringify(c.state,void 0,void 0)),s.appendChild(l);const u=Array.from(o.$events$,f=>JSON.stringify(f)),d=n.createElement("script");return d.textContent=`window.qwikevents||=[];window.qwikevents.push(${u.join(", ")})`,s.appendChild(d),c},AT=async(e,t,n,r)=>{var y;const i=ny(t);r==null||r.forEach((b,$)=>{i.$seen$.add($)});let s=!1;for(const b of e)if(b.$tasks$)for(const $ of b.$tasks$)O1($)&&i.$resources$.push($.$state$),P1($);for(const b of e){const $=b.$element$,S=b.li;for(const I of S)if(ai($)){const x=I[1],A=x.$captureRef$;if(A)for(const C of A)Ne(C,i,!0);i.$qrls$.push(x),s=!0}}if(!s)return{state:{refs:{},ctx:{},objs:[],subs:[]},objs:[],funcs:[],qrls:[],resources:i.$resources$,mode:"static"};let o;for(;(o=i.$promises$).length>0;)i.$promises$=[],await Promise.all(o);const a=i.$elements$.length>0;if(a){for(const b of i.$deferElements$)up(b,i,b.$element$);for(const b of e)CT(b,i)}for(;(o=i.$promises$).length>0;)i.$promises$=[],await Promise.all(o);const c=new Map,l=Array.from(i.$objSet$.keys()),u=new Map,d=b=>{let $="";if(Rt(b)){const x=ry(b);if(!x)return null;b=x.value,$+=x.resolved?"~":"_"}if(ar(b)){const x=Wi(b);if(x)$+="!",b=x;else if(ci(b)){const A=(C=>{let N=c.get(C);return N===void 0&&(N=FT(C),N||console.warn("Missing ID",C),c.set(C,N)),N})(b);return A?"#"+A+$:null}}const S=u.get(b);if(S)return S+$;const I=r==null?void 0:r.get(b);return I?"*"+I:n?n(b):null},f=b=>{const $=d(b);if($===null){if(pp(b)){const S=Gr(u.size);return u.set(b,S),S}throw $t(27,b)}return $},p=new Map;for(const b of l){const $=(y=LT(b,t))==null?void 0:y.$subs$;if(!$)continue;const S=_y(b)??0,I=[];1&S&&I.push(S);for(const x of $){const A=x[1];x[0]===0&&oi(A)&&nr(A)&&!i.$elements$.includes(wn(A))||I.push(x)}I.length>0&&p.set(b,I)}l.sort((b,$)=>(p.has(b)?0:1)-(p.has($)?0:1));let g=0;for(const b of l)u.set(b,Gr(g)),g++;if(i.$noSerialize$.length>0){const b=u.get(void 0);for(const $ of i.$noSerialize$)u.set($,b)}const h=[];for(const b of l){const $=p.get(b);if($==null)break;h.push($.map(S=>typeof S=="number"?`_${S}`:yx(S,d)).filter(r1))}h.length,p.size;const m=sy(l,f,d,i,t),_={},v={};for(const b of e){const $=b.$element$,S=b.$id$,I=b.$refMap$,x=b.$props$,A=b.$contexts$,C=b.$tasks$,N=b.$componentQrl$,T=b.$seq$,k={},E=nr($)&&i.$elements$.includes(b);if(I.length>0){const M=$i(I,f," ");M&&(v[S]=M)}else if(a){let M=!1;if(E){const Y=d(x);k.h=f(N)+(Y?" "+Y:""),M=!0}else{const Y=d(x);Y&&(k.h=" "+Y,M=!0)}if(C&&C.length>0){const Y=$i(C,d," ");Y&&(k.w=Y,M=!0)}if(E&&T&&T.length>0){const Y=$i(T,f," ");k.s=Y,M=!0}if(A){const Y=[];A.forEach((ae,Z)=>{const J=d(ae);J&&Y.push(`${Z}=${J}`)});const q=Y.join(" ");q&&(k.c=q,M=!0)}M&&(_[S]=k)}}return{state:{refs:v,ctx:_,objs:m,subs:h},objs:l,funcs:i.$inlinedFunctions$,resources:i.$resources$,qrls:i.$qrls$,mode:a?"render":"listeners"}},$i=(e,t,n)=>{let r="";for(const i of e){const s=t(i);s!==null&&(r!==""&&(r+=n),r+=s)}return r},RT=(e,t)=>{const n=[],r=t(e);r!==void 0&&n.push(r);const i=e.ownerDocument.createTreeWalker(e,129,{acceptNode(s){if(DT(s))return 2;const o=t(s);return o!==void 0&&n.push(o),3}});for(;i.nextNode(););return n},CT=(e,t)=>{var i;const n=e.$realParentCtx$||e.$parentCtx$,r=e.$props$;if(n&&r&&!iy(r)&&t.$elements$.includes(n)){const s=(i=tn(r))==null?void 0:i.$subs$,o=e.$element$;if(s)for(const[a,c]of s)a===0?(c!==o&&xs(tn(r),t,!1),oi(c)?kT(c,t):Ne(c,t,!0)):(Ne(r,t,!1),xs(tn(r),t,!1))}},ny=e=>{const t=[];return e.$inlineFns$.forEach((n,r)=>{for(;t.length<=n;)t.push("");t[n]=r}),{$containerState$:e,$seen$:new Set,$objSet$:new Set,$prefetch$:0,$noSerialize$:[],$inlinedFunctions$:t,$resources$:[],$elements$:[],$qrls$:[],$deferElements$:[],$promises$:[]}},OT=(e,t)=>{const n=wn(e);t.$elements$.includes(n)||(t.$elements$.push(n),n.$flags$&np?(t.$prefetch$++,up(n,t,!0),t.$prefetch$--):t.$deferElements$.push(n))},kT=(e,t)=>{const n=wn(e);if(n){if(t.$elements$.includes(n))return;t.$elements$.push(n),up(n,t,e)}},up=(e,t,n)=>{if(e.$props$&&!iy(e.$props$)&&(Ne(e.$props$,t,n),xs(tn(e.$props$),t,n)),e.$componentQrl$&&Ne(e.$componentQrl$,t,n),e.$seq$)for(const r of e.$seq$)Ne(r,t,n);if(e.$tasks$){const r=t.$containerState$.$subsManager$.$groupToManagers$;for(const i of e.$tasks$)r.has(i)&&Ne(i,t,n)}if(n===!0&&(d_(e,t),e.$dynamicSlots$))for(const r of e.$dynamicSlots$)d_(r,t)},d_=(e,t)=>{for(;e;){if(e.$contexts$)for(const n of e.$contexts$.values())Ne(n,t,!0);e=e.$parentCtx$}},NT=e=>e.replace(/<(\/?script)/gi,"\\x3C$1"),xs=(e,t,n)=>{if(t.$seen$.has(e))return;t.$seen$.add(e);const r=e.$subs$;for(const i of r)if(i[0]>0&&Ne(i[2],t,n),n===!0){const s=i[1];oi(s)&&nr(s)?i[0]===0&&OT(s,t):Ne(s,t,!0)}},vf=Symbol(),PT=e=>e.then(t=>(e[vf]={resolved:!0,value:t},t),t=>(e[vf]={resolved:!1,value:t},t)),ry=e=>e[vf],Ne=(e,t,n)=>{if(e!=null){const r=typeof e;switch(r){case"function":case"object":{if(t.$seen$.has(e))return;if(t.$seen$.add(e),py(e))return t.$objSet$.add(void 0),void t.$noSerialize$.push(e);const i=e,s=Wi(e);if(s){const o=(2&_y(e=s))==0;if(n&&o&&xs(tn(i),t,n),my(i))return void t.$objSet$.add(e)}if(fx(e,t,n))return void t.$objSet$.add(e);if(Rt(e))return void t.$promises$.push(PT(e).then(o=>{Ne(o,t,n)}));if(r==="object"){if(oi(e))return;if(et(e))for(let o=0;o<e.length;o++)Ne(i[o],t,n);else if(ma(e))for(const o in e)Ne(i[o],t,n)}break}}}t.$objSet$.add(e)},DT=e=>ai(e)&&e.hasAttribute("q:container"),MT=e=>{const t=lp(e);if(ci(t)){const n=wn(t);if(n&&n.$id$)return n}},LT=(e,t)=>{if(!ar(e))return;if(e instanceof Lo)return tn(e);const n=t.$proxyMap$.get(e);return n?tn(n):void 0},FT=e=>{const t=wn(e);return t?t.$id$:null},UT=(e,t)=>{const n=e.previousSibling;if(n&&pa(n)&&n.data.startsWith("t="))return"#"+n.data.slice(2);const r=e.ownerDocument,i=Gr(t.$elementIndex$++),s=r.createComment(`t=${i}`),o=r.createComment(""),a=e.parentElement;return a.insertBefore(s,e),a.insertBefore(o,e.nextSibling),"#"+i},iy=e=>Object.keys(e).length===0;function sy(e,t,n,r,i){return e.map(s=>{if(s===null)return null;const o=typeof s;switch(o){case"undefined":return El;case"number":if(!Number.isFinite(s))break;return s;case"string":if(s.charCodeAt(0)<32)break;return s;case"boolean":return s}const a=hx(s,t,r,i);if(a!==void 0)return a;if(o==="object"){if(et(s))return s.map(t);if(ma(s)){const c={};for(const l in s)if(n){const u=n(s[l]);u!==null&&(c[l]=u)}else c[l]=t(s[l]);return c}}throw $t(3,s)})}const ue=(e,t,n=Qn)=>Sa(null,t,e,null,null,n,null),Yt=(e,t=Qn)=>Sa(null,e,null,null,null,t,null),dp=(e,t={})=>{let n=e.$symbol$,r=e.$chunk$;const i=e.$refSymbol$??n,s=fl();if(s){const l=s.chunkForSymbol(i,r);l&&(r=l[1],e.$refSymbol$||(n=l[0]))}if(r==null)throw $t(31,e.$symbol$);if(r.startsWith("./")&&(r=r.slice(2)),Sx(e))if(t.$containerState$){const l=t.$containerState$,u=e.resolved.toString();let d=l.$inlineFns$.get(u);d===void 0&&(d=l.$inlineFns$.size,l.$inlineFns$.set(u,d)),n=String(d)}else n1("Sync QRL without containerState");let o=`${r}#${n}`;const a=e.$capture$,c=e.$captureRef$;return c&&c.length?t.$getObjId$?o+=`[${$i(c,t.$getObjId$," ")}]`:t.$addRefMap$&&(o+=`[${$i(c,t.$addRefMap$," ")}]`):a&&a.length>0&&(o+=`[${a.join(" ")}]`),o},fp=(e,t,n)=>{n.$element$;const r={$containerState$:t,$addRefMap$:i=>BT(n.$refMap$,i)};return $i(e,i=>dp(i,r),`
`)},wl=(e,t)=>{const n=e.length,r=f_(e,0,"#"),i=f_(e,r,"["),s=Math.min(r,i),o=e.substring(0,s),a=r==n?r:r+1,c=a==i?"default":e.substring(a,i),l=i===n?Qn:e.substring(i+1,n-1).split(" "),u=Sa(o,c,null,null,l,null,null);return t&&u.$setContainer$(t),u},f_=(e,t,n)=>{const r=e.length,i=e.indexOf(n,t==r?0:t);return i==-1?r:i},BT=(e,t)=>{const n=e.indexOf(t);return n===-1?(e.push(t),String(e.length-1)):String(n)},oy=(e,t)=>(e.$capture$,e.$captureRef$=e.$capture$.map(n=>{const r=parseInt(n,10),i=t.$refMap$[r];return t.$refMap$.length>r,i})),ay=(e,t)=>{const{val:n,set:r,i,iCtx:s,elCtx:o}=li();if(n!=null)return n;const a=s.$renderCtx$.$static$.$containerState$,c=zT(a,t),l=new va(Xr|Jh,i,o.$element$,e,c),u=Promise.all(s.$waitOn$.slice());return k1(l,a,s.$renderCtx$,u),o.$tasks$||(o.$tasks$=[]),o.$tasks$.push(l),r(c),c},cy=e=>{const t=!rr(),n=e.value;let r;if(uy(n)){if(t){if(e.onRejected&&(n.value.catch(()=>{}),n._state==="rejected"))return e.onRejected(n._error);if(e.onPending){const i=n._state;if(i==="resolved")return e.onResolved(n._resolved);if(i==="pending")return e.onPending();if(i==="rejected")throw n._error}if(hs(()=>n._resolved)!==void 0)return e.onResolved(n._resolved)}r=n.value}else if(Rt(n))r=n;else{if(!Gt(n))return e.onResolved(n);r=Promise.resolve(n.value)}return Ke(St,{children:r.then(i_(e.onResolved),i_(e.onRejected))})},ly=e=>({__brand:"resource",value:void 0,loading:!rr(),_resolved:void 0,_error:void 0,_state:"pending",_timeout:(e==null?void 0:e.timeout)??-1,_cache:0}),zT=(e,t,n)=>{const r=ly(t);return r.value=n,Fs(r,e,void 0)},uy=e=>ar(e)&&e.__brand==="resource",qT=(e,t)=>{const n=e._state;return n==="resolved"?`0 ${t(e._resolved)}`:n==="pending"?"1":`2 ${t(e._error)}`},WT=e=>{const[t,n]=e.split(" "),r=ly(void 0);return r.value=Promise.resolve(),t==="0"?(r._state="resolved",r._resolved=n,r.loading=!1):t==="1"?(r._state="pending",r.value=new Promise(()=>{}),r.loading=!0):t==="2"&&(r._state="rejected",r._error=n,r.loading=!1),r},Jr=e=>de(Yr,{"q:s":""},0,e.name??""),El="";function ot(e){return{$prefixCode$:e.$prefix$.charCodeAt(0),$prefixChar$:e.$prefix$,$test$:e.$test$,$serialize$:e.$serialize$,$prepare$:e.$prepare$,$fill$:e.$fill$,$collect$:e.$collect$,$subs$:e.$subs$}}const jT=ot({$prefix$:"",$test$:e=>pp(e),$collect$:(e,t,n)=>{if(e.$captureRef$)for(const r of e.$captureRef$)Ne(r,t,n);t.$prefetch$===0&&t.$qrls$.push(e)},$serialize$:(e,t)=>dp(e,{$getObjId$:t}),$prepare$:(e,t)=>wl(e,t.$containerEl$),$fill$:(e,t)=>{e.$capture$&&e.$capture$.length>0&&(e.$captureRef$=e.$capture$.map(t),e.$capture$=null)}}),VT=ot({$prefix$:"",$test$:e=>ep(e),$collect$:(e,t,n)=>{Ne(e.$qrl$,t,n),e.$state$&&(Ne(e.$state$,t,n),n===!0&&e.$state$ instanceof Lo&&xs(e.$state$[Zn],t,!0))},$serialize$:(e,t)=>DI(e,t),$prepare$:e=>MI(e),$fill$:(e,t)=>{e.$el$=t(e.$el$),e.$qrl$=t(e.$qrl$),e.$state$&&(e.$state$=t(e.$state$))}}),HT=ot({$prefix$:"",$test$:e=>uy(e),$collect$:(e,t,n)=>{Ne(e.value,t,n),Ne(e._resolved,t,n)},$serialize$:(e,t)=>qT(e,t),$prepare$:e=>WT(e),$fill$:(e,t)=>{if(e._state==="resolved")e._resolved=t(e._resolved),e.value=Promise.resolve(e._resolved);else if(e._state==="rejected"){const n=Promise.reject(e._error);n.catch(()=>null),e._error=t(e._error),e.value=n}}}),GT=ot({$prefix$:"",$test$:e=>e instanceof URL,$serialize$:e=>e.href,$prepare$:e=>new URL(e)}),YT=ot({$prefix$:"",$test$:e=>e instanceof Date,$serialize$:e=>e.toISOString(),$prepare$:e=>new Date(e)}),KT=ot({$prefix$:"\x07",$test$:e=>e instanceof RegExp,$serialize$:e=>`${e.flags} ${e.source}`,$prepare$:e=>{const t=e.indexOf(" "),n=e.slice(t+1),r=e.slice(0,t);return new RegExp(n,r)}}),XT=ot({$prefix$:"",$test$:e=>e instanceof Error,$serialize$:e=>e.message,$prepare$:e=>{const t=new Error(e);return t.stack=void 0,t}}),QT=ot({$prefix$:"",$test$:e=>!!e&&typeof e=="object"&&t1(e),$prepare$:(e,t,n)=>n}),Nc=Symbol("serializable-data"),ZT=ot({$prefix$:"",$test$:e=>yy(e),$serialize$:(e,t)=>{const[n]=e[Nc];return dp(n,{$getObjId$:t})},$prepare$:(e,t)=>{const n=wl(e,t.$containerEl$);return Re(n)},$fill$:(e,t)=>{var r;const[n]=e[Nc];(r=n.$capture$)!=null&&r.length&&(n.$captureRef$=n.$capture$.map(t),n.$capture$=null)}}),JT=ot({$prefix$:"",$test$:e=>e instanceof cf,$collect$:(e,t,n)=>{if(e.$args$)for(const r of e.$args$)Ne(r,t,n)},$serialize$:(e,t,n)=>{const r=US(e);let i=n.$inlinedFunctions$.indexOf(r);return i<0&&(i=n.$inlinedFunctions$.length,n.$inlinedFunctions$.push(r)),$i(e.$args$,t," ")+" @"+Gr(i)},$prepare$:e=>{const t=e.split(" "),n=t.slice(0,-1),r=t[t.length-1];return new cf(r,n,r)},$fill$:(e,t)=>{e.$func$,e.$func$=t(e.$func$),e.$args$=e.$args$.map(t)}}),ex=ot({$prefix$:"",$test$:e=>e instanceof Lo,$collect$:(e,t,n)=>(Ne(e.untrackedValue,t,n),n===!0&&!(1&e[Mo])&&xs(e[Zn],t,!0),e),$serialize$:(e,t)=>t(e.untrackedValue),$prepare$:(e,t)=>{var n;return new Lo(e,(n=t==null?void 0:t.$subsManager$)==null?void 0:n.$createManager$(),0)},$subs$:(e,t)=>{e[Zn].$addSubs$(t)},$fill$:(e,t)=>{e.untrackedValue=t(e.untrackedValue)}}),tx=ot({$prefix$:"",$test$:e=>e instanceof lf,$collect$(e,t,n){if(Ne(e.ref,t,n),my(e.ref)){const r=tn(e.ref);mx(t.$containerState$.$subsManager$,r,n)&&Ne(e.ref[e.prop],t,n)}return e},$serialize$:(e,t)=>`${t(e.ref)} ${e.prop}`,$prepare$:e=>{const[t,n]=e.split(" ");return new lf(t,n)},$fill$:(e,t)=>{e.ref=t(e.ref)}}),nx=ot({$prefix$:"",$test$:e=>typeof e=="number",$serialize$:e=>String(e),$prepare$:e=>Number(e)}),rx=ot({$prefix$:"",$test$:e=>e instanceof URLSearchParams,$serialize$:e=>e.toString(),$prepare$:e=>new URLSearchParams(e)}),ix=ot({$prefix$:"",$test$:e=>typeof FormData<"u"&&e instanceof globalThis.FormData,$serialize$:e=>{const t=[];return e.forEach((n,r)=>{t.push(typeof n=="string"?[r,n]:[r,n.name])}),JSON.stringify(t)},$prepare$:e=>{const t=JSON.parse(e),n=new FormData;for(const[r,i]of t)n.append(r,i);return n}}),sx=ot({$prefix$:"",$test$:e=>qi(e),$collect$:(e,t,n)=>{Ne(e.children,t,n),Ne(e.props,t,n),Ne(e.immutableProps,t,n),Ne(e.key,t,n);let r=e.type;r===Jr?r=":slot":r===St&&(r=":fragment"),Ne(r,t,n)},$serialize$:(e,t)=>{let n=e.type;return n===Jr?n=":slot":n===St&&(n=":fragment"),`${t(n)} ${t(e.props)} ${t(e.immutableProps)} ${t(e.key)} ${t(e.children)} ${e.flags}`},$prepare$:e=>{const[t,n,r,i,s,o]=e.split(" ");return new Us(t,n,r,s,parseInt(o,10),i)},$fill$:(e,t)=>{e.type=_x(t(e.type)),e.props=t(e.props),e.immutableProps=t(e.immutableProps),e.key=t(e.key),e.children=t(e.children)}}),ox=ot({$prefix$:"",$test$:e=>typeof e=="bigint",$serialize$:e=>e.toString(),$prepare$:e=>BigInt(e)}),ps=Symbol(),ax=ot({$prefix$:"",$test$:e=>e instanceof Set,$collect$:(e,t,n)=>{e.forEach(r=>Ne(r,t,n))},$serialize$:(e,t)=>Array.from(e).map(t).join(" "),$prepare$:e=>{const t=new Set;return t[ps]=e,t},$fill$:(e,t)=>{const n=e[ps];e[ps]=void 0;const r=n.length===0?[]:n.split(" ");for(const i of r)e.add(t(i))}}),cx=ot({$prefix$:"",$test$:e=>e instanceof Map,$collect$:(e,t,n)=>{e.forEach((r,i)=>{Ne(r,t,n),Ne(i,t,n)})},$serialize$:(e,t)=>{const n=[];return e.forEach((r,i)=>{n.push(t(i)+" "+t(r))}),n.join(" ")},$prepare$:e=>{const t=new Map;return t[ps]=e,t},$fill$:(e,t)=>{const n=e[ps];e[ps]=void 0;const r=n.length===0?[]:n.split(" ");r.length%2;for(let i=0;i<r.length;i+=2)e.set(t(r[i]),t(r[i+1]))}}),lx=ot({$prefix$:"\x1B",$test$:e=>!!dy(e)||e===El,$serialize$:e=>e,$prepare$:e=>e}),$l=[jT,VT,HT,GT,YT,KT,XT,QT,ZT,JT,ex,tx,nx,rx,ix,sx,ox,ax,cx,lx],h_=(()=>{const e=[];return $l.forEach(t=>{const n=t.$prefixCode$;for(;e.length<n;)e.push(void 0);e.push(t)}),e})();function dy(e){if(typeof e=="string"){const t=e.charCodeAt(0);if(t<h_.length)return h_[t]}}const ux=$l.filter(e=>e.$collect$),dx=e=>{for(const t of $l)if(t.$test$(e))return!0;return!1},fx=(e,t,n)=>{for(const r of ux)if(r.$test$(e))return r.$collect$(e,t,n),!0;return!1},hx=(e,t,n,r)=>{for(const i of $l)if(i.$test$(e)){let s=i.$prefixChar$;return i.$serialize$&&(s+=i.$serialize$(e,t,n,r)),s}if(typeof e=="string")return e},fy=(e,t)=>{const n=new Map,r=new Map;return{prepare(i){const s=dy(i);if(s){const o=s.$prepare$(i.slice(1),e,t);return s.$fill$&&n.set(o,s),s.$subs$&&r.set(o,s),o}return i},subs(i,s){const o=r.get(i);return!!o&&(o.$subs$(i,s,e),!0)},fill(i,s){const o=n.get(i);return!!o&&(o.$fill$(i,s,e),!0)}}},px={"!":(e,t)=>t.$proxyMap$.get(e)??jh(e,t),"~":e=>Promise.resolve(e),_:e=>Promise.reject(e)},mx=(e,t,n)=>{if(typeof n=="boolean")return n;const r=e.$groupToManagers$.get(n);return!!(r&&r.length>0)&&(r.length!==1||r[0]!==t)},_x=e=>e===":slot"?Jr:e===":fragment"?St:e,GY=(e,t)=>yf(e,new Set,"_",t),yf=(e,t,n,r)=>{const i=$a(e);if(i==null)return e;if(gx(i)){if(t.has(i)||(t.add(i),dx(i)))return e;const s=typeof i;switch(s){case"object":if(Rt(i)||oi(i))return e;if(et(i)){let a=0;return i.forEach((c,l)=>{if(l!==a)throw $t(3,i);yf(c,t,n+"["+l+"]"),a=l+1}),e}if(ma(i)){for(const[a,c]of Object.entries(i))yf(c,t,n+"."+a);return e}break;case"boolean":case"string":case"number":return e}let o="";if(o=r||"Value cannot be serialized",n!=="_"&&(o+=` in ${n},`),s==="object")o+=` because it's an instance of "${e==null?void 0:e.constructor.name}". You might need to use 'noSerialize()' or use an object literal instead. Check out https://qwik.builder.io/docs/advanced/dollar/`;else if(s==="function"){const a=e.name;o+=` because it's a function named "${a}". You might need to convert it to a QRL using $(fn):

const ${a} = $(${String(e)});

Please check out https://qwik.builder.io/docs/advanced/qrl/ for more information.`}console.error("Trying to serialize",e),n1(o)}return e},hp=new WeakSet,hy=new WeakSet,gx=e=>!ar(e)&&!yn(e)||!hp.has(e),py=e=>hp.has(e),my=e=>hy.has(e),Ea=e=>(e!=null&&hp.add(e),e),vx=e=>(hy.add(e),e),$a=e=>ar(e)?Wi(e)??e:e,Wi=e=>e[of],tn=e=>e[Zn],_y=e=>e[os],yx=(e,t)=>{const n=e[0],r=typeof e[1]=="string"?e[1]:t(e[1]);if(!r)return;let i=n+" "+r,s;if(n===0)s=e[2];else{const o=t(e[2]);if(!o)return;n<=2?(s=e[5],i+=` ${o} ${p_(t(e[3]))} ${e[4]}`):n<=4&&(s=e[4],i+=` ${o} ${typeof e[3]=="string"?e[3]:p_(t(e[3]))}`)}return s&&(i+=` ${encodeURI(s)}`),i},bx=(e,t)=>{const n=e.split(" "),r=parseInt(n[0],10);n.length>=2;const i=t(n[1]);if(!i||ep(i)&&!i.$el$)return;const s=[r,i];return r===0?(n.length<=3,s.push(td(n[2]))):r<=2?(n.length===5||n.length,s.push(t(n[2]),t(n[3]),n[4],td(n[5]))):r<=4&&(n.length===4||n.length,s.push(t(n[2]),t(n[3]),td(n[4]))),s},td=e=>{if(e!==void 0)return decodeURI(e)},wx=e=>{const t=new Map;return{$groupToManagers$:t,$createManager$:r=>new Ex(t,e,r),$clearSub$:r=>{const i=t.get(r);if(i){for(const s of i)s.$unsubGroup$(r);t.delete(r),i.length=0}},$clearSignal$:r=>{const i=t.get(r[1]);if(i)for(const s of i)s.$unsubEntry$(r)}}};class Ex{constructor(t,n,r){this.$groupToManagers$=t,this.$containerState$=n,this.$subs$=[],r&&this.$addSubs$(r)}$addSubs$(t){this.$subs$.push(...t);for(const n of this.$subs$)this.$addToGroup$(n[1],this)}$addToGroup$(t,n){let r=this.$groupToManagers$.get(t);r||this.$groupToManagers$.set(t,r=[]),r.includes(n)||r.push(n)}$unsubGroup$(t){const n=this.$subs$;for(let r=0;r<n.length;r++)n[r][1]===t&&(n.splice(r,1),r--)}$unsubEntry$(t){const[n,r,i,s]=t,o=this.$subs$;if(n===1||n===2){const a=t[4];for(let c=0;c<o.length;c++){const l=o[c];l[0]===n&&l[1]===r&&l[2]===i&&l[3]===s&&l[4]===a&&(o.splice(c,1),c--)}}else if(n===3||n===4)for(let a=0;a<o.length;a++){const c=o[a];c[0]===n&&c[1]===r&&c[2]===i&&c[3]===s&&(o.splice(a,1),a--)}}$addSub$(t,n){const r=this.$subs$,i=t[1];t[0]===0&&r.some(([s,o,a])=>s===0&&o===i&&a===n)||(r.push(gy=[...t,n]),this.$addToGroup$(i,this))}$notifySubs$(t){const n=this.$subs$;for(const r of n){const i=r[r.length-1];t&&i&&i!==t||EI(r,this.$containerState$)}}}let gy;function $x(){return gy}const p_=e=>{if(e==null)throw xi("must be non null",e);return e},pp=e=>typeof e=="function"&&typeof e.getSymbol=="function",Sx=e=>pp(e)&&e.$symbol$=="<sync>",Sa=(e,t,n,r,i,s,o)=>{let a;const c=async function(...m){return await f.call(this,_r())(...m)},l=m=>(a||(a=m),a),u=async m=>{if(m&&l(m),e==""&&(n=(a.qFuncs||[])[Number(t)]),n!==null)return n;if(r!==null)return n=r().then(_=>c.resolved=n=_[t]);{const _=fl().importSymbol(a,e,t);return n=Ue(_,v=>c.resolved=n=v)}},d=m=>n!==null?n:u(m);function f(m,_){return(...v)=>{const y=xx(),b=d();return Ue(b,$=>{if(yn($)){if(_&&_()===!1)return;const S={...p(m),$qrl$:c};return S.$event$===void 0&&(S.$event$=this),Ix(t,S.$element$,y),an.call(this,S,$,...v)}throw $t(10)})}}const p=m=>m==null?Ln():et(m)?U1(m):m,g=o??t,h=vy(g);return Object.assign(c,{getSymbol:()=>g,getHash:()=>h,getCaptured:()=>s,resolve:u,$resolveLazy$:d,$setContainer$:l,$chunk$:e,$symbol$:t,$refSymbol$:o,$hash$:h,getFn:f,$capture$:i,$captureRef$:s,dev:null,resolved:t=="<sync>"?n:void 0}),c},vy=e=>{const t=e.lastIndexOf("_");return t>-1?e.slice(t+1):e};const m_=new Set,Ix=(e,t,n)=>{m_.has(e)||(m_.add(e),Tx("qsymbol",{symbol:e,element:t,reqTime:n}))},Tx=(e,t)=>{rr()||typeof document!="object"||document.dispatchEvent(new CustomEvent(e,{bubbles:!1,detail:t}))},xx=()=>rr()?0:typeof performance=="object"?performance.now():0,Ax=function(e,t){return t===void 0&&(t=e.toString()),Sa("","<sync>",e,null,null,null,null)},Re=e=>{function t(n,r,i){const s=e.$hash$.slice(0,4);return de(Yr,{"q:renderFn":e,[bn]:n[bn],[H]:n[H],children:n.children,props:n},i,s+":"+(r||""))}return t[Nc]=[e],t},yy=e=>typeof e=="function"&&e[Nc]!==void 0,Kn=(e,t)=>{const{val:n,set:r,iCtx:i}=li();if(n!=null)return n;const s=yn(e)?an(void 0,e):e;if((t==null?void 0:t.reactive)===!1)return r(s),s;{const o=jh(s,i.$renderCtx$.$static$.$containerState$,(t==null?void 0:t.deep)??!0?1:0);return r(o),o}};function mp(e,t){var r;const n=_r();return((r=n==null?void 0:n.$renderCtx$)==null?void 0:r.$static$.$containerState$.$serverData$[e])??t}const by=e=>{Rx(e,t=>t,!1)},Rx=(e,t,n)=>{const{val:r,set:i,iCtx:s,i:o,elCtx:a}=li();if(r)return r;const c=jS(e,o),l=s.$renderCtx$.$static$.$containerState$;if(i(c),a.$appendStyles$||(a.$appendStyles$=[]),a.$scopeIds$||(a.$scopeIds$=[]),n&&a.$scopeIds$.push(VS(c)),l.$styleIds$.has(c))return c;l.$styleIds$.add(c);const u=e.$resolveLazy$(l.$containerEl$),d=f=>{a.$appendStyles$,a.$appendStyles$.push({styleId:c,content:t(f,c)})};return Rt(u)?s.$waitOn$.push(u.then(d)):d(u),c},Et=e=>{const{val:t,set:n,iCtx:r}=li();if(t!=null)return t;const i=r.$renderCtx$.$static$.$containerState$,s=yn(e)&&!yy(e)?an(void 0,e):e;return n(BS(s,i,0,void 0))},Cx='((i,a,r,s)=>{r=e=>{const t=document.querySelector("[q\\\\:base]");t&&a.active&&a.active.postMessage({type:"qprefetch",base:t.getAttribute("q:base"),...e})},document.addEventListener("qprefetch",e=>{const t=e.detail;a?r(t):i.push(t)}),navigator.serviceWorker.register("/service-worker.js").then(e=>{s=()=>{a=e,i.forEach(r),r({bundles:i})},e.installing?e.installing.addEventListener("statechange",t=>{t.target.state=="activated"&&s()}):e.active&&s()}).catch(e=>console.error(e))})([])',wy=cn("qc-s"),Ox=cn("qc-c"),Ey=cn("qc-ic"),$y=cn("qc-h"),Sy=cn("qc-l"),Iy=cn("qc-n"),Ty=cn("qc-a"),kx=cn("qc-ir"),Nx=e=>{const t=window,n=location.pathname+location.search,r="_qCitySPA",i="_qCityHistoryPatch",s="_qCityBootstrap",o="_qCityInitPopstate",a="_qCityInitAnchors",c="_qCityInitVisibility",l="_qCityInitScroll",u="_qCityScrollEnabled",d="_qCityScrollDebounce",f="_qCityScroll",p=m=>{m&&t.scrollTo(m.x,m.y)},g=()=>{const m=document.documentElement;return{x:m.scrollLeft,y:m.scrollTop,w:Math.max(m.scrollWidth,m.clientWidth),h:Math.max(m.scrollHeight,m.clientHeight)}},h=m=>{const _=history.state||{};_[f]=m||g(),history.replaceState(_,"")};if(!t[r]&&!t[o]&&!t[a]&&!t[c]&&!t[l]){if(h(),t[o]=()=>{var m;if(!t[r]){if(t[u]=!1,clearTimeout(t[d]),n!==location.pathname+location.search){const v=e.closest("[q\\:container]").querySelector('a[q\\:key="AD_1"]');if(v){const y=v.closest("[q\\:container]"),b=v.cloneNode();b.setAttribute("q:nbs",""),b.style.display="none",y.appendChild(b),t[s]=b,b.click()}else location.reload()}else if(history.scrollRestoration==="manual"){const _=(m=history.state)==null?void 0:m[f];p(_),t[u]=!0}}},!t[i]){t[i]=!0;const m=history.pushState,_=history.replaceState,v=y=>(y===null||typeof y>"u"?y={}:(y==null?void 0:y.constructor)!==Object&&(y={_data:y}),y._qCityScroll=y._qCityScroll||g(),y);history.pushState=(y,b,$)=>(y=v(y),m.call(history,y,b,$)),history.replaceState=(y,b,$)=>(y=v(y),_.call(history,y,b,$))}t[a]=m=>{if(t[r]||m.defaultPrevented)return;const _=m.target.closest("a[href]");if(_&&!_.hasAttribute("preventdefault:click")){const v=_.getAttribute("href"),y=new URL(location.href),b=new URL(v,y),$=b.origin===y.origin,S=b.pathname+b.search===y.pathname+y.search;if($&&S)if(m.preventDefault(),b.href!==y.href&&history.pushState(null,"",b),!b.hash)b.href.endsWith("#")?window.scrollTo(0,0):(t[u]=!1,clearTimeout(t[d]),h({...g(),x:0,y:0}),location.reload());else{const I=b.hash.slice(1),x=document.getElementById(I);x&&x.scrollIntoView()}}},t[c]=()=>{!t[r]&&t[u]&&document.visibilityState==="hidden"&&h()},t[l]=()=>{t[r]||!t[u]||(clearTimeout(t[d]),t[d]=setTimeout(()=>{h(),t[d]=void 0},200))},t[u]=!0,setTimeout(()=>{addEventListener("popstate",t[o]),addEventListener("scroll",t[l],{passive:!0}),document.body.addEventListener("click",t[a]),t.navigation||document.addEventListener("visibilitychange",t[c],{passive:!0})},0)}},Px=ue(Nx,"s_DyVc0YBIqQU"),Dx=()=>{{const[e,t]=fl().chunkForSymbol(Px.getSymbol(),null),n=ES+"build/"+t;return`(${Mx.toString()})('${n}','${e}');`}},Mx=async(e,t)=>{var n;if(!window._qcs&&history.scrollRestoration==="manual"){window._qcs=!0;const r=(n=history.state)==null?void 0:n._qCityScroll;r&&window.scrollTo(r.x,r.y);const i=document.currentScript;(await import(e))[t](i)}},Lx=()=>{const e=Dx();Er();const t=mp("nonce"),n=qe(Ey);if(n.value&&n.value.length>0){const r=n.value.length;let i=null;for(let s=r-1;s>=0;s--)n.value[s].default&&(i=de(n.value[s].default,{children:i},1,"zl_0"));return de(St,{children:[i,W("script",{dangerouslySetInnerHTML:e},{nonce:t},null,3,null)]},1,"zl_1")}return Gh},YY=Re(ue(Lx,"s_e0ssiDXoeAM")),Ha=new Map,xy="qaction",__=e=>e.pathname+e.search+e.hash,Ur=(e,t)=>new URL(e,t.href),Ay=(e,t)=>e.origin===t.origin,g_=e=>e.endsWith("/")?e:e+"/",Ry=({pathname:e},{pathname:t})=>{const n=Math.abs(e.length-t.length);return n===0?e===t:n===1&&g_(e)===g_(t)},Fx=(e,t)=>e.search===t.search,Cy=(e,t)=>Fx(e,t)&&Ry(e,t),Ux=(e,t,n)=>{let r=t??"";return n&&(r+=(r?"&":"?")+xy+"="+encodeURIComponent(n.id)),e+(e.endsWith("/")?"":"/")+"q-data.json"+r},Bx=(e,t)=>{const n=e.href;if(typeof n=="string"&&typeof e.target!="string"&&!e.reload)try{const r=Ur(n.trim(),t.url),i=Ur("",t.url);if(Ay(r,i))return __(r)}catch(r){console.error(r)}else if(e.reload)return __(Ur("",t.url));return null},zx=(e,t)=>{if(e){const n=Ur(e,t.url),r=Ur("",t.url);return!Cy(n,r)}return!1},qx=(e,t)=>{if(e){const n=Ur(e,t.url),r=Ur("",t.url);return!Ry(n,r)}return!1},Wx=e=>e&&typeof e.then=="function",jx=(e,t,n,r)=>{const i=Oy(),o={head:i,withLocale:a=>mf(r,a),resolveValue:a=>{const c=a.__id;if(a.__brand==="server_loader"&&!(c in e.loaders))throw new Error("You can not get the returned data of a loader that has not been executed for this request.");const l=e.loaders[c];if(Wx(l))throw new Error("Loaders returning a promise can not be resolved for the head function.");return l},...t};for(let a=n.length-1;a>=0;a--){const c=n[a]&&n[a].head;c&&(typeof c=="function"?v_(i,mf(r,()=>c(o))):typeof c=="object"&&v_(i,c))}return o.head},v_=(e,t)=>{typeof t.title=="string"&&(e.title=t.title),Ga(e.meta,t.meta),Ga(e.links,t.links),Ga(e.styles,t.styles),Ga(e.scripts,t.scripts),Object.assign(e.frontmatter,t.frontmatter)},Ga=(e,t)=>{if(Array.isArray(t))for(const n of t){if(typeof n.key=="string"){const r=e.findIndex(i=>i.key===n.key);if(r>-1){e[r]=n;continue}}e.push(n)}},Oy=()=>({title:"",meta:[],links:[],styles:[],scripts:[],frontmatter:{}});let y_;(function(e){e[e.EOL=0]="EOL",e[e.OPEN_BRACKET=91]="OPEN_BRACKET",e[e.CLOSE_BRACKET=93]="CLOSE_BRACKET",e[e.DOT=46]="DOT",e[e.SLASH=47]="SLASH"})(y_||(y_={}));const Vx=e=>{},Hx=async(e,t,n)=>{const r=e.pathname,i=e.search,s=Ux(r,i,n==null?void 0:n.action);let o;n!=null&&n.action||(o=Ha.get(s)),n==null||n.prefetchSymbols;let a;if(!o){const c=Gx(n==null?void 0:n.action);n!=null&&n.action&&(n.action.data=void 0),o=fetch(s,c).then(l=>{const u=new URL(l.url),d=u.pathname.endsWith("/q-data.json");if(u.origin!==location.origin||!d){location.href=u.href;return}if((l.headers.get("content-type")||"").includes("json"))return l.text().then(f=>{const p=dI(f,t);if(!p){location.href=e.href;return}if(n!=null&&n.clearCache&&Ha.delete(s),p.redirect)location.href=p.redirect;else if(n!=null&&n.action){const{action:g}=n,h=p.loaders[g.id];a=()=>{g.resolve({status:l.status,result:h})}}return p});location.href=e.href}),n!=null&&n.action||Ha.set(s,o)}return o.then(c=>(c||Ha.delete(s),a&&a(),c))},Gx=e=>{const t=e==null?void 0:e.data;if(t)return t instanceof FormData?{method:"POST",body:t}:{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json, charset=UTF-8"}}},KY=()=>qe($y),ui=()=>qe(Sy),Yx=()=>qe(Iy),Kx=()=>qe(Ty),Xx=()=>Ea(mp("qwikcity")),Qx=":root{view-transition-name:none}",Zx=async(e,t)=>{const[n,r,i,s]=Ze(),{type:o="link",forceReload:a=e===void 0,replaceState:c=!1,scroll:l=!0}=typeof t=="object"?t:{forceReload:t},u=i.value.dest,d=e===void 0?u:Ur(e,s.url);if(Ay(d,u)&&!(!a&&Cy(d,u)))return i.value={type:o,dest:d,forceReload:a,replaceState:c,scroll:l},n.value=void 0,s.isNavigating=!0,new Promise(f=>{r.r=f})},Jx=({track:e})=>{const[t,n,r,i,s,o,a,c,l,u,d]=Ze();async function f(){const[g,h]=e(()=>[u.value,t.value]),m=D1(""),_=d.url,v=h?"form":g.type;g.replaceState;let y,b,$=null;if(y=new URL(g.dest,d.url),$=s.loadedRoute,b=s.response,$){const[S,I,x,A]=$,C=x,N=C[C.length-1];d.prevUrl=_,d.url=y,d.params={...I},u.untrackedValue={type:v,dest:y};const T=jx(b,d,C,m);n.headings=N.headings,n.menu=A,r.value=Ea(C),i.links=T.links,i.meta=T.meta,i.styles=T.styles,i.scripts=T.scripts,i.title=T.title,i.frontmatter=T.frontmatter}}return f()},eA=e=>{by(ue(Qx,"s_RPDJAz33WLA"));const t=Xx();if(!(t!=null&&t.params))throw new Error("Missing Qwik City Env Data");const n=mp("url");if(!n)throw new Error("Missing Qwik URL Env Data");const r=new URL(n),i=Kn({url:r,params:t.params,isNavigating:!1,prevUrl:void 0},{deep:!1}),s={},o=vx(Kn(t.response.loaders,{deep:!1})),a=Et({type:"initial",dest:r,forceReload:!1,replaceState:!1,scroll:!0}),c=Kn(Oy),l=Kn({headings:void 0,menu:void 0}),u=Et(),d=t.response.action,f=d?t.response.loaders[d]:void 0,p=Et(f?{id:d,data:t.response.formData,output:{result:f,status:t.response.status}}:void 0),g=ue(Zx,"s_fX0bDjeJa0E",[p,s,a,i]);return fn(Ox,l),fn(Ey,u),fn($y,c),fn(Sy,i),fn(Iy,g),fn(wy,o),fn(Ty,p),fn(kx,a),C1(ue(Jx,"s_02wMImzEAbk",[p,l,u,c,t,g,o,s,e,a,i])),de(Jr,null,3,"qY_0")},XY=Re(ue(eA,"s_TxCFOy819ag")),tA=(e,t)=>{var n;if(!((n=navigator.connection)!=null&&n.saveData)&&t&&t.href){const r=new URL(t.href);Vx(r.pathname),t.hasAttribute("data-prefetch")&&Hx(r,t,{prefetchSymbols:!1})}},nA=async(e,t)=>{const[n,r,i,s]=Ze();e.defaultPrevented&&(t.hasAttribute("q:nbs")?await n(location.href,{type:"popstate"}):t.href&&(t.setAttribute("aria-pressed","true"),await n(t.href,{forceReload:r,replaceState:i,scroll:s}),t.removeAttribute("aria-pressed")))},rA=e=>{const t=Yx(),n=ui(),{onClick$:r,prefetch:i,reload:s,replaceState:o,scroll:a,...c}=e,l=hs(()=>Bx({...c,reload:s},n));c["link:app"]=!!l,c.href=l||e.href;const u=hs(()=>!!l&&i!==!1&&i!=="js"&&zx(l,n)||void 0),f=hs(()=>u||!!l&&i!==!1&&qx(l,n))?ue(tA,"s_Osdg8FnYTw4"):void 0,p=l?Ax((h,m)=>{h.metaKey||h.ctrlKey||h.shiftKey||h.altKey||h.preventDefault()},"(event,target)=>{if(!(event.metaKey||event.ctrlKey||event.shiftKey||event.altKey)){event.preventDefault();}}"):void 0;return cI("a",{...c,children:de(Jr,null,3,"AD_0"),"data-prefetch":u,onClick$:[p,r,l?ue(nA,"s_pIf0khHUxfY",[t,s,o,a]):void 0],onFocus$:[c.onFocus$,f],onMouseOver$:[c.onMouseOver$,f],onQVisible$:[c.onQVisible$,f]},null,0,"AD_1")},jo=Re(ue(rA,"s_8gdLBszqbaM")),QY=e=>W("script",{nonce:Mn(e,"nonce")},{dangerouslySetInnerHTML:Cx},null,3,"1Z_0"),iA=(e={})=>{throw Ze(),new Error(`Actions can not be invoked within the server during SSR.
Action.run() can only be called on the browser, for example when a user clicks a button, or submits a form.`)},Bn=(e,...t)=>{const{id:n,validators:r}=ky(t,e);function i(){const s=ui(),o=Kx(),a={actionPath:`?${xy}=${n}`,isRunning:!1,status:void 0,value:void 0,formData:void 0},c=Kn(()=>{const u=o.value;if(u&&(u==null?void 0:u.id)===n){const d=u.data;if(d instanceof FormData&&(a.formData=d),u.output){const{status:f,result:p}=u.output;a.status=f,a.value=p}}return a}),l=ue(iA,"s_A5bZC7WO00A",[o,n,s,c]);return a.submit=l,c}return i.__brand="server_action",i.__validators=r,i.__qrl=e,i.__id=n,Object.freeze(i),i},ji=(e,...t)=>{const{id:n,validators:r}=ky(t,e);function i(){return qe(wy,s=>{if(!(n in s))throw new Error(`routeLoader$ "${e.getSymbol()}" was invoked in a route where it was not declared.
    This is because the routeLoader$ was not exported in a 'layout.tsx' or 'index.tsx' file of the existing route.
    For more information check: https://qwik.builder.io/qwikcity/route-loader/

    If your are managing reusable logic or a library it is essential that this function is re-exported from within 'layout.tsx' or 'index.tsx file of the existing route otherwise it will not run or throw exception.
    For more information check: https://qwik.builder.io/docs/cookbook/re-exporting-loaders/`);return Mn(s,n)})}return i.__brand="server_loader",i.__qrl=e,i.__validators=r,i.__id=n,Object.freeze(i),i},ky=(e,t)=>{let n;const r=[];if(e.length===1){const i=e[0];i&&typeof i=="object"&&("validate"in i?r.push(i):(n=i.id,i.validation&&r.push(...i.validation)))}else e.length>1&&r.push(...e.filter(i=>!!i));return typeof n=="string"?n=`id_${n}`:n=t.getHash(),{validators:r.reverse(),id:n}},sA='@font-face{font-family:Playfair Display;font-display:swap;src:url(/fonts/PlayfairDisplay-ExtraBoldItalic.ttf) format("woff2");font-weight:800;font-style:italic}',oA='"../variables.css"',aA="#c5c5c3",cA="#2e2d32",lA="_page_mt4w9_4",uA="_header_mt4w9_15",dA="_content_mt4w9_19",fA="_headerContent_mt4w9_25",no={colors:oA,background_1:aA,text_1:cA,page:lA,header:uA,content:dA,headerContent:fA},hA='"../../variables.css"',pA="#00b27c",mA="_container_dmen4_8",_A="_avatar_dmen4_15",gA="_menu_dmen4_26",Qi={colors:hA,primary_1:pA,container:mA,avatar:_A,menu:gA},vA='"../../variables.css"',yA="#00b27c",bA="#2e2d32",wA="_container_1gruv_4",EA="_active_1gruv_40",b_={colors:vA,primary_1:yA,text_1:bA,container:wA,active:EA},$A=e=>W("button",{class:[e.class,b_.container,{[b_.active]:e.isOpened}]},null,[W("span",null,null,null,3,null),W("span",null,null,null,3,null),W("span",null,null,null,3,null)],3,"rQ_0"),SA=Re(ue($A,"s_l3ogf80KQis")),Sl=cn("Slot"),Bs=cn("Session"),Vi=cn("Application"),Hi=cn("Recipes"),IA='"../variables.css"',TA="#00b27c",xA="#1a602e",AA="#134741",RA="_avatar_n7uq2_4",CA="_face_n7uq2_5",OA="_head_n7uq2_10",kA="_hat_n7uq2_14",fi={colors:IA,primary_1:TA,primary_2:xA,primary_3:AA,avatar:RA,face:CA,head:OA,hat:kA};class NA{constructor(t){this.multiplier=75,this.increment=74,this.modulus=65537,this.last=t*this.modulus}next(){return this.last=(this.multiplier*this.last+this.increment)%this.modulus,this.last/this.modulus}}function Lt(e,t,n){return e*(n-t)+t}function PA(e){const t=new NA(e),n={eyeSpread:Lt(t.next(),-2,4),mouthSpread:Lt(t.next(),-1,3),isMouthOpen:t.next()<.5,faceRotate:Lt(t.next(),-10,10),faceTranslateX:Lt(t.next(),-4,4),wrapperTranslateX:Lt(t.next(),-4,4),wrapperRotate:Lt(t.next(),30,60),faceTranslateY:Lt(t.next(),2,8),wrapperTranslateY:Lt(t.next(),0,7),wrapperScale:Lt(t.next(),1,1.5)},r=t.next()<.25,i=!r&&t.next()<1/3;return r&&(n.faceTranslateX=Lt(t.next(),-7,2),n.wrapperRotate=Lt(t.next(),30,90),n.wrapperTranslateX=Lt(t.next(),-7,2)),i&&(n.faceTranslateX=Lt(t.next(),-2,7),n.wrapperRotate=Lt(t.next(),0,60),n.wrapperTranslateX=Lt(t.next(),-2,7)),n}const DA=e=>{const t=PA(e.seed),n=t.isMouthOpen?W("path",{d:`M13,${19+t.mouthSpread} a1,0.75 0 0,0 10,0`},{class:fi.face},null,3,"su_0"):W("path",{d:`M15 ${19+t.mouthSpread} c2 1 4 1 6 0`},{class:fi.face,fill:"none","stroke-linecap":"round","stroke-width":1.5},null,3,null),r=`avatar_${e.seed}`;return W("svg",{class:[fi.avatar,e.class]},{fill:"none",role:"img",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg"},[W("mask",{id:r},{height:36,maskUnits:"userSpaceOnUse",width:36,x:0,y:0},W("rect",null,{fill:"#FFFFFF",height:36,rx:72,width:36},null,3,null),3,null),W("g",{mask:`url(#${r})`},null,[W("rect",null,{class:fi.hat,height:36,width:36},null,3,null),W("rect",{transform:`translate(${t.wrapperTranslateX} ${t.wrapperTranslateY}) 
                        rotate(${t.wrapperRotate} 18 18) 
                        scale(${t.wrapperScale})`},{class:fi.head,height:36,rx:36,width:36,x:"0",y:"0"},null,3,null),W("g",{transform:`translate(${t.faceTranslateX} ${t.faceTranslateY}) 
                        rotate(${t.faceRotate} 18 18)`},null,[n,W("rect",{x:14-t.eyeSpread},{class:fi.face,height:2.5,rx:1,stroke:"none",width:2,y:14},null,3,null),W("rect",{x:20+t.eyeSpread},{class:fi.face,height:2.5,rx:1,stroke:"none",width:2,y:14},null,3,null)],1,null)],1,null)],1,"su_1")},MA=Re(ue(DA,"s_JOsXAtVS0aM"));function bf(e,t){let n=BigInt(0);return[...e].map(r=>t.indexOf(r)).forEach((r,i)=>{const s=BigInt(e.length-i-1);n+=BigInt(r)*BigInt(BigInt(t.length)**s)}),n}const LA=e=>Ke(St,{children:Ke("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e,{children:[Ke("path",{d:"M192 176v-40a40 40 0 0 1 40-40h160a40 40 0 0 1 40 40v240a40 40 0 0 1-40 40H240c-22.09 0-48-17.91-48-40v-40",style:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32px"}}),Ke("path",{d:"m288 336 80-80-80-80M80 256h272",style:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32px"}})]}))}),FA=[..."abcdefghijklmnopqrstuvwxyz",..."ABCDEFGHIJKLMNOPQRSTUVWXYZ",..."0123456789"],w_=Number.MAX_SAFE_INTEGER;function UA(e){const t=bf(e,FA);return Number(t%BigInt(w_))/w_}const BA=e=>{Er();const t=qe(Bs),n=qe(Vi),i=ui().url.pathname.includes("/login");return W("header",{class:[Qi.container,e.class]},null,[W("div",null,{class:Qi.menu,onClick$:Yt("s_3dS2GpIdYLw",[n])},de(SA,{get class(){return Qi.hamburger},get isOpened(){return n.isMenuOpened},[H]:{class:H,isOpened:xt(s=>s.isMenuOpened,[n],"p0.isMenuOpened")}},3,"oB_0"),1,null),de(Jr,null,3,"oB_1"),t.user.value?de(jo,{children:t.user.value.avatar?W("img",null,{class:Qi.avatar,crossOrigin:"anonymous",src:xt(s=>s.user.value.avatar,[t],"p0.user.value.avatar")},null,3,"oB_2"):de(MA,{seed:UA(t.user.value.id),get class(){return Qi.avatar},[H]:{class:H}},3,"oB_3"),href:"/profile",[H]:{href:H}},1,"oB_4"):!i&&de(jo,{href:"/login",get class(){return Qi.avatar},children:de(LA,null,3,"oB_5"),[H]:{class:H,href:H}},1,"oB_6")],1,"oB_7")},zA=Re(ue(BA,"s_CfLs6mTcYqk")),qA={},WA=e=>W("footer",{class:[e.class,qA.container]},null,null,3,"0G_0"),jA=Re(ue(WA,"s_rAcjzNUtu4c")),VA='"../../variables.css"',HA="#FFF",GA="#aaa",YA="#1a602e",KA="#00b27c",XA="#2e2d32",QA="_menu_aooig_4",ZA="_opened_aooig_20",JA="_item_aooig_25",e3="_current_aooig_31",t3="_link_aooig_32",ro={colors:VA,white_1:HA,white_2:GA,primary_2:YA,primary_1:KA,text_1:XA,menu:QA,opened:ZA,item:JA,current:e3,link:t3},n3=()=>{const t=ui().url.pathname,n=[{label:$localize`menu.Recipes`,href:"/recipes/"},{label:$localize`menu.Import`,href:"/import/"},{label:$localize`menu.About`,href:"/about/"}],r=qe(Vi);return W("nav",{class:[ro.menu,{[ro.opened]:r.isMenuOpened}]},null,[...n.map(i=>W("li",{class:[ro.item,{[ro.current]:t===i.href}]},null,W("a",{href:Mn(i,"href")},{class:ro.link},Mn(i,"label"),1,null),1,i.href))],1,"Xz_0")},r3=Re(ue(n3,"s_5kClkbuJccM"));/**
 * @license Angular v16.2.2
 * (c) 2010-2022 Google LLC. https://angular.io/
 * License: MIT
 */const _p=":",i3="|",Ny="@@",s3="âŸ";class ms{static zero(){return new ms([0])}static one(){return new ms([1])}constructor(t){this.digits=t}clone(){return new ms(this.digits.slice())}add(t){const n=this.clone();return n.addToSelf(t),n}addToSelf(t){const n=Math.max(this.digits.length,t.digits.length);let r=0;for(let i=0;i<n;i++){let s=r;i<this.digits.length&&(s+=this.digits[i]),i<t.digits.length&&(s+=t.digits[i]),s>=10?(this.digits[i]=s-10,r=1):(this.digits[i]=s,r=0)}r>0&&(this.digits[n]=1)}toString(){let t="";for(let n=this.digits.length-1;n>=0;n--)t+=this.digits[n];return t}}class E_{constructor(t){this.powerOfTwos=[t]}getValue(){return this.powerOfTwos[0]}multiplyBy(t){const n=ms.zero();return this.multiplyByAndAddTo(t,n),n}multiplyByAndAddTo(t,n){for(let r=0;t!==0;t=t>>>1,r++)if(t&1){const i=this.getMultipliedByPowerOfTwo(r);n.addToSelf(i)}}getMultipliedByPowerOfTwo(t){for(let n=this.powerOfTwos.length;n<=t;n++){const r=this.powerOfTwos[n-1];this.powerOfTwos[n]=r.add(r)}return this.powerOfTwos[t]}}class o3{constructor(t){this.base=t,this.exponents=[new E_(ms.one())]}toThePowerOf(t){for(let n=this.exponents.length;n<=t;n++){const r=this.exponents[n-1].multiplyBy(this.base);this.exponents[n]=new E_(r)}return this.exponents[t]}}let $_;function S_(e){$_??($_=new TextEncoder);const t=$_.encode(e),n=new DataView(t.buffer,t.byteOffset,t.byteLength);let r=I_(n,t.length,0),i=I_(n,t.length,102072);return r==0&&(i==0||i==1)&&(r=r^319790063,i=i^-1801410264),[r,i]}function a3(e,t=""){let n=S_(e);if(t){const s=S_(t);n=c3(l3(n,1),s)}const r=n[0],i=n[1];return u3(r&2147483647,i)}function I_(e,t,n){let r=2654435769,i=2654435769,s=0;const o=t-12;for(;s<=o;s+=12){r+=e.getUint32(s,!0),i+=e.getUint32(s+4,!0),n+=e.getUint32(s+8,!0);const c=T_(r,i,n);r=c[0],i=c[1],n=c[2]}const a=t-s;return n+=t,a>=4?(r+=e.getUint32(s,!0),s+=4,a>=8?(i+=e.getUint32(s,!0),s+=4,a>=9&&(n+=e.getUint8(s++)<<8),a>=10&&(n+=e.getUint8(s++)<<16),a===11&&(n+=e.getUint8(s++)<<24)):(a>=5&&(i+=e.getUint8(s++)),a>=6&&(i+=e.getUint8(s++)<<8),a===7&&(i+=e.getUint8(s++)<<16))):(a>=1&&(r+=e.getUint8(s++)),a>=2&&(r+=e.getUint8(s++)<<8),a===3&&(r+=e.getUint8(s++)<<16)),T_(r,i,n)[2]}function T_(e,t,n){return e-=t,e-=n,e^=n>>>13,t-=n,t-=e,t^=e<<8,n-=e,n-=t,n^=t>>>13,e-=t,e-=n,e^=n>>>12,t-=n,t-=e,t^=e<<16,n-=e,n-=t,n^=t>>>5,e-=t,e-=n,e^=n>>>3,t-=n,t-=e,t^=e<<10,n-=e,n-=t,n^=t>>>15,[e,t,n]}var x_;(function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"})(x_||(x_={}));function A_(e,t){return Py(e,t)[1]}function Py(e,t){const n=(e&65535)+(t&65535),r=(e>>>16)+(t>>>16)+(n>>>16);return[r>>>16,r<<16|n&65535]}function c3(e,t){const n=e[0],r=e[1],i=t[0],s=t[1],o=Py(r,s),a=o[0],c=o[1];return[A_(A_(n,i),a),c]}function l3(e,t){const n=e[0],r=e[1],i=n<<t|r>>>32-t,s=r<<t|n>>>32-t;return[i,s]}const R_=new o3(256);function u3(e,t){const n=R_.toThePowerOf(0).multiplyBy(t);return R_.toThePowerOf(4).multiplyByAndAddTo(e,n),n.toString()}function d3(e,t,n,r,i=[]){const s={},o={},a={},c=f3(e[0],e.raw[0]),l=[c.text],u=[];let d=c.text;for(let g=1;g<e.length;g++){const{messagePart:h,placeholderName:m=p3(g),associatedMessageId:_}=h3(e[g],e.raw[g]);d+=`{$${m}}${h}`,t!==void 0&&(s[m]=t[g-1],o[m]=i[g-1]),u.push(m),_!==void 0&&(a[m]=_),l.push(h)}const f=c.customId||a3(d,c.meaning||""),p=c.legacyIds?c.legacyIds.filter(g=>g!==f):[];return{id:f,legacyIds:p,substitutions:s,substitutionLocations:o,text:d,customId:c.customId,meaning:c.meaning||"",description:c.description||"",messageParts:l,messagePartLocations:r,placeholderNames:u,associatedMessageIds:a,location:n}}function f3(e,t){const{text:n,block:r}=Dy(e,t);if(r===void 0)return{text:n};{const[i,...s]=r.split(s3),[o,a]=i.split(Ny,2);let[c,l]=o.split(i3,2);return l===void 0&&(l=c,c=void 0),l===""&&(l=void 0),{text:n,meaning:c,description:l,customId:a,legacyIds:s}}}function h3(e,t){const{text:n,block:r}=Dy(e,t);if(r===void 0)return{messagePart:n};{const[i,s]=r.split(Ny);return{messagePart:n,placeholderName:i,associatedMessageId:s}}}function Dy(e,t){if(t.charAt(0)!==_p)return{text:e};{const n=My(e,t);return{block:e.substring(1,n),text:e.substring(n+1)}}}function p3(e){return e===1?"PH":`PH_${e-1}`}function My(e,t){for(let n=1,r=1;n<e.length;n++,r++)if(t[r]==="\\")r++;else if(e[n]===_p)return n;throw new Error(`Unterminated $localize metadata block in "${t}".`)}class m3 extends Error{constructor(t){super(`No translation found for ${Ly(t)}.`),this.parsedMessage=t,this.type="MissingTranslationError"}}function _3(e,t,n){const r=d3(t,n);let i=e[r.id];if(r.legacyIds!==void 0)for(let s=0;s<r.legacyIds.length&&i===void 0;s++)i=e[r.legacyIds[s]];if(i===void 0)throw new m3(r);return[i.messageParts,i.placeholderNames.map(s=>{if(r.substitutions.hasOwnProperty(s))return r.substitutions[s];throw new Error(`There is a placeholder name mismatch with the translation provided for the message ${Ly(r)}.
The translation contains a placeholder with name ${s}, which does not exist in the message.`)})]}function g3(e){const t=e.split(/{\$([^}]*)}/),n=[t[0]],r=[];for(let s=1;s<t.length-1;s+=2)r.push(t[s]),n.push(`${t[s+1]}`);const i=n.map(s=>s.charAt(0)===_p?"\\"+s:s);return{text:e,messageParts:v3(n,i),placeholderNames:r}}function v3(e,t){return Object.defineProperty(e,"raw",{value:t}),e}function Ly(e){const t=e.meaning&&` - "${e.meaning}"`,n=e.legacyIds&&e.legacyIds.length>0?` [${e.legacyIds.map(r=>`"${r}"`).join(", ")}]`:"";return`"${e.id}"${n} ("${e.text}"${t})`}function y3(e){$localize.translate||($localize.translate=b3),$localize.TRANSLATIONS||($localize.TRANSLATIONS={}),Object.keys(e).forEach(t=>{$localize.TRANSLATIONS[t]=g3(e[t])})}function b3(e,t){try{return _3($localize.TRANSLATIONS,e,t)}catch(n){return console.warn(n.message),[e,t]}}const wf=function(e,...t){if(wf.translate){const r=wf.translate(e,t);e=r[0],t=r[1]}let n=C_(e[0],e.raw[0]);for(let r=1;r<e.length;r++)n+=t[r-1]+C_(e[r],e.raw[r]);return n},w3=":";function C_(e,t){return t.charAt(0)===w3?e.substring(My(e,t)+1):e}/**
 * @license Angular v16.2.2
 * (c) 2010-2022 Google LLC. https://angular.io/
 * License: MIT
 */globalThis.$localize=wf;const E3="en",$3={"2480342317161667903":"Search","2039021515265108710":"Comment","6082804499388572687":"Create Recipe","2330381719439020400":"Description","8007566936968300367":"Ingredients","1052097821206541703":"Quantity","3333136804410967485":"Rating","6299960686489723221":"Save","8144997804518442563":"Steps","2102064060603598482":"Edit Recipe","3654005871061026259":"Title","5351086426857767883":"Source","7982773027193738087":"Copied to Clipboard","6462603258769598950":"Ingredients","7183414116130184102":"Steps","7871448920656156096":"Tastoria Recipe","1001257716202028138":"Ingredients","4658353484491812875":"Quantity","4650903528543833426":"Source","5705116752623815839":"Steps","4236136619794542356":"Admin Only Operation","176774566442809400":"Code Expired","4668349082736715583":"Email Already Exists","3880691444767968768":"Expired OOB Code","7737052254869964490":"Internal Server Error","7339256980490794339":"Invalid Authentication","4707217017575566954":"Invalid Code","3797702890437021927":"Invalid Email","1489367329696169074":"Invalid Login Credentials","5866302122084818846":"Invalid OOB Code","4941573491216098836":"Invalid Password","7466819402592819925":"Missing Code","2111998227502058872":"Missing Session Info","7106064751016864463":"Network Request Failed","165580488283847478":"Quota Exceeded","5425125509842092477":"Timeout","7855586582448434398":"Token Expired","4515137648508416271":"Too Many Attempts, Try Later","9039817998329289062":"Unknown Error","1132414157822879852":"Unverified Email","1322738374409609580":"User Not Found","4957061158928875695":"User Signed Out","5555959723551271636":"Weak Password","5243211389958567300":"About","3374218623292627817":"Import","4747233810145954506":"Recipes","1470636646523941683":"Architecture","8804550834504208424":"Device","7516280592864477890":"About","5199124990398657897":"Height","7936290702523486872":"License","9166265674843585566":"Width","35625434891051792":"Before import of recipes it is recommended to backup existing recipes","8879685062443496521":"Click or drag and drop file","4148539808738930454":"Import Recipes","3386771653296544465":"Email","2405063527433899529":"forgot password?","9102807079407818595":"Log In","1975137463963122681":"Log In","3600505066039878153":"Password","1828433699778992027":"Sign Up","6587778258360430022":"Dont have an account?","80659794385992600":"Please login to using app","6271147126785959794":"Log In","5433578825624245250":"Email address","6372840712435657545":"Full Name","6613832474988089359":"Profile","8534426176771316877":"Language","7858988313881362203":"Last login","4977660148846081836":"Personal Information","5178814728918508488":"Settings","5730284166112008943":"Sign Out","1816896085722253318":"Profile","3868144566054937925":"Tastoria Recipe","4271335781364480953":"Not Found","258000378672733393":"Create Recipe","3681288560322490113":"Edit Recipe","8900761381169893282":"Not Found","6427225241485476050":"My recipes","286750953181174850":"Shared Recipe","8666022368985534088":"Link not longer exists","7281479044872185903":"Email","5236010107479578886":"Full Name","6863644611684467188":"Sign Up","1460103689053291231":"Password","1894930952407334569":"Create Account","3437508990078887479":"Welcome to tastoria","6116359827668725042":"Sign Up","4366555974862707223":"We've just sent a verification email to your registered address. Please check your inbox (and spam folder) and click on the verification link to complete the process. If you don't receive the email within a few minutes, or need assistance, kindly contact our support team."},S3={locale:E3,translations:$3},I3="ua",T3={"2480342317161667903":"Ð—Ð½Ð°Ð¹Ñ‚Ð¸","2039021515265108710":"ÐšÐ¾Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ñ–","6082804499388572687":"Ð¡Ñ‚Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸ Ñ€ÐµÑ†ÐµÐ¿Ñ‚","2330381719439020400":"ÐžÐ¿Ð¸Ñ","8007566936968300367":"Ð†Ð½Ð³Ñ€ÐµÐ´Ñ–Ñ”Ð½Ñ‚Ð¸","1052097821206541703":"ÐšÑ–Ð»ÑŒÐºÑ–ÑÑ‚ÑŒ","3333136804410967485":"Ð ÐµÐ¹Ñ‚Ð¸Ð½Ð³","6299960686489723221":"Ð—Ð±ÐµÑ€ÐµÐ³Ñ‚Ð¸","8144997804518442563":"ÐšÑ€Ð¾ÐºÐ¸","2102064060603598482":"Ð ÐµÐ´Ð°Ð³ÑƒÐ²Ð°Ñ‚Ð¸ Ñ€ÐµÑ†ÐµÐ¿Ñ‚","3654005871061026259":"ÐÐ°Ð·Ð²Ð°","5351086426857767883":"Ð”Ð¶ÐµÑ€ÐµÐ»Ð¾","7982773027193738087":"Ð¡ÐºÐ¾Ð¿Ñ–Ð¹Ð¾Ð²Ð°Ð½Ð¾ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼Ñ–Ð½Ñƒ","6462603258769598950":"Ð†Ð½Ð³Ñ€ÐµÐ´Ñ–Ñ”Ð½Ñ‚Ð¸","7183414116130184102":"ÐšÑ€Ð¾ÐºÐ¸","7871448920656156096":"Ð ÐµÑ†ÐµÐ¿Ñ‚ Tastoria","1001257716202028138":"Ð†Ð½Ð³Ñ€ÐµÐ´Ñ–Ñ”Ð½Ñ‚Ð¸","4658353484491812875":"ÐšÑ–Ð»ÑŒÐºÑ–ÑÑ‚ÑŒ","4650903528543833426":"Ð”Ð¶ÐµÑ€ÐµÐ»Ð¾","5705116752623815839":"ÐšÑ€Ð¾ÐºÐ¸","4236136619794542356":"Ð¢Ñ–Ð»ÑŒÐºÐ¸ Ð´Ð»Ñ Ð°Ð´Ð¼Ñ–Ð½Ñ–ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ñ–Ð²","176774566442809400":"Ð¢ÐµÑ€Ð¼Ñ–Ð½ Ð´Ñ–Ñ— ÐºÐ¾Ð´Ñƒ Ð·Ð°ÐºÑ–Ð½Ñ‡Ð¸Ð²ÑÑ","4668349082736715583":"Ð•Ð»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð° Ð¿Ð¾ÑˆÑ‚Ð° Ð²Ð¶Ðµ Ñ–ÑÐ½ÑƒÑ”","3880691444767968768":"Ð¢ÐµÑ€Ð¼Ñ–Ð½ Ð´Ñ–Ñ— Ð·Ð¾Ð²Ð½Ñ–ÑˆÐ½ÑŒÐ¾Ð³Ð¾ ÐºÐ¾Ð´Ñƒ Ð·Ð°ÐºÑ–Ð½Ñ‡Ð¸Ð²ÑÑ","7737052254869964490":"Ð’Ð½ÑƒÑ‚Ñ€Ñ–ÑˆÐ½Ñ Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð°","7339256980490794339":"ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð° Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ñ–ÐºÐ°Ñ†Ñ–Ñ","4707217017575566954":"ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ ÐºÐ¾Ð´","3797702890437021927":"ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð° ÐµÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð° Ð¿Ð¾ÑˆÑ‚Ð°","1489367329696169074":"ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ– Ð¾Ð±Ð»Ñ–ÐºÐ¾Ð²Ñ– Ð´Ð°Ð½Ñ– Ð´Ð»Ñ Ð²Ñ…Ð¾Ð´Ñƒ","5866302122084818846":"ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ Ð·Ð¾Ð²Ð½Ñ–ÑˆÐ½Ñ–Ð¹ ÐºÐ¾Ð´","4941573491216098836":"ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ","7466819402592819925":"Ð’Ñ–Ð´ÑÑƒÑ‚Ð½Ñ–Ð¹ ÐºÐ¾Ð´","2111998227502058872":"Ð’Ñ–Ð´ÑÑƒÑ‚Ð½Ñ Ñ–Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–Ñ Ð¿Ñ€Ð¾ ÑÐµÐ°Ð½Ñ","7106064751016864463":"ÐÐµ Ð²Ð´Ð°Ð»Ð¾ÑÑŒ Ð²Ð¸ÐºÐ¾Ð½Ð°Ñ‚Ð¸ Ð¼ÐµÑ€ÐµÐ¶ÐµÐ²Ð¸Ð¹ Ð·Ð°Ð¿Ð¸Ñ‚","165580488283847478":"ÐŸÐµÑ€ÐµÐ²Ð¸Ñ‰ÐµÐ½Ð¾ ÐºÐ²Ð¾Ñ‚Ñƒ","5425125509842092477":"Ð¢Ð°Ð¹Ð¼Ð°ÑƒÑ‚","7855586582448434398":"Ð¢ÐµÑ€Ð¼Ñ–Ð½ Ð´Ñ–Ñ— Ñ‚Ð¾ÐºÐµÐ½Ð° Ð·Ð°ÐºÑ–Ð½Ñ‡Ð¸Ð²ÑÑ","4515137648508416271":"Ð—Ð°Ð±Ð°Ð³Ð°Ñ‚Ð¾ ÑÐ¿Ñ€Ð¾Ð±, ÑÐ¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿Ñ–Ð·Ð½Ñ–ÑˆÐµ","9039817998329289062":"ÐÐµÐ²Ñ–Ð´Ð¾Ð¼Ð° Ð¿Ð¾Ð¼Ð¸Ð»ÐºÐ°","1132414157822879852":"Ð•Ð»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð° Ð¿Ð¾ÑˆÑ‚Ð° Ð½Ðµ Ð¿Ñ–Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¶ÐµÐ½Ð°","1322738374409609580":"ÐšÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð° Ð½Ðµ Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾","4957061158928875695":"ÐšÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡ Ð²Ð¸Ð¹ÑˆÐ¾Ð² Ñ–Ð· ÑÐ¸ÑÑ‚ÐµÐ¼Ð¸","5555959723551271636":"Ð¡Ð»Ð°Ð±ÐºÐ¸Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ","5243211389958567300":"ÐŸÑ€Ð¾ Ð½Ð°Ñ","3374218623292627817":"Ð†Ð¼Ð¿Ð¾Ñ€Ñ‚ÑƒÐ²Ð°Ñ‚Ð¸","4747233810145954506":"ÐœÐ¾Ñ— Ð ÐµÑ†ÐµÐ¿Ñ‚Ð¸","1470636646523941683":"ÐÑ€Ñ…Ñ–Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°","8804550834504208424":"ÐŸÑ€Ð¸ÑÑ‚Ñ€Ñ–Ð¹","7516280592864477890":"ÐŸÑ€Ð¾ Ð½Ð°Ñ","5199124990398657897":"Ð’Ð¸ÑÐ¾Ñ‚Ð°","7936290702523486872":"Ð›Ñ–Ñ†ÐµÐ½Ð·Ñ–Ñ","9166265674843585566":"Ð¨Ð¸Ñ€Ð¸Ð½Ð°","35625434891051792":"ÐŸÐµÑ€ÐµÐ´ Ð²Ð¸ÐºÐ¾Ð½Ð°Ð½Ð½ÑÐ¼ Ñ–Ð¼Ð¿Ð¾Ñ€Ñ‚Ñƒ, Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÑ”Ñ‚ÑŒÑÑ Ð·Ð±ÐµÑ€ÐµÐ³Ñ‚Ð¸ Ð¿Ð¾Ð¿ÐµÑ€ÐµÐ´Ð½Ñ– Ñ€ÐµÑ†ÐµÐ¿Ñ‚Ð¸","8879685062443496521":"ÐžÐ±Ñ€Ð°Ñ‚Ð¸ Ñ„Ð°Ð¹Ð»","4148539808738930454":"Ð†Ð¼Ð¿Ð¾Ñ€Ñ‚ÑƒÐ²Ð°Ñ‚Ð¸ Ñ€ÐµÑ†ÐµÐ¿Ñ‚Ð¸","3386771653296544465":"Ð•Ð»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð° ÑÐºÑ€Ð¸Ð½ÑŒÐºÐ°","2405063527433899529":"Ð½Ð°Ð³Ð°Ð´Ð°Ñ‚Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ","9102807079407818595":"Ð’Ñ…Ñ–Ð´","1975137463963122681":"Ð£Ð²Ñ–Ð¹Ñ‚Ð¸","3600505066039878153":"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ","1828433699778992027":"Ð—Ð°Ñ€ÐµÑ”ÑÑ‚Ñ€ÑƒÐ²Ð°Ñ‚Ð¸ÑÑŒ","6587778258360430022":"ÐŸÐ¾ÐºÐ¸ Ð±ÐµÐ· Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°?","80659794385992600":"Ð‘ÑƒÐ´ÑŒ Ð»Ð°ÑÐºÐ° ÑƒÐ²Ñ–Ð¹Ð´Ñ–Ñ‚ÑŒ Ð² ÑÐ²Ñ–Ð¹ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚","6271147126785959794":"Ð£Ð²Ñ–Ð¹Ñ‚Ð¸","5433578825624245250":"Ð•Ð»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð° ÑÐºÑ€Ð¸Ð½ÑŒÐºÐ°","6372840712435657545":"Ð†Ð¼'Ñ","6613832474988089359":"ÐŸÑ€Ð¾Ñ„Ñ–Ð»ÑŒ","8534426176771316877":"ÐœÐ¾Ð²Ð°","7858988313881362203":"ÐžÑÑ‚Ð°Ð½Ð½Ñ–Ð¹ Ð²Ñ…Ñ–Ð´","4977660148846081836":"ÐŸÐµÑ€ÑÐ¾Ð½Ð°Ð»ÑŒÐ½Ñ– Ð´Ð°Ð½Ñ–","5178814728918508488":"ÐÐ°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ","5730284166112008943":"Ð’Ð¸Ð¹Ñ‚Ð¸","1816896085722253318":"ÐŸÑ€Ð¾Ñ„Ñ–Ð»ÑŒ","3868144566054937925":"Ð ÐµÑ†ÐµÐ¿Ñ‚ Tastoria","4271335781364480953":"ÐÐµ Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾","258000378672733393":"Ð¡Ñ‚Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸ Ñ€ÐµÑ†ÐµÐ¿Ñ‚","3681288560322490113":"Ð ÐµÐ´Ð°Ð³ÑƒÐ²Ð°Ñ‚Ð¸ Ñ€ÐµÑ†ÐµÐ¿Ñ‚","8900761381169893282":"ÐÐµ Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾","6427225241485476050":"ÐœÐ¾Ñ— pÐµÑ†ÐµÐ¿Ñ‚Ð¸","286750953181174850":"ÐŸÐ¾ÑˆÐ¸Ñ€ÐµÐ½Ð¸Ð¹ Ñ€ÐµÑ†ÐµÐ¿Ñ‚","8666022368985534088":"ÐŸÐ¾ÑÐ¸Ð»Ð°Ð½Ð½Ñ Ð½Ðµ Ñ–ÑÐ½ÑƒÑ”","7281479044872185903":"Ð•Ð»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð° ÑÐºÑ€Ð¸Ð½ÑŒÐºÐ°","5236010107479578886":"Ð†Ð¼'Ñ","6863644611684467188":"Ð—Ð°Ñ€ÐµÑ”ÑÑ‚Ñ€ÑƒÐ²Ð°Ñ‚Ð¸ÑÑŒ","1460103689053291231":"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ","1894930952407334569":"ÐŸÑ€Ð¸Ñ”Ð´Ð½Ð°Ñ‚Ð¸ÑÑ","3437508990078887479":"Ð›Ð°ÑÐºÐ°Ð²Ð¾ Ð¿Ñ€Ð¾ÑÐ¸Ð¼Ð¾ Ð² Tastoria","6116359827668725042":"Ð ÐµÑ”ÑÑ‚Ñ€Ð°Ñ†Ñ–Ñ","4366555974862707223":"ÐœÐ¸ Ñ‰Ð¾Ð¹Ð½Ð¾ Ð²Ñ–Ð´Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¸ Ð²Ð°Ð¼ ÐµÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¸Ð¹ Ð»Ð¸ÑÑ‚ Ð´Ð»Ñ Ð²ÐµÑ€Ð¸Ñ„Ñ–ÐºÐ°Ñ†Ñ–Ñ— Ð°Ð´Ñ€ÐµÑÐ¸. Ð‘ÑƒÐ´ÑŒ Ð»Ð°ÑÐºÐ°, Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€Ñ‚Ðµ ÑÐ²Ð¾ÑŽ ÑÐºÑ€Ð¸Ð½ÑŒÐºÑƒ (Ð² Ñ‚Ð¾Ð¼Ñƒ Ñ‡Ð¸ÑÐ»Ñ– Ð¿Ð°Ð¿ÐºÑƒ Ð¡Ð¿Ð°Ð¼) Ñ‚Ð° Ð½Ð°Ñ‚Ð¸ÑÐ½Ñ–Ñ‚ÑŒ Ð½Ð° Ð¿Ð¾ÑÐ¸Ð»Ð°Ð½Ð½Ñ Ð´Ð»Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð½Ñ Ð¿Ñ€Ð¾Ñ†ÐµÑÑƒ. Ð¯ÐºÑ‰Ð¾ Ð²Ð¸ Ð½Ðµ Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ñ”Ñ‚Ðµ Ð»Ð¸ÑÑ‚Ð° Ð¿Ñ€Ð¾Ñ‚ÑÐ³Ð¾Ð¼ ÐºÑ–Ð»ÑŒÐºÐ¾Ñ… Ñ…Ð²Ð¸Ð»Ð¸Ð½ Ð°Ð±Ð¾ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±ÑƒÑ”Ñ‚Ðµ Ð´Ð¾Ð¿Ð¾Ð¼Ð¾Ð³Ð¸, Ð±ÑƒÐ´ÑŒ Ð»Ð°ÑÐºÐ°, Ð·Ð²ÐµÑ€Ð½Ñ–Ñ‚ÑŒÑÑ Ð´Ð¾ Ð½Ð°ÑˆÐ¾Ñ— ÑÐ»ÑƒÐ¶Ð±Ð¸ Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÐºÐ¸."},x3={locale:I3,translations:T3},Ef=[{id:"en",label:"English",default:!0},{id:"ua",label:"Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°"}],Fy=Ef.find(e=>e.default)||Ef[0],A3=[S3,x3],go=$localize;go.TRANSLATION_BY_LOCALE||(go.TRANSLATION_BY_LOCALE=new Map([["",{}]]),Object.defineProperty($localize,"TRANSLATIONS",{get(){const e=D1(Fy.id);let t=go.TRANSLATION_BY_LOCALE.get(e);return t||go.TRANSLATION_BY_LOCALE.set(e,t={}),t}}));function R3(){A3.forEach(({translations:e,locale:t})=>{mf(t,()=>y3(e))})}function C3(e){return e&&go.TRANSLATION_BY_LOCALE.has(e)?e:Fy.id}function ZY({serverData:e}){return`/build/${e.locale}`}R3();var O_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe=function(e,t){if(!e)throw zs(t)},zs=function(e){return new Error("Firebase Database ("+Uy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},O3=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},gp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(By(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):O3(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new k3;const f=s<<2|a>>4;if(r.push(f),l!==64){const p=a<<4&240|l>>2;if(r.push(p),d!==64){const g=l<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class k3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zy=function(e){const t=By(e);return gp.encodeByteArray(t,!0)},Pc=function(e){return zy(e).replace(/\./g,"")},Dc=function(e){try{return gp.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(e){return qy(void 0,e)}function qy(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!P3(n)||(e[n]=qy(e[n],t[n]));return e}function P3(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=()=>D3().__FIREBASE_DEFAULTS__,L3=()=>{if(typeof process>"u"||typeof O_>"u")return;const e=O_.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},F3=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Dc(e[1]);return t&&JSON.parse(t)},vp=()=>{try{return M3()||L3()||F3()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},U3=e=>{var t,n;return(n=(t=vp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Wy=e=>{const t=U3(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},jy=()=>{var e;return(e=vp())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Pc(JSON.stringify(n)),Pc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ir())}function B3(){var e;const t=(e=vp())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z3(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Hy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gy(){return Uy.NODE_ADMIN===!0}function q3(){try{return typeof indexedDB=="object"}catch{return!1}}function W3(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3="FirebaseError";class $r extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=j3,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ia.prototype.create)}}class Ia{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?V3(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new $r(i,a,r)}}function V3(e,t){return e.replace(H3,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const H3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(e){return JSON.parse(e)}function lt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Vo(Dc(s[0])||""),n=Vo(Dc(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},G3=function(e){const t=Yy(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Y3=function(e){const t=Yy(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function As(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function k_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Mc(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Lc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(N_(s)&&N_(o)){if(!Lc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function N_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function vo(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function yo(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^s&(o^a),u=1518500249):(l=s^o^a,u=1859775393):d<60?(l=s&o|a&(s|o),u=2400959708):(l=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function X3(e,t){const n=new Q3(e,t);return n.subscribe.bind(n)}class Q3{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Z3(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=nd),i.error===void 0&&(i.error=nd),i.complete===void 0&&(i.complete=nd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z3(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function nd(){}function bp(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,oe(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},xl=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(e){return e&&e._delegate?e._delegate:e}let ei=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Il;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nR(t))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=_i){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_i){return this.instances.has(t)}getOptions(t=_i){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tR(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=_i){return this.component?this.component.multipleInstances?t:_i:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tR(e){return e===_i?void 0:e}function nR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new eR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(De||(De={}));const iR={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},sR=De.INFO,oR={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},aR=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=oR[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let wp=class{constructor(t){this.name=t,this._logLevel=sR,this._logHandler=aR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in De))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...t),this._logHandler(this,De.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...t),this._logHandler(this,De.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,De.INFO,...t),this._logHandler(this,De.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,De.WARN,...t),this._logHandler(this,De.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...t),this._logHandler(this,De.ERROR,...t)}};const cR=(e,t)=>t.some(n=>e instanceof n);let P_,D_;function lR(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uR(){return D_||(D_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ky=new WeakMap,$f=new WeakMap,Xy=new WeakMap,rd=new WeakMap,Ep=new WeakMap;function dR(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Br(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Ky.set(n,e)}).catch(()=>{}),Ep.set(t,e),t}function fR(e){if($f.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});$f.set(e,t)}let Sf={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return $f.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Xy.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function hR(e){Sf=e(Sf)}function pR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(id(this),t,...n);return Xy.set(r,t.sort?t.sort():[t]),Br(r)}:uR().includes(e)?function(...t){return e.apply(id(this),t),Br(Ky.get(this))}:function(...t){return Br(e.apply(id(this),t))}}function mR(e){return typeof e=="function"?pR(e):(e instanceof IDBTransaction&&fR(e),cR(e,lR())?new Proxy(e,Sf):e)}function Br(e){if(e instanceof IDBRequest)return dR(e);if(rd.has(e))return rd.get(e);const t=mR(e);return t!==e&&(rd.set(e,t),Ep.set(t,e)),t}const id=e=>Ep.get(e);function _R(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Br(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Br(o.result),c.oldVersion,c.newVersion,Br(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const gR=["get","getKey","getAll","getAllKeys","count"],vR=["put","add","delete","clear"],sd=new Map;function M_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(sd.get(t))return sd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=vR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gR.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&c.done]))[0]};return sd.set(t,s),s}hR(e=>({...e,get:(t,n,r)=>M_(t,n)||e.get(t,n,r),has:(t,n)=>!!M_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const If="@firebase/app",L_="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new wp("@firebase/app"),wR="@firebase/app-compat",ER="@firebase/analytics-compat",$R="@firebase/analytics",SR="@firebase/app-check-compat",IR="@firebase/app-check",TR="@firebase/auth",xR="@firebase/auth-compat",AR="@firebase/database",RR="@firebase/database-compat",CR="@firebase/functions",OR="@firebase/functions-compat",kR="@firebase/installations",NR="@firebase/installations-compat",PR="@firebase/messaging",DR="@firebase/messaging-compat",MR="@firebase/performance",LR="@firebase/performance-compat",FR="@firebase/remote-config",UR="@firebase/remote-config-compat",BR="@firebase/storage",zR="@firebase/storage-compat",qR="@firebase/firestore",WR="@firebase/firestore-compat",jR="firebase",VR="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="[DEFAULT]",HR={[If]:"fire-core",[wR]:"fire-core-compat",[$R]:"fire-analytics",[ER]:"fire-analytics-compat",[IR]:"fire-app-check",[SR]:"fire-app-check-compat",[TR]:"fire-auth",[xR]:"fire-auth-compat",[AR]:"fire-rtdb",[RR]:"fire-rtdb-compat",[CR]:"fire-fn",[OR]:"fire-fn-compat",[kR]:"fire-iid",[NR]:"fire-iid-compat",[PR]:"fire-fcm",[DR]:"fire-fcm-compat",[MR]:"fire-perf",[LR]:"fire-perf-compat",[FR]:"fire-rc",[UR]:"fire-rc-compat",[BR]:"fire-gcs",[zR]:"fire-gcs-compat",[qR]:"fire-fst",[WR]:"fire-fst-compat","fire-js":"fire-js",[jR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,xf=new Map;function GR(e,t){try{e.container.addComponent(t)}catch(n){Ai.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ri(e){const t=e.name;if(xf.has(t))return Ai.debug(`There were multiple attempts to register component ${t}.`),!1;xf.set(t,e);for(const n of Fc.values())GR(n,e);return!0}function Al(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},zr=new Ia("app","Firebase",YR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=VR;function Qy(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Tf,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw zr.create("bad-app-name",{appName:String(i)});if(n||(n=jy()),!n)throw zr.create("no-options");const s=Fc.get(i);if(s){if(Lc(n,s.options)&&Lc(r,s.config))return s;throw zr.create("duplicate-app",{appName:i})}const o=new rR(i);for(const c of xf.values())o.addComponent(c);const a=new KR(n,r,o);return Fc.set(i,a),a}function $p(e=Tf){const t=Fc.get(e);if(!t&&e===Tf&&jy())return Qy();if(!t)throw zr.create("no-app",{appName:e});return t}function Jn(e,t,n){var r;let i=(r=HR[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ai.warn(a.join(" "));return}Ri(new ei(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR="firebase-heartbeat-database",QR=1,Ho="firebase-heartbeat-store";let od=null;function Zy(){return od||(od=_R(XR,QR,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ho)}}}).catch(e=>{throw zr.create("idb-open",{originalErrorMessage:e.message})})),od}async function ZR(e){try{return await(await Zy()).transaction(Ho).objectStore(Ho).get(Jy(e))}catch(t){if(t instanceof $r)Ai.warn(t.message);else{const n=zr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ai.warn(n.message)}}}async function F_(e,t){try{const r=(await Zy()).transaction(Ho,"readwrite");await r.objectStore(Ho).put(t,Jy(e)),await r.done}catch(n){if(n instanceof $r)Ai.warn(n.message);else{const r=zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ai.warn(r.message)}}}function Jy(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=1024,eC=30*24*60*60*1e3;class tC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=U_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=eC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U_(),{heartbeatsToSend:r,unsentEntries:i}=nC(this._heartbeatsCache.heartbeats),s=Pc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function U_(){return new Date().toISOString().substring(0,10)}function nC(e,t=JR){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),B_(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),B_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q3()?W3().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ZR(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return F_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return F_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function B_(e){return Pc(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(e){Ri(new ei("platform-logger",t=>new yR(t),"PRIVATE")),Ri(new ei("heartbeat",t=>new tC(t),"PRIVATE")),Jn(If,L_,e),Jn(If,L_,"esm2017"),Jn("fire-js","")}iC("");var sC="firebase",oC="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn(sC,oC,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="firebasestorage.googleapis.com",tb="storageBucket",aC=2*60*1e3,cC=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at extends $r{constructor(t,n,r=0){super(ad(t),`Firebase Storage: ${n} (${ad(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,at.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ad(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var st;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(st||(st={}));function ad(e){return"storage/"+e}function Sp(){const e="An unknown error occurred, please check the error payload for server response.";return new at(st.UNKNOWN,e)}function lC(e){return new at(st.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uC(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new at(st.UNAUTHENTICATED,e)}function dC(){return new at(st.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function fC(e){return new at(st.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function hC(){return new at(st.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pC(){return new at(st.CANCELED,"User canceled the upload/download.")}function mC(e){return new at(st.INVALID_URL,"Invalid URL '"+e+"'.")}function _C(e){return new at(st.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function gC(){return new at(st.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tb+"' property when initializing the app?")}function vC(){return new at(st.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yC(e){return new at(st.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Af(e){return new at(st.INVALID_ARGUMENT,e)}function nb(){return new at(st.APP_DELETED,"The Firebase app was deleted.")}function bC(e){return new at(st.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Io(e,t){return new at(st.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function io(e){throw new at(st.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Jt.makeFromUrl(t,n)}catch{return new Jt(t,"")}if(r.path==="")return r;throw _C(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function l(b){b.path_=decodeURIComponent(b.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},h=n===eb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,m="([^?#]*)",_=new RegExp(`^https?://${h}/${i}/${m}`,"i"),y=[{regex:a,indices:c,postModify:s},{regex:p,indices:g,postModify:l},{regex:_,indices:{bucket:1,path:2},postModify:l}];for(let b=0;b<y.length;b++){const $=y[b],S=$.regex.exec(t);if(S){const I=S[$.indices.bucket];let x=S[$.indices.path];x||(x=""),r=new Jt(I,x),$.postModify(r);break}}if(r==null)throw mC(t);return r}}class wC{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let l=!1;function u(...m){l||(l=!0,t.apply(null,m))}function d(m){i=setTimeout(()=>{i=null,e(p,c())},m)}function f(){s&&clearTimeout(s)}function p(m,..._){if(l){f();return}if(m){f(),u.call(null,m,..._);return}if(c()||o){f(),u.call(null,m,..._);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,d(y)}let g=!1;function h(m){g||(g=!0,f(),!l&&(i!==null?(m||(a=2),clearTimeout(i),d(0)):m||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,h(!0)},n),h}function $C(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(e){return e!==void 0}function IC(e){return typeof e=="object"&&!Array.isArray(e)}function rb(e){return typeof e=="string"||e instanceof String}function z_(e){return Ip()&&e instanceof Blob}function Ip(){return typeof Blob<"u"&&!B3()}function q_(e,t,n,r){if(r<t)throw Af(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Af(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function xC(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Si||(Si={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t,n,r,i,s,o,a,c,l,u,d,f=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new Ya(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Si.NO_ERROR,c=s.getStatus();if(!a||AC(c,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===Si.ABORT;r(!1,new Ya(!1,null,u));return}const l=this.successCodes_.indexOf(c)!==-1;r(!0,new Ya(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());SC(c)?s(c):s()}catch(c){o(c)}else if(a!==null){const c=Sp();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){const c=this.appDelete_?nb():pC();o(c)}else{const c=hC();o(c)}};this.canceled_?n(!1,new Ya(!1,null,!0)):this.backoffId_=EC(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&$C(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ya{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function CC(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function OC(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function kC(e,t){t&&(e["X-Firebase-GMPID"]=t)}function NC(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function PC(e,t,n,r,i,s,o=!0){const a=xC(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return kC(l,t),CC(l,n),OC(l,s),NC(l,r),new RC(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function MC(...e){const t=DC();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Ip())return new Blob(e);throw new at(st.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function LC(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(e){if(typeof atob>"u")throw yC("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cd{constructor(t,n){this.data=t,this.contentType=n||null}}function UC(e,t){switch(e){case Xn.RAW:return new cd(ib(t));case Xn.BASE64:case Xn.BASE64URL:return new cd(sb(e,t));case Xn.DATA_URL:return new cd(zC(t),qC(t))}throw Sp()}function ib(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=r,o=e.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function BC(e){let t;try{t=decodeURIComponent(e)}catch{throw Io(Xn.DATA_URL,"Malformed data URL.")}return ib(t)}function sb(e,t){switch(e){case Xn.BASE64:{const i=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(i||s)throw Io(e,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Xn.BASE64URL:{const i=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(i||s)throw Io(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=FC(t)}catch(i){throw i.message.includes("polyfill")?i:Io(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class ob{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Io(Xn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=WC(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function zC(e){const t=new ob(e);return t.base64?sb(Xn.BASE64,t.rest):BC(t.rest)}function qC(e){return new ob(e).contentType}function WC(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t,n){let r=0,i="";z_(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(t,n){if(z_(this.data_)){const r=this.data_,i=LC(r,t,n);return i===null?null:new Mr(i)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Mr(r,!0)}}static getBlob(...t){if(Ip()){const n=t.map(r=>r instanceof Mr?r.data_:r);return new Mr(MC.apply(null,n))}else{const n=t.map(o=>rb(o)?UC(Xn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Mr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(e){let t;try{t=JSON.parse(e)}catch{return null}return IC(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function HC(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function ab(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(e,t){return t}class Ft{constructor(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||GC}}let Ka=null;function YC(e){return!rb(e)||e.length<2?e:ab(e)}function KC(){if(Ka)return Ka;const e=[];e.push(new Ft("bucket")),e.push(new Ft("generation")),e.push(new Ft("metageneration")),e.push(new Ft("name","fullPath",!0));function t(s,o){return YC(o)}const n=new Ft("name");n.xform=t,e.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Ft("size");return i.xform=r,e.push(i),e.push(new Ft("timeCreated")),e.push(new Ft("updated")),e.push(new Ft("md5Hash",null,!0)),e.push(new Ft("cacheControl",null,!0)),e.push(new Ft("contentDisposition",null,!0)),e.push(new Ft("contentEncoding",null,!0)),e.push(new Ft("contentLanguage",null,!0)),e.push(new Ft("contentType",null,!0)),e.push(new Ft("metadata","customMetadata",!0)),Ka=e,Ka}function XC(e,t){function n(){const r=e.bucket,i=e.fullPath,s=new Jt(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function QC(e,t,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,t[o.server])}return XC(r,e),r}function ZC(e,t,n){const r=jC(t);return r===null?null:QC(e,r,n)}function JC(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class e8{constructor(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(e){if(!e)throw Sp()}function n8(e,t){function n(r,i){const s=ZC(e,i,t);return t8(s!==null),s}return n}function r8(e){function t(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=dC():i=uC():n.getStatus()===402?i=lC(e.bucket):n.getStatus()===403?i=fC(e.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return t}function i8(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function s8(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=i8(null,t)),r}function o8(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let b=0;b<2;b++)y=y+Math.random().toString().slice(2);return y}const c=a();o["Content-Type"]="multipart/related; boundary="+c;const l=s8(t,r,i),u=JC(l,n),d="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,f=`\r
--`+c+"--",p=Mr.getBlob(d,r,f);if(p===null)throw vC();const g={name:l.fullPath},h=TC(s,e.host,e._protocol),m="POST",_=e.maxUploadRetryTime,v=new e8(h,m,n8(e,n),_);return v.urlParams=g,v.headers=o,v.body=p.uploadData(),v.errorHandler=r8(t),v}class a8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Si.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Si.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Si.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,i){if(this.sent_)throw io("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw io("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw io("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw io("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw io("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class c8 extends a8{initXhr(){this.xhr_.responseType="text"}}function l8(){return new c8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,n){this._service=t,n instanceof Jt?this._location=n:this._location=Jt.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Ci(t,n)}get root(){const t=new Jt(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ab(this._location.path)}get storage(){return this._service}get parent(){const t=VC(this._location.path);if(t===null)return null;const n=new Jt(this._location.bucket,t);return new Ci(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw bC(t)}}function u8(e,t,n){e._throwIfRoot("uploadBytes");const r=o8(e.storage,e._location,KC(),new Mr(t,!0),n);return e.storage.makeRequestWithTokens(r,l8).then(i=>({metadata:i,ref:e}))}function d8(e,t){const n=HC(e._location.path,t),r=new Jt(e._location.bucket,n);return new Ci(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(e){return/^[A-Za-z]+:\/\//.test(e)}function h8(e,t){return new Ci(e,t)}function cb(e,t){if(e instanceof Tp){const n=e;if(n._bucket==null)throw gC();const r=new Ci(n,n._bucket);return t!=null?cb(r,t):r}else return t!==void 0?d8(e,t):e}function p8(e,t){if(t&&f8(t)){if(e instanceof Tp)return h8(e,t);throw Af("To use ref(service, url), the first argument must be a Storage instance.")}else return cb(e,t)}function W_(e,t){const n=t==null?void 0:t[tb];return n==null?null:Jt.makeFromBucketSpec(n,e)}function m8(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:Vy(i,e.app.options.projectId))}class Tp{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=eb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aC,this._maxUploadRetryTime=cC,this._requests=new Set,i!=null?this._bucket=Jt.makeFromBucketSpec(i,this._host):this._bucket=W_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Jt.makeFromBucketSpec(this._url,t):this._bucket=W_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){q_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){q_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ci(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new wC(nb());{const o=PC(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const j_="@firebase/storage",V_="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="storage";function _8(e,t,n){return e=$e(e),u8(e,t,n)}function H_(e,t){return e=$e(e),p8(e,t)}function g8(e=$p(),t){e=$e(e);const r=Al(e,lb).getImmediate({identifier:t}),i=Wy("storage");return i&&v8(r,...i),r}function v8(e,t,n,r={}){m8(e,t,n,r)}function y8(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new Tp(n,r,i,t,Ta)}function b8(){Ri(new ei(lb,y8,"PUBLIC").setMultipleInstances(!0)),Jn(j_,V_,""),Jn(j_,V_,"esm2017")}b8();var Rf=function(e,t){return Rf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Rf(e,t)};function dt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Rf(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Fe=function(){return Fe=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Fe.apply(this,arguments)};function xp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function B(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function z(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function vn(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(){var e;return e={},e["admin-restricted-operation"]="This operation is restricted to administrators only.",e["argument-error"]="",e["app-not-authorized"]="This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",e["app-not-installed"]="The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",e["captcha-check-failed"]="The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",e["code-expired"]="The SMS code has expired. Please re-send the verification code to try again.",e["cordova-not-ready"]="Cordova framework is not ready.",e["cors-unsupported"]="This browser is not supported.",e["credential-already-in-use"]="This credential is already associated with a different user account.",e["custom-token-mismatch"]="The custom token corresponds to a different audience.",e["requires-recent-login"]="This operation is sensitive and requires recent authentication. Log in again before retrying this request.",e["dependent-sdk-initialized-before-auth"]="Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",e["dynamic-link-not-activated"]="Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",e["email-change-needs-verification"]="Multi-factor users must always have a verified email.",e["email-already-in-use"]="The email address is already in use by another account.",e["emulator-config-failed"]='Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',e["expired-action-code"]="The action code has expired.",e["cancelled-popup-request"]="This operation has been cancelled due to another conflicting popup being opened.",e["internal-error"]="An internal AuthError has occurred.",e["invalid-app-credential"]="The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",e["invalid-app-id"]="The mobile app identifier is not registed for the current project.",e["invalid-user-token"]="This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",e["invalid-auth-event"]="An internal AuthError has occurred.",e["invalid-verification-code"]="The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",e["invalid-continue-uri"]="The continue URL provided in the request is invalid.",e["invalid-cordova-configuration"]="The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",e["invalid-custom-token"]="The custom token format is incorrect. Please check the documentation.",e["invalid-dynamic-link-domain"]="The provided dynamic link domain is not configured or authorized for the current project.",e["invalid-email"]="The email address is badly formatted.",e["invalid-emulator-scheme"]="Emulator URL must start with a valid scheme (http:// or https://).",e["invalid-api-key"]="Your API key is invalid, please check you have copied it correctly.",e["invalid-cert-hash"]="The SHA-1 certificate hash provided is invalid.",e["invalid-credential"]="The supplied auth credential is malformed or has expired.",e["invalid-message-payload"]="The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",e["invalid-multi-factor-session"]="The request does not contain a valid proof of first factor successful sign-in.",e["invalid-oauth-provider"]="EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",e["invalid-oauth-client-id"]="The OAuth client ID provided is either invalid or does not match the specified API key.",e["unauthorized-domain"]="This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",e["invalid-action-code"]="The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",e["wrong-password"]="The password is invalid or the user does not have a password.",e["invalid-persistence-type"]="The specified persistence type is invalid. It can only be local, session or none.",e["invalid-phone-number"]="The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",e["invalid-provider-id"]="The specified provider ID is invalid.",e["invalid-recipient-email"]="The email corresponding to this action failed to send as the provided recipient email address is invalid.",e["invalid-sender"]="The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",e["invalid-verification-id"]="The verification ID used to create the phone auth credential is invalid.",e["invalid-tenant-id"]="The Auth instance's tenant ID is invalid.",e["login-blocked"]="Login blocked by user-provided method: {$originalMessage}",e["missing-android-pkg-name"]="An Android Package Name must be provided if the Android App is required to be installed.",e["auth-domain-config-required"]="Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",e["missing-app-credential"]="The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",e["missing-verification-code"]="The phone auth credential was created with an empty SMS verification code.",e["missing-continue-uri"]="A continue URL must be provided in the request.",e["missing-iframe-start"]="An internal AuthError has occurred.",e["missing-ios-bundle-id"]="An iOS Bundle ID must be provided if an App Store ID is provided.",e["missing-or-invalid-nonce"]="The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",e["missing-password"]="A non-empty password must be provided",e["missing-multi-factor-info"]="No second factor identifier is provided.",e["missing-multi-factor-session"]="The request is missing proof of first factor successful sign-in.",e["missing-phone-number"]="To send verification codes, provide a phone number for the recipient.",e["missing-verification-id"]="The phone auth credential was created with an empty verification ID.",e["app-deleted"]="This instance of FirebaseApp has been deleted.",e["multi-factor-info-not-found"]="The user does not have a second factor matching the identifier provided.",e["multi-factor-auth-required"]="Proof of ownership of a second factor is required to complete sign-in.",e["account-exists-with-different-credential"]="An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",e["network-request-failed"]="A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",e["no-auth-event"]="An internal AuthError has occurred.",e["no-such-provider"]="User was not linked to an account with the given provider.",e["null-user"]="A null user object was provided as the argument for an operation which requires a non-null user object.",e["operation-not-allowed"]="The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",e["operation-not-supported-in-this-environment"]='This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',e["popup-blocked"]="Unable to establish a connection with the popup. It may have been blocked by the browser.",e["popup-closed-by-user"]="The popup has been closed by the user before finalizing the operation.",e["provider-already-linked"]="User can only be linked to one identity for the given provider.",e["quota-exceeded"]="The project's quota for this operation has been exceeded.",e["redirect-cancelled-by-user"]="The redirect operation has been cancelled by the user before finalizing.",e["redirect-operation-pending"]="A redirect sign-in operation is already pending.",e["rejected-credential"]="The request contains malformed or mismatching credentials.",e["second-factor-already-in-use"]="The second factor is already enrolled on this account.",e["maximum-second-factor-count-exceeded"]="The maximum allowed number of second factors on a user has been exceeded.",e["tenant-id-mismatch"]="The provided tenant ID does not match the Auth instance's tenant ID",e.timeout="The operation has timed out.",e["user-token-expired"]="The user's credential is no longer valid. The user must sign in again.",e["too-many-requests"]="We have blocked all requests from this device due to unusual activity. Try again later.",e["unauthorized-continue-uri"]="The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",e["unsupported-first-factor"]="Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",e["unsupported-persistence-type"]="The current environment does not support the specified persistence type.",e["unsupported-tenant-operation"]="This operation is not supported in a multi-tenant context.",e["unverified-email"]="The operation requires a verified email.",e["user-cancelled"]="The user did not grant your application the permissions it requested.",e["user-not-found"]="There is no user record corresponding to this identifier. The user may have been deleted.",e["user-disabled"]="The user account has been disabled by an administrator.",e["user-mismatch"]="The supplied credentials do not correspond to the previously signed in user.",e["user-signed-out"]="",e["weak-password"]="The password must be 6 characters long or more.",e["web-storage-unsupported"]="This browser is not supported or 3rd party cookies and data may be disabled.",e["already-initialized"]="initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.",e["missing-recaptcha-token"]="The reCAPTCHA token is missing when sending request to the backend.",e["invalid-recaptcha-token"]="The reCAPTCHA token is invalid when sending request to the backend.",e["invalid-recaptcha-action"]="The reCAPTCHA action is invalid when sending request to the backend.",e["recaptcha-not-enabled"]="reCAPTCHA Enterprise integration is not enabled for this project.",e["missing-client-type"]="The reCAPTCHA client type is missing when sending request to the backend.",e["missing-recaptcha-version"]="The reCAPTCHA version is missing when sending request to the backend.",e["invalid-req-type"]="Invalid request parameters.",e["invalid-recaptcha-version"]="The reCAPTCHA version is invalid when sending request to the backend.",e["unsupported-password-policy-schema-version"]="The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.",e["password-does-not-meet-requirements"]="The password does not meet the requirements.",e}function ub(){var e;return e={},e["dependent-sdk-initialized-before-auth"]="Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",e}var E8=w8,db=ub,Cf=new Ia("auth","Firebase",ub()),$8={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _s=new wp("@firebase/auth");function S8(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];_s.logLevel<=De.WARN&&_s.warn.apply(_s,vn(["Auth (".concat(Ta,"): ").concat(e)],t,!1))}function _c(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];_s.logLevel<=De.ERROR&&_s.error.apply(_s,vn(["Auth (".concat(Ta,"): ").concat(e)],t,!1))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];throw Rp.apply(void 0,vn([e],t,!1))}function Ap(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Rp.apply(void 0,vn([e],t,!1))}function I8(e,t,n){var r,i=Fe(Fe({},db()),(r={},r[t]=n,r)),s=new Ia("auth","Firebase",i);return s.create(t,{appName:e.name})}function Rp(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(typeof e!="string"){var i=n[0],s=vn([],n.slice(1),!0);return s[0]&&(s[0].appName=e.name),(t=e._errorFactory).create.apply(t,vn([i],s,!1))}return Cf.create.apply(Cf,vn([e],n,!1))}function me(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!e)throw Rp.apply(void 0,vn([t],n,!1))}function ur(e){var t="INTERNAL ASSERTION FAILED: "+e;throw _c(t),new Error(t)}function Uc(e,t){e||ur(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G_=new Map;function Lr(e){Uc(e instanceof Function,"Expected a class definition");var t=G_.get(e);return t?(Uc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,G_.set(e,t),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(e,t){var n=Al(e,"auth");if(n.isInitialized()){var r=n.getImmediate(),i=n.getOptions();if(Lc(i,t??{}))return r;sr(r,"already-initialized")}var s=n.initialize({options:t});return s}function fb(e,t){var n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}var Y_="@firebase/auth",K_="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(C8(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(x8(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(k8(t))return"Blackberry";if(N8(t))return"Webos";if(A8(t))return"Safari";if((t.includes("chrome/")||R8(t))&&!t.includes("edge/"))return"Chrome";if(O8(t))return"Android";var n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);return(r==null?void 0:r.length)===2?r[1]:"Other"}function x8(e){return e===void 0&&(e=ir()),/firefox\//i.test(e)}function A8(e){e===void 0&&(e=ir());var t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function R8(e){return e===void 0&&(e=ir()),/crios\//i.test(e)}function C8(e){return e===void 0&&(e=ir()),/iemobile/i.test(e)}function O8(e){return e===void 0&&(e=ir()),/android/i.test(e)}function k8(e){return e===void 0&&(e=ir()),/blackberry/i.test(e)}function N8(e){return e===void 0&&(e=ir()),/webos/i.test(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(e,t){t===void 0&&(t=[]);var n;switch(e){case"Browser":n=X_(ir());break;case"Worker":n="".concat(X_(ir()),"-").concat(e);break;default:n=e}var r=t.length?t.join(","):"FirebaseCore-web";return"".concat(n,"/").concat("JsCore","/").concat(Ta,"/").concat(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function mb(){return Q_()==="http:"||Q_()==="https:"}function Q_(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mb()||z3()||"connection"in navigator)?navigator.onLine:!0}function D8(){if(typeof navigator>"u")return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M8=function(){function e(t,n){this.shortDelay=t,this.longDelay=n,Uc(n>t,"Short delay should be less than long delay!"),this.isMobile=yp()||Hy()}return e.prototype.get=function(){return P8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(e,t){Uc(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _b=function(){function e(){}return e.initialize=function(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)},e.fetch=function(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},e.headers=function(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},e.response=function(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,F8=(ve={},ve.CREDENTIAL_MISMATCH="custom-token-mismatch",ve.MISSING_CUSTOM_TOKEN="internal-error",ve.INVALID_IDENTIFIER="invalid-email",ve.MISSING_CONTINUE_URI="internal-error",ve.INVALID_PASSWORD="wrong-password",ve.MISSING_PASSWORD="missing-password",ve.EMAIL_EXISTS="email-already-in-use",ve.PASSWORD_LOGIN_DISABLED="operation-not-allowed",ve.INVALID_IDP_RESPONSE="invalid-credential",ve.INVALID_PENDING_TOKEN="invalid-credential",ve.FEDERATED_USER_ID_ALREADY_LINKED="credential-already-in-use",ve.MISSING_REQ_TYPE="internal-error",ve.EMAIL_NOT_FOUND="user-not-found",ve.RESET_PASSWORD_EXCEED_LIMIT="too-many-requests",ve.EXPIRED_OOB_CODE="expired-action-code",ve.INVALID_OOB_CODE="invalid-action-code",ve.MISSING_OOB_CODE="internal-error",ve.CREDENTIAL_TOO_OLD_LOGIN_AGAIN="requires-recent-login",ve.INVALID_ID_TOKEN="invalid-user-token",ve.TOKEN_EXPIRED="user-token-expired",ve.USER_NOT_FOUND="user-token-expired",ve.TOO_MANY_ATTEMPTS_TRY_LATER="too-many-requests",ve.PASSWORD_DOES_NOT_MEET_REQUIREMENTS="password-does-not-meet-requirements",ve.INVALID_CODE="invalid-verification-code",ve.INVALID_SESSION_INFO="invalid-verification-id",ve.INVALID_TEMPORARY_PROOF="invalid-credential",ve.MISSING_SESSION_INFO="missing-verification-id",ve.SESSION_EXPIRED="code-expired",ve.MISSING_ANDROID_PACKAGE_NAME="missing-android-pkg-name",ve.UNAUTHORIZED_DOMAIN="unauthorized-continue-uri",ve.INVALID_OAUTH_CLIENT_ID="invalid-oauth-client-id",ve.ADMIN_ONLY_OPERATION="admin-restricted-operation",ve.INVALID_MFA_PENDING_CREDENTIAL="invalid-multi-factor-session",ve.MFA_ENROLLMENT_NOT_FOUND="multi-factor-info-not-found",ve.MISSING_MFA_ENROLLMENT_ID="missing-multi-factor-info",ve.MISSING_MFA_PENDING_CREDENTIAL="missing-multi-factor-session",ve.SECOND_FACTOR_EXISTS="second-factor-already-in-use",ve.SECOND_FACTOR_LIMIT_EXCEEDED="maximum-second-factor-count-exceeded",ve.BLOCKING_FUNCTION_ERROR_RESPONSE="internal-error",ve.RECAPTCHA_NOT_ENABLED="recaptcha-not-enabled",ve.MISSING_RECAPTCHA_TOKEN="missing-recaptcha-token",ve.INVALID_RECAPTCHA_TOKEN="invalid-recaptcha-token",ve.INVALID_RECAPTCHA_ACTION="invalid-recaptcha-action",ve.MISSING_CLIENT_TYPE="missing-client-type",ve.MISSING_RECAPTCHA_VERSION="missing-recaptcha-version",ve.INVALID_RECAPTCHA_VERSION="invalid-recaptcha-version",ve.INVALID_REQ_TYPE="invalid-req-type",ve);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U8=new M8(3e4,6e4);function Ct(e,t){return e.tenantId&&!t.tenantId?Fe(Fe({},t),{tenantId:e.tenantId}):t}function zt(e,t,n,r,i){return i===void 0&&(i={}),B(this,void 0,void 0,function(){var s=this;return z(this,function(o){return[2,gb(e,i,function(){return B(s,void 0,void 0,function(){var a,c,l,u;return z(this,function(d){switch(d.label){case 0:return a={},c={},r&&(t==="GET"?c=r:a={body:JSON.stringify(r)}),l=Tl(Fe({key:e.config.apiKey},c)).slice(1),[4,e._getAdditionalHeaders()];case 1:return u=d.sent(),u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode),[2,_b.fetch()(vb(e,e.config.apiHost,n,l),Fe({method:t,headers:u,referrerPolicy:"no-referrer"},a))]}})})})]})})}function gb(e,t,n){return B(this,void 0,void 0,function(){var r,i,s,o,a,c,l,u,d,f;return z(this,function(p){switch(p.label){case 0:e._canInitEmulator=!1,r=Fe(Fe({},F8),t),p.label=1;case 1:return p.trys.push([1,4,,5]),i=new z8(e),[4,Promise.race([n(),i.promise])];case 2:return s=p.sent(),i.clearNetworkTimeout(),[4,s.json()];case 3:if(o=p.sent(),"needConfirmation"in o)throw bo(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return[2,o];if(a=s.ok?o.errorMessage:o.error.message,c=a.split(" : "),l=c[0],u=c[1],l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bo(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw bo(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw bo(e,"user-disabled",o);if(d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-"),u)throw I8(e,d,u);return sr(e,d),[3,5];case 4:if(f=p.sent(),f instanceof $r)throw f;return sr(e,"network-request-failed",{message:String(f)}),[3,5];case 5:return[2]}})})}function Ir(e,t,n,r,i){return i===void 0&&(i={}),B(this,void 0,void 0,function(){var s;return z(this,function(o){switch(o.label){case 0:return[4,zt(e,t,n,r,i)];case 1:return s=o.sent(),"mfaPendingCredential"in s&&sr(e,"multi-factor-auth-required",{_serverResponse:s}),[2,s]}})})}function vb(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?L8(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function B8(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var z8=function(){function e(t){var n=this;this.auth=t,this.timer=null,this.promise=new Promise(function(r,i){n.timer=setTimeout(function(){return i(Ap(n.auth,"network-request-failed"))},U8.get())})}return e.prototype.clearNetworkTimeout=function(){clearTimeout(this.timer)},e}();function bo(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ap(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,zt(e,"POST","/v1/accounts:delete",t)]})})}function W8(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,zt(e,"POST","/v1/accounts:update",t)]})})}function j8(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,zt(e,"POST","/v1/accounts:lookup",t)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(e,t){return t===void 0&&(t=!1),$e(e).getIdToken(t)}function yb(e,t){return t===void 0&&(t=!1),B(this,void 0,void 0,function(){var n,r,i,s,o;return z(this,function(a){switch(a.label){case 0:return n=$e(e),[4,n.getIdToken(t)];case 1:return r=a.sent(),i=Rl(r),me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error"),s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider,[2,{claims:i,token:r,authTime:To(ld(i.auth_time)),issuedAtTime:To(ld(i.iat)),expirationTime:To(ld(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}]}})})}function ld(e){return Number(e)*1e3}function Rl(e){var t=e.split("."),n=t[0],r=t[1],i=t[2];if(n===void 0||r===void 0||i===void 0)return _c("JWT malformed, contained fewer than 3 sections"),null;try{var s=Dc(r);return s?JSON.parse(s):(_c("Failed to decode base64 JWT payload"),null)}catch(o){return _c("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function H8(e){var t=Rl(e);return me(t,"internal-error"),me(typeof t.exp<"u","internal-error"),me(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(e,t,n){return n===void 0&&(n=!1),B(this,void 0,void 0,function(){var r;return z(this,function(i){switch(i.label){case 0:if(n)return[2,t];i.label=1;case 1:return i.trys.push([1,3,,6]),[4,t];case 2:return[2,i.sent()];case 3:return r=i.sent(),r instanceof $r&&G8(r)?e.auth.currentUser!==e?[3,5]:[4,e.auth.signOut()]:[3,5];case 4:i.sent(),i.label=5;case 5:throw r;case 6:return[2]}})})}function G8(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y8=function(){function e(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return e.prototype._start=function(){this.isRunning||(this.isRunning=!0,this.schedule())},e.prototype._stop=function(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))},e.prototype.getInterval=function(t){var n;if(t){var r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;var i=(n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0,r=i-Date.now()-3e5;return Math.max(0,r)}},e.prototype.schedule=function(t){var n=this;if(t===void 0&&(t=!1),!!this.isRunning){var r=this.getInterval(t);this.timerId=setTimeout(function(){return B(n,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return[4,this.iteration()];case 1:return i.sent(),[2]}})})},r)}},e.prototype.iteration=function(){return B(this,void 0,void 0,function(){var t;return z(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.user.getIdToken(!0)];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),(t==null?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),[2];case 3:return this.schedule(),[2]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bb=function(){function e(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return e.prototype._initializeTime=function(){this.lastSignInTime=To(this.lastLoginAt),this.creationTime=To(this.createdAt)},e.prototype._copy=function(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()},e.prototype.toJSON=function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(e){var t;return B(this,void 0,void 0,function(){var n,r,i,s,o,a,c,l,u,d;return z(this,function(f){switch(f.label){case 0:return n=e.auth,[4,e.getIdToken()];case 1:return r=f.sent(),[4,vr(e,j8(n,{idToken:r}))];case 2:return i=f.sent(),me(i==null?void 0:i.users.length,n,"internal-error"),s=i.users[0],e._notifyReloadListener(s),o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?X8(s.providerUserInfo):[],a=K8(e.providerData,o),c=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),u=c?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new bb(s.createdAt,s.lastLoginAt),isAnonymous:u},Object.assign(e,d),[2]}})})}function wb(e){return B(this,void 0,void 0,function(){var t;return z(this,function(n){switch(n.label){case 0:return t=$e(e),[4,Go(t)];case 1:return n.sent(),[4,t.auth._persistUserIfCurrent(t)];case 2:return n.sent(),t.auth._notifyListenersIfCurrent(t),[2]}})})}function K8(e,t){var n=e.filter(function(r){return!t.some(function(i){return i.providerId===r.providerId})});return vn(vn([],n,!0),t,!0)}function X8(e){return e.map(function(t){var n=t.providerId,r=xp(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(e,t){return B(this,void 0,void 0,function(){var n,r=this;return z(this,function(i){switch(i.label){case 0:return[4,gb(e,{},function(){return B(r,void 0,void 0,function(){var s,o,a,c,l,u;return z(this,function(d){switch(d.label){case 0:return s=Tl({grant_type:"refresh_token",refresh_token:t}).slice(1),o=e.config,a=o.tokenApiHost,c=o.apiKey,l=vb(e,a,"/v1/token","key=".concat(c)),[4,e._getAdditionalHeaders()];case 1:return u=d.sent(),u["Content-Type"]="application/x-www-form-urlencoded",[2,_b.fetch()(l,{method:"POST",headers:u,body:s})]}})})})];case 1:return n=i.sent(),[2,{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}]}})})}function Z8(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,zt(e,"POST","/v2/accounts:revokeToken",Ct(e,t))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z_=function(){function e(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object.defineProperty(e.prototype,"isExpired",{get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4},enumerable:!1,configurable:!0}),e.prototype.updateFromServerResponse=function(t){me(t.idToken,"internal-error"),me(typeof t.idToken<"u","internal-error"),me(typeof t.refreshToken<"u","internal-error");var n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):H8(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)},e.prototype.getToken=function(t,n){return n===void 0&&(n=!1),B(this,void 0,void 0,function(){return z(this,function(r){switch(r.label){case 0:return me(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?[2,this.accessToken]:this.refreshToken?[4,this.refresh(t,this.refreshToken)]:[3,2];case 1:return r.sent(),[2,this.accessToken];case 2:return[2,null]}})})},e.prototype.clearRefreshToken=function(){this.refreshToken=null},e.prototype.refresh=function(t,n){return B(this,void 0,void 0,function(){var r,i,s,o;return z(this,function(a){switch(a.label){case 0:return[4,Q8(t,n)];case 1:return r=a.sent(),i=r.accessToken,s=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,s,Number(o)),[2]}})})},e.prototype.updateTokensAndExpiration=function(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3},e.fromJSON=function(t,n){var r=n.refreshToken,i=n.accessToken,s=n.expirationTime,o=new e;return r&&(me(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(me(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o},e.prototype.toJSON=function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}},e.prototype._assign=function(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime},e.prototype._clone=function(){return Object.assign(new e,this.toJSON())},e.prototype._performRefresh=function(){return ur("not implemented")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(e,t){me(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var Of=function(){function e(t){var n=t.uid,r=t.auth,i=t.stsTokenManager,s=xp(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?vn([],s.providerData,!0):[],this.metadata=new bb(s.createdAt||void 0,s.lastLoginAt||void 0)}return e.prototype.getIdToken=function(t){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return[4,vr(this,this.stsTokenManager.getToken(this.auth,t))];case 1:return n=r.sent(),me(n,this.auth,"internal-error"),this.accessToken===n?[3,3]:(this.accessToken=n,[4,this.auth._persistUserIfCurrent(this)]);case 2:r.sent(),this.auth._notifyListenersIfCurrent(this),r.label=3;case 3:return[2,n]}})})},e.prototype.getIdTokenResult=function(t){return yb(this,t)},e.prototype.reload=function(){return wb(this)},e.prototype._assign=function(t){this!==t&&(me(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(function(n){return Fe({},n)}),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))},e.prototype._clone=function(t){var n=new e(Fe(Fe({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n},e.prototype._onReload=function(t){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)},e.prototype._notifyReloadListener=function(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t},e.prototype._startProactiveRefresh=function(){this.proactiveRefresh._start()},e.prototype._stopProactiveRefresh=function(){this.proactiveRefresh._stop()},e.prototype._updateTokensIfNecessary=function(t,n){return n===void 0&&(n=!1),B(this,void 0,void 0,function(){var r;return z(this,function(i){switch(i.label){case 0:return r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n?[4,Go(this)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[4,this.auth._persistUserIfCurrent(this)];case 3:return i.sent(),r&&this.auth._notifyListenersIfCurrent(this),[2]}})})},e.prototype.delete=function(){return B(this,void 0,void 0,function(){var t;return z(this,function(n){switch(n.label){case 0:return[4,this.getIdToken()];case 1:return t=n.sent(),[4,vr(this,q8(this.auth,{idToken:t}))];case 2:return n.sent(),this.stsTokenManager.clearRefreshToken(),[2,this.auth.signOut()]}})})},e.prototype.toJSON=function(){return Fe(Fe({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(function(t){return Fe({},t)}),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})},Object.defineProperty(e.prototype,"refreshToken",{get:function(){return this.stsTokenManager.refreshToken||""},enumerable:!1,configurable:!0}),e._fromJSON=function(t,n){var r,i,s,o,a,c,l,u,d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,h=(a=n.tenantId)!==null&&a!==void 0?a:void 0,m=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(l=n.createdAt)!==null&&l!==void 0?l:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,y=n.uid,b=n.emailVerified,$=n.isAnonymous,S=n.providerData,I=n.stsTokenManager;me(y&&I,t,"internal-error");var x=Z_.fromJSON(this.name,I);me(typeof y=="string",t,"internal-error"),Ar(d,t.name),Ar(f,t.name),me(typeof b=="boolean",t,"internal-error"),me(typeof $=="boolean",t,"internal-error"),Ar(p,t.name),Ar(g,t.name),Ar(h,t.name),Ar(m,t.name),Ar(_,t.name),Ar(v,t.name);var A=new e({uid:y,auth:t,email:f,emailVerified:b,displayName:d,isAnonymous:$,photoURL:g,phoneNumber:p,tenantId:h,stsTokenManager:x,createdAt:_,lastLoginAt:v});return S&&Array.isArray(S)&&(A.providerData=S.map(function(C){return Fe({},C)})),m&&(A._redirectEventId=m),A},e._fromIdTokenResponse=function(t,n,r){return r===void 0&&(r=!1),B(this,void 0,void 0,function(){var i,s;return z(this,function(o){switch(o.label){case 0:return i=new Z_,i.updateFromServerResponse(n),s=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r}),[4,Go(s)];case 1:return o.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J8=function(){function e(){this.type="NONE",this.storage={}}return e.prototype._isAvailable=function(){return B(this,void 0,void 0,function(){return z(this,function(t){return[2,!0]})})},e.prototype._set=function(t,n){return B(this,void 0,void 0,function(){return z(this,function(r){return this.storage[t]=n,[2]})})},e.prototype._get=function(t){return B(this,void 0,void 0,function(){var n;return z(this,function(r){return n=this.storage[t],[2,n===void 0?null:n]})})},e.prototype._remove=function(t){return B(this,void 0,void 0,function(){return z(this,function(n){return delete this.storage[t],[2]})})},e.prototype._addListener=function(t,n){},e.prototype._removeListener=function(t,n){},e.type="NONE",e}(),kf=J8;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(e,t,n){return"".concat("firebase",":").concat(e,":").concat(t,":").concat(n)}var J_=function(){function e(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,s=i.config,o=i.name;this.fullUserKey=ud(this.userKey,s.apiKey,o),this.fullPersistenceKey=ud("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return e.prototype.setCurrentUser=function(t){return this.persistence._set(this.fullUserKey,t.toJSON())},e.prototype.getCurrentUser=function(){return B(this,void 0,void 0,function(){var t;return z(this,function(n){switch(n.label){case 0:return[4,this.persistence._get(this.fullUserKey)];case 1:return t=n.sent(),[2,t?Of._fromJSON(this.auth,t):null]}})})},e.prototype.removeCurrentUser=function(){return this.persistence._remove(this.fullUserKey)},e.prototype.savePersistenceForRedirect=function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)},e.prototype.setPersistence=function(t){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return this.persistence===t?[2]:[4,this.getCurrentUser()];case 1:return n=r.sent(),[4,this.removeCurrentUser()];case 2:return r.sent(),this.persistence=t,n?[2,this.setCurrentUser(n)]:[2]}})})},e.prototype.delete=function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)},e.create=function(t,n,r){return r===void 0&&(r="authUser"),B(this,void 0,void 0,function(){var i,s,o,a,c,l,u,d,f,p,g=this;return z(this,function(h){switch(h.label){case 0:return n.length?[4,Promise.all(n.map(function(m){return B(g,void 0,void 0,function(){return z(this,function(_){switch(_.label){case 0:return[4,m._isAvailable()];case 1:return _.sent()?[2,m]:[2,void 0]}})})}))]:[2,new e(Lr(kf),t,r)];case 1:i=h.sent().filter(function(m){return m}),s=i[0]||Lr(kf),o=ud(r,t.config.apiKey,t.name),a=null,c=0,l=n,h.label=2;case 2:if(!(c<l.length))return[3,7];u=l[c],h.label=3;case 3:return h.trys.push([3,5,,6]),[4,u._get(o)];case 4:return d=h.sent(),d?(f=Of._fromJSON(t,d),u!==s&&(a=f),s=u,[3,7]):[3,6];case 5:return h.sent(),[3,6];case 6:return c++,[3,2];case 7:return p=i.filter(function(m){return m._shouldAllowMigration}),!s._shouldAllowMigration||!p.length?[2,new e(s,t,r)]:(s=p[0],a?[4,s._set(o,a.toJSON())]:[3,9]);case 8:h.sent(),h.label=9;case 9:return[4,Promise.all(n.map(function(m){return B(g,void 0,void 0,function(){return z(this,function(_){switch(_.label){case 0:if(m===s)return[3,4];_.label=1;case 1:return _.trys.push([1,3,,4]),[4,m._remove(o)];case 2:return _.sent(),[3,4];case 3:return _.sent(),[3,4];case 4:return[2]}})})}))];case 10:return h.sent(),[2,new e(s,t,r)]}})})},e}();/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eO=function(){function e(t){this.auth=t,this.queue=[]}return e.prototype.pushCallback=function(t,n){var r=this,i=function(o){return new Promise(function(a,c){try{var l=t(o);a(l)}catch(u){c(u)}})};i.onAbort=n,this.queue.push(i);var s=this.queue.length-1;return function(){r.queue[s]=function(){return Promise.resolve()}}},e.prototype.runMiddleware=function(t){return B(this,void 0,void 0,function(){var n,r,i,s,o,a,c,l;return z(this,function(u){switch(u.label){case 0:if(this.auth.currentUser===t)return[2];n=[],u.label=1;case 1:u.trys.push([1,6,,7]),r=0,i=this.queue,u.label=2;case 2:return r<i.length?(s=i[r],[4,s(t)]):[3,5];case 3:u.sent(),s.onAbort&&n.push(s.onAbort),u.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:for(o=u.sent(),n.reverse(),a=0,c=n;a<c.length;a++){l=c[a];try{l()}catch{}}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o==null?void 0:o.message});case 7:return[2]}})})},e}();/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(e,t){return t===void 0&&(t={}),B(this,void 0,void 0,function(){return z(this,function(n){return[2,zt(e,"GET","/v2/passwordPolicy",Ct(e,t))]})})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nO=6,rO=function(){function e(t){var n,r,i,s,o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:nO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}return e.prototype.validatePassword=function(t){var n,r,i,s,o,a,c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c},e.prototype.validatePasswordLengthOptions=function(t,n){var r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)},e.prototype.validatePasswordCharacterOptions=function(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(var r,i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))},e.prototype.updatePasswordCharacterOptionsStatuses=function(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iO=function(){function e(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e0(this),this.idTokenSubscription=new e0(this),this.beforeStateQueue=new eO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cf,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return e.prototype._initializeWithPersistence=function(t,n){var r=this;return n&&(this._popupRedirectResolver=Lr(n)),this._initializationPromise=this.queue(function(){return B(r,void 0,void 0,function(){var i,s,o;return z(this,function(a){switch(a.label){case 0:return this._deleted?[2]:(i=this,[4,J_.create(this,t)]);case 1:if(i.persistenceManager=a.sent(),this._deleted)return[2];if(!(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this._popupRedirectResolver._initialize(this)];case 3:return a.sent(),[3,5];case 4:return a.sent(),[3,5];case 5:return[4,this.initializeCurrentUser(n)];case 6:return a.sent(),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,this._deleted?[2]:(this._isInitialized=!0,[2])}})})}),this._initializationPromise},e.prototype._onStorageEvent=function(){return B(this,void 0,void 0,function(){var t;return z(this,function(n){switch(n.label){case 0:return this._deleted?[2]:[4,this.assertedPersistence.getCurrentUser()];case 1:return t=n.sent(),!this.currentUser&&!t?[2]:this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),[4,this.currentUser.getIdToken()]):[3,3];case 2:return n.sent(),[2];case 3:return[4,this._updateCurrentUser(t,!0)];case 4:return n.sent(),[2]}})})},e.prototype.initializeCurrentUser=function(t){var n;return B(this,void 0,void 0,function(){var r,i,s,o,a,c,l;return z(this,function(u){switch(u.label){case 0:return[4,this.assertedPersistence.getCurrentUser()];case 1:return r=u.sent(),i=r,s=!1,t&&this.config.authDomain?[4,this.getOrInitRedirectPersistenceManager()]:[3,4];case 2:return u.sent(),o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,[4,this.tryRedirectSignIn(t)];case 3:c=u.sent(),(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0),u.label=4;case 4:if(!i)return[2,this.directlySetCurrentUser(null)];if(i._redirectEventId)return[3,9];if(!s)return[3,8];u.label=5;case 5:return u.trys.push([5,7,,8]),[4,this.beforeStateQueue.runMiddleware(i)];case 6:return u.sent(),[3,8];case 7:return l=u.sent(),i=r,this._popupRedirectResolver._overrideRedirectResult(this,function(){return Promise.reject(l)}),[3,8];case 8:return i?[2,this.reloadAndSetCurrentUserOrClear(i)]:[2,this.directlySetCurrentUser(null)];case 9:return me(this._popupRedirectResolver,this,"argument-error"),[4,this.getOrInitRedirectPersistenceManager()];case 10:return u.sent(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?[2,this.directlySetCurrentUser(i)]:[2,this.reloadAndSetCurrentUserOrClear(i)]}})})},e.prototype.tryRedirectSignIn=function(t){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:n=null,r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this._popupRedirectResolver._completeRedirectFn(this,t,!0)];case 2:return n=r.sent(),[3,5];case 3:return r.sent(),[4,this._setRedirectUser(null)];case 4:return r.sent(),[3,5];case 5:return[2,n]}})})},e.prototype.reloadAndSetCurrentUserOrClear=function(t){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Go(t)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),(n==null?void 0:n.code)!=="auth/".concat("network-request-failed")?[2,this.directlySetCurrentUser(null)]:[3,3];case 3:return[2,this.directlySetCurrentUser(t)]}})})},e.prototype.useDeviceLanguage=function(){this.languageCode=D8()},e.prototype._delete=function(){return B(this,void 0,void 0,function(){return z(this,function(t){return this._deleted=!0,[2]})})},e.prototype.updateCurrentUser=function(t){return B(this,void 0,void 0,function(){var n;return z(this,function(r){return n=t?$e(t):null,n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),[2,this._updateCurrentUser(n&&n._clone(this))]})})},e.prototype._updateCurrentUser=function(t,n){return n===void 0&&(n=!1),B(this,void 0,void 0,function(){var r=this;return z(this,function(i){switch(i.label){case 0:return this._deleted?[2]:(t&&me(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n?[3,2]:[4,this.beforeStateQueue.runMiddleware(t)]);case 1:i.sent(),i.label=2;case 2:return[2,this.queue(function(){return B(r,void 0,void 0,function(){return z(this,function(s){switch(s.label){case 0:return[4,this.directlySetCurrentUser(t)];case 1:return s.sent(),this.notifyAuthListeners(),[2]}})})})]}})})},e.prototype.signOut=function(){return B(this,void 0,void 0,function(){return z(this,function(t){switch(t.label){case 0:return[4,this.beforeStateQueue.runMiddleware(null)];case 1:return t.sent(),this.redirectPersistenceManager||this._popupRedirectResolver?[4,this._setRedirectUser(null)]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2,this._updateCurrentUser(null,!0)]}})})},e.prototype.setPersistence=function(t){var n=this;return this.queue(function(){return B(n,void 0,void 0,function(){return z(this,function(r){switch(r.label){case 0:return[4,this.assertedPersistence.setPersistence(Lr(t))];case 1:return r.sent(),[2]}})})})},e.prototype._getRecaptchaConfig=function(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]},e.prototype.validatePassword=function(t){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return this._getPasswordPolicyInternal()?[3,2]:[4,this._updatePasswordPolicy()];case 1:r.sent(),r.label=2;case 2:return n=this._getPasswordPolicyInternal(),n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?[2,Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{}))]:[2,n.validatePassword(t)]}})})},e.prototype._getPasswordPolicyInternal=function(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]},e.prototype._updatePasswordPolicy=function(){return B(this,void 0,void 0,function(){var t,n;return z(this,function(r){switch(r.label){case 0:return[4,tO(this)];case 1:return t=r.sent(),n=new rO(t),this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n,[2]}})})},e.prototype._getPersistence=function(){return this.assertedPersistence.persistence.type},e.prototype._updateErrorMap=function(t){this._errorFactory=new Ia("auth","Firebase",t())},e.prototype.onAuthStateChanged=function(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)},e.prototype.beforeAuthStateChanged=function(t,n){return this.beforeStateQueue.pushCallback(t,n)},e.prototype.onIdTokenChanged=function(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)},e.prototype.authStateReady=function(){var t=this;return new Promise(function(n,r){if(t.currentUser)n();else var i=t.onAuthStateChanged(function(){i(),n()},r)})},e.prototype.revokeAccessToken=function(t){return B(this,void 0,void 0,function(){var n,r;return z(this,function(i){switch(i.label){case 0:return this.currentUser?[4,this.currentUser.getIdToken()]:[3,3];case 1:return n=i.sent(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n},this.tenantId!=null&&(r.tenantId=this.tenantId),[4,Z8(this,r)];case 2:i.sent(),i.label=3;case 3:return[2]}})})},e.prototype.toJSON=function(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}},e.prototype._setRedirectUser=function(t,n){return B(this,void 0,void 0,function(){var r;return z(this,function(i){switch(i.label){case 0:return[4,this.getOrInitRedirectPersistenceManager(n)];case 1:return r=i.sent(),[2,t===null?r.removeCurrentUser():r.setCurrentUser(t)]}})})},e.prototype.getOrInitRedirectPersistenceManager=function(t){return B(this,void 0,void 0,function(){var n,r,i;return z(this,function(s){switch(s.label){case 0:return this.redirectPersistenceManager?[3,3]:(n=t&&Lr(t)||this._popupRedirectResolver,me(n,this,"argument-error"),r=this,[4,J_.create(this,[Lr(n._redirectPersistence)],"redirectUser")]);case 1:return r.redirectPersistenceManager=s.sent(),i=this,[4,this.redirectPersistenceManager.getCurrentUser()];case 2:i.redirectUser=s.sent(),s.label=3;case 3:return[2,this.redirectPersistenceManager]}})})},e.prototype._redirectUserForId=function(t){var n,r;return B(this,void 0,void 0,function(){var i=this;return z(this,function(s){switch(s.label){case 0:return this._isInitialized?[4,this.queue(function(){return B(i,void 0,void 0,function(){return z(this,function(o){return[2]})})})]:[3,2];case 1:s.sent(),s.label=2;case 2:return((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?[2,this._currentUser]:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?[2,this.redirectUser]:[2,null]}})})},e.prototype._persistUserIfCurrent=function(t){return B(this,void 0,void 0,function(){var n=this;return z(this,function(r){return t===this.currentUser?[2,this.queue(function(){return B(n,void 0,void 0,function(){return z(this,function(i){return[2,this.directlySetCurrentUser(t)]})})})]:[2]})})},e.prototype._notifyListenersIfCurrent=function(t){t===this.currentUser&&this.notifyAuthListeners()},e.prototype._key=function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)},e.prototype._startProactiveRefresh=function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()},e.prototype._stopProactiveRefresh=function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()},Object.defineProperty(e.prototype,"_currentUser",{get:function(){return this.currentUser},enumerable:!1,configurable:!0}),e.prototype.notifyAuthListeners=function(){var t,n;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}},e.prototype.registerStateListener=function(t,n,r,i){var s=this;if(this._deleted)return function(){};var o=typeof n=="function"?n:n.next.bind(n),a=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(c,this,"internal-error"),c.then(function(){a||o(s.currentUser)}),typeof n=="function"){var l=t.addObserver(n,r,i);return function(){a=!0,l()}}else{var u=t.addObserver(n);return function(){a=!0,u()}}},e.prototype.directlySetCurrentUser=function(t){return B(this,void 0,void 0,function(){return z(this,function(n){switch(n.label){case 0:return this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?[4,this.assertedPersistence.setCurrentUser(t)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.assertedPersistence.removeCurrentUser()];case 3:n.sent(),n.label=4;case 4:return[2]}})})},e.prototype.queue=function(t){return this.operations=this.operations.then(t,t),this.operations},Object.defineProperty(e.prototype,"assertedPersistence",{get:function(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager},enumerable:!1,configurable:!0}),e.prototype._logFramework=function(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=hb(this.config.clientPlatform,this._getFrameworks()))},e.prototype._getFrameworks=function(){return this.frameworks},e.prototype._getAdditionalHeaders=function(){var t;return B(this,void 0,void 0,function(){var n,r,i,s;return z(this,function(o){switch(o.label){case 0:return n=(s={},s["X-Client-Version"]=this.clientVersion,s),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),[4,(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader()];case 1:return r=o.sent(),r&&(n["X-Firebase-Client"]=r),[4,this._getAppCheckToken()];case 2:return i=o.sent(),i&&(n["X-Firebase-AppCheck"]=i),[2,n]}})})},e.prototype._getAppCheckToken=function(){var t;return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return[4,(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken()];case 1:return n=r.sent(),n!=null&&n.error&&S8("Error while retrieving App Check token: ".concat(n.error)),[2,n==null?void 0:n.token]}})})},e}();function qt(e){return $e(e)}var e0=function(){function e(t){var n=this;this.auth=t,this.observer=null,this.addObserver=X3(function(r){return n.observer=r})}return Object.defineProperty(e.prototype,"next",{get:function(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sO=function(){function e(t){this.auth=t,this.internalListeners=new Map}return e.prototype.getUid=function(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null},e.prototype.getToken=function(t){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return this.assertAuthConfigured(),[4,this.auth._initializationPromise];case 1:return r.sent(),this.auth.currentUser?[4,this.auth.currentUser.getIdToken(t)]:[2,null];case 2:return n=r.sent(),[2,{accessToken:n}]}})})},e.prototype.addAuthTokenListener=function(t){if(this.assertAuthConfigured(),!this.internalListeners.has(t)){var n=this.auth.onIdTokenChanged(function(r){t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}},e.prototype.removeAuthTokenListener=function(t){this.assertAuthConfigured();var n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())},e.prototype.assertAuthConfigured=function(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")},e.prototype.updateProactiveRefresh=function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function aO(e){Ri(new ei("auth",function(t,n){var r=n.options,i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),a=i.options,c=a.apiKey,l=a.authDomain;me(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});var u={apiKey:c,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hb(e)},d=new iO(i,s,o,u);return fb(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,n,r){var i=t.getProvider("auth-internal");i.initialize()})),Ri(new ei("auth-internal",function(t){var n=qt(t.getProvider("auth").getImmediate());return function(r){return new sO(r)}(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jn(Y_,K_,oO(e)),Jn(Y_,K_,"esm5")}var t0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(e){var t=this;return Promise.all(e.map(function(n){return B(t,void 0,void 0,function(){var r,i;return z(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,n];case 1:return r=s.sent(),[2,{fulfilled:!0,value:r}];case 2:return i=s.sent(),[2,{fulfilled:!1,reason:i}];case 3:return[2]}})})}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lO=function(){function e(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return e._getInstance=function(t){var n=this.receivers.find(function(i){return i.isListeningto(t)});if(n)return n;var r=new e(t);return this.receivers.push(r),r},e.prototype.isListeningto=function(t){return this.eventTarget===t},e.prototype.handleEvent=function(t){return B(this,void 0,void 0,function(){var n,r,i,s,o,a,c,l,u=this;return z(this,function(d){switch(d.label){case 0:return n=t,r=n.data,i=r.eventId,s=r.eventType,o=r.data,a=this.handlersMap[s],a!=null&&a.size?(n.ports[0].postMessage({status:"ack",eventId:i,eventType:s}),c=Array.from(a).map(function(f){return B(u,void 0,void 0,function(){return z(this,function(p){return[2,f(n.origin,o)]})})}),[4,cO(c)]):[2];case 1:return l=d.sent(),n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l}),[2]}})})},e.prototype._subscribe=function(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)},e.prototype._unsubscribe=function(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)},e.receivers=[],e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(e,t){e===void 0&&(e=""),t===void 0&&(t=10);for(var n="",r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dO=function(){function e(t){this.target=t,this.handlers=new Set}return e.prototype.removeMessageHandler=function(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)},e.prototype._send=function(t,n,r){return r===void 0&&(r=50),B(this,void 0,void 0,function(){var i,s,o,a=this;return z(this,function(c){if(i=typeof MessageChannel<"u"?new MessageChannel:null,!i)throw new Error("connection_unavailable");return[2,new Promise(function(l,u){var d=uO("",20);i.port1.start();var f=setTimeout(function(){u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage:function(p){var g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(function(){u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},a.handlers.add(o),i.port1.addEventListener("message",o.onMessage),a.target.postMessage({eventType:t,eventId:d,data:n},[i.port2])}).finally(function(){o&&a.removeMessageHandler(o)})]})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(){return typeof n0().WorkerGlobalScope<"u"&&typeof n0().importScripts=="function"}function fO(){return B(this,void 0,void 0,function(){var e;return z(this,function(t){switch(t.label){case 0:if(!(navigator!=null&&navigator.serviceWorker))return[2,null];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,navigator.serviceWorker.ready];case 2:return e=t.sent(),[2,e.active];case 3:return t.sent(),[2,null];case 4:return[2]}})})}function hO(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function pO(){return Eb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $b="firebaseLocalStorageDb",mO=1,Bc="firebaseLocalStorage",Sb="fbase_key",xa=function(){function e(t){this.request=t}return e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.request.addEventListener("success",function(){n(t.request.result)}),t.request.addEventListener("error",function(){r(t.request.error)})})},e}();function Cl(e,t){return e.transaction([Bc],t?"readwrite":"readonly").objectStore(Bc)}function _O(){var e=indexedDB.deleteDatabase($b);return new xa(e).toPromise()}function Nf(){var e=this,t=indexedDB.open($b,mO);return new Promise(function(n,r){t.addEventListener("error",function(){r(t.error)}),t.addEventListener("upgradeneeded",function(){var i=t.result;try{i.createObjectStore(Bc,{keyPath:Sb})}catch(s){r(s)}}),t.addEventListener("success",function(){return B(e,void 0,void 0,function(){var i,s;return z(this,function(o){switch(o.label){case 0:return i=t.result,i.objectStoreNames.contains(Bc)?[3,3]:(i.close(),[4,_O()]);case 1:return o.sent(),s=n,[4,Nf()];case 2:return s.apply(void 0,[o.sent()]),[3,4];case 3:n(i),o.label=4;case 4:return[2]}})})})})}function r0(e,t,n){return B(this,void 0,void 0,function(){var r,i;return z(this,function(s){return r=Cl(e,!0).put((i={},i[Sb]=t,i.value=n,i)),[2,new xa(r).toPromise()]})})}function gO(e,t){return B(this,void 0,void 0,function(){var n,r;return z(this,function(i){switch(i.label){case 0:return n=Cl(e,!1).get(t),[4,new xa(n).toPromise()];case 1:return r=i.sent(),[2,r===void 0?null:r.value]}})})}function i0(e,t){var n=Cl(e,!0).delete(t);return new xa(n).toPromise()}var vO=800,yO=3,bO=function(){function e(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(function(){},function(){})}return e.prototype._openDb=function(){return B(this,void 0,void 0,function(){var t;return z(this,function(n){switch(n.label){case 0:return this.db?[2,this.db]:(t=this,[4,Nf()]);case 1:return t.db=n.sent(),[2,this.db]}})})},e.prototype._withRetries=function(t){return B(this,void 0,void 0,function(){var n,r,i;return z(this,function(s){switch(s.label){case 0:n=0,s.label=1;case 1:s.label=2;case 2:return s.trys.push([2,5,,6]),[4,this._openDb()];case 3:return r=s.sent(),[4,t(r)];case 4:return[2,s.sent()];case 5:if(i=s.sent(),n++>yO)throw i;return this.db&&(this.db.close(),this.db=void 0),[3,6];case 6:return[3,1];case 7:return[2]}})})},e.prototype.initializeServiceWorkerMessaging=function(){return B(this,void 0,void 0,function(){return z(this,function(t){return[2,Eb()?this.initializeReceiver():this.initializeSender()]})})},e.prototype.initializeReceiver=function(){return B(this,void 0,void 0,function(){var t=this;return z(this,function(n){return this.receiver=lO._getInstance(pO()),this.receiver._subscribe("keyChanged",function(r,i){return B(t,void 0,void 0,function(){var s;return z(this,function(o){switch(o.label){case 0:return[4,this._poll()];case 1:return s=o.sent(),[2,{keyProcessed:s.includes(i.key)}]}})})}),this.receiver._subscribe("ping",function(r,i){return B(t,void 0,void 0,function(){return z(this,function(s){return[2,["keyChanged"]]})})}),[2]})})},e.prototype.initializeSender=function(){var t,n;return B(this,void 0,void 0,function(){var r,i;return z(this,function(s){switch(s.label){case 0:return r=this,[4,fO()];case 1:return r.activeServiceWorker=s.sent(),this.activeServiceWorker?(this.sender=new dO(this.activeServiceWorker),[4,this.sender._send("ping",{},800)]):[2];case 2:return i=s.sent(),i?(!((t=i[0])===null||t===void 0)&&t.fulfilled&&(!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0),[2]):[2]}})})},e.prototype.notifyServiceWorker=function(t){return B(this,void 0,void 0,function(){return z(this,function(n){switch(n.label){case 0:if(!this.sender||!this.activeServiceWorker||hO()!==this.activeServiceWorker)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)];case 2:return n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return[2]}})})},e.prototype._isAvailable=function(){return B(this,void 0,void 0,function(){var t;return z(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),indexedDB?[4,Nf()]:[2,!1];case 1:return t=n.sent(),[4,r0(t,t0,"1")];case 2:return n.sent(),[4,i0(t,t0)];case 3:return n.sent(),[2,!0];case 4:return n.sent(),[3,5];case 5:return[2,!1]}})})},e.prototype._withPendingWrite=function(t){return B(this,void 0,void 0,function(){return z(this,function(n){switch(n.label){case 0:this.pendingWrites++,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,t()];case 2:return n.sent(),[3,4];case 3:return this.pendingWrites--,[7];case 4:return[2]}})})},e.prototype._set=function(t,n){return B(this,void 0,void 0,function(){var r=this;return z(this,function(i){return[2,this._withPendingWrite(function(){return B(r,void 0,void 0,function(){return z(this,function(s){switch(s.label){case 0:return[4,this._withRetries(function(o){return r0(o,t,n)})];case 1:return s.sent(),this.localCache[t]=n,[2,this.notifyServiceWorker(t)]}})})})]})})},e.prototype._get=function(t){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return[4,this._withRetries(function(i){return gO(i,t)})];case 1:return n=r.sent(),this.localCache[t]=n,[2,n]}})})},e.prototype._remove=function(t){return B(this,void 0,void 0,function(){var n=this;return z(this,function(r){return[2,this._withPendingWrite(function(){return B(n,void 0,void 0,function(){return z(this,function(i){switch(i.label){case 0:return[4,this._withRetries(function(s){return i0(s,t)})];case 1:return i.sent(),delete this.localCache[t],[2,this.notifyServiceWorker(t)]}})})})]})})},e.prototype._poll=function(){return B(this,void 0,void 0,function(){var t,n,r,i,s,o,a,c,l,u,d;return z(this,function(f){switch(f.label){case 0:return[4,this._withRetries(function(p){var g=Cl(p,!1).getAll();return new xa(g).toPromise()})];case 1:if(t=f.sent(),!t)return[2,[]];if(this.pendingWrites!==0)return[2,[]];for(n=[],r=new Set,i=0,s=t;i<s.length;i++)o=s[i],a=o.fbase_key,c=o.value,r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(c)&&(this.notifyListeners(a,c),n.push(a));for(l=0,u=Object.keys(this.localCache);l<u.length;l++)d=u[l],this.localCache[d]&&!r.has(d)&&(this.notifyListeners(d,null),n.push(d));return[2,n]}})})},e.prototype.notifyListeners=function(t,n){this.localCache[t]=n;var r=this.listeners[t];if(r)for(var i=0,s=Array.from(r);i<s.length;i++){var o=s[i];o(n)}},e.prototype.startPolling=function(){var t=this;this.stopPolling(),this.pollTimer=setInterval(function(){return B(t,void 0,void 0,function(){return z(this,function(n){return[2,this._poll()]})})},vO)},e.prototype.stopPolling=function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)},e.prototype._addListener=function(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)},e.prototype._removeListener=function(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()},e.type="LOCAL",e}(),Pf=bO;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wO={PHONE:"phone",TOTP:"totp"},EO={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$O={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},SO={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},IO={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(e){return e!==void 0&&e.enterprise!==void 0}var Ib=function(){function e(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}return e.prototype.getProviderEnforcementState=function(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(var n=0,r=this.recaptchaEnforcementState;n<r.length;n++){var i=r[n];if(i.provider&&i.provider===t)return B8(i.enforcementState)}return null},e.prototype.isProviderEnabled=function(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,zt(e,"GET","/v2/recaptchaConfig",Ct(e,t))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function xO(e){return new Promise(function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(i){var s=Ap("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",TO().appendChild(r)})}var AO="https://www.google.com/recaptcha/enterprise.js?render=",RO="recaptcha-enterprise",CO="NO_RECAPTCHA",xb=function(){function e(t){this.type=RO,this.auth=qt(t)}return e.prototype.verify=function(t,n){return t===void 0&&(t="verify"),n===void 0&&(n=!1),B(this,void 0,void 0,function(){function r(o){return B(this,void 0,void 0,function(){var a=this;return z(this,function(c){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return[2,o._agentRecaptchaConfig.siteKey];if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return[2,o._tenantRecaptchaConfigs[o.tenantId].siteKey]}return[2,new Promise(function(l,u){return B(a,void 0,void 0,function(){return z(this,function(d){return Tb(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(function(f){if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{var p=new Ib(f);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(function(f){u(f)}),[2]})})})]})})}function i(o,a,c){var l=window.grecaptcha;s0(l)?l.enterprise.ready(function(){l.enterprise.execute(o,{action:t}).then(function(u){a(u)}).catch(function(){a(CO)})}):c(Error("No reCAPTCHA enterprise script loaded."))}var s=this;return z(this,function(o){return[2,new Promise(function(a,c){r(s.auth).then(function(l){if(!n&&s0(window.grecaptcha))i(l,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}xO(AO+l).then(function(){i(l,a,c)}).catch(function(u){c(u)})}}).catch(function(l){c(l)})})]})})},e}();function o0(e,t,n,r){return r===void 0&&(r=!1),B(this,void 0,void 0,function(){var i,s,o;return z(this,function(a){switch(a.label){case 0:i=new xb(e),a.label=1;case 1:return a.trys.push([1,3,,5]),[4,i.verify(n)];case 2:return s=a.sent(),[3,5];case 3:return a.sent(),[4,i.verify(n,!0)];case 4:return s=a.sent(),[3,5];case 5:return o=Fe({},t),r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),[2,o]}})})}function Yo(e,t,n,r){var i;return B(this,void 0,void 0,function(){var s,o=this;return z(this,function(a){switch(a.label){case 0:return!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")?[4,o0(e,t,n,n==="getOobCode")]:[3,2];case 1:return s=a.sent(),[2,r(e,s)];case 2:return[2,r(e,t).catch(function(c){return B(o,void 0,void 0,function(){var l;return z(this,function(u){switch(u.label){case 0:return c.code!=="auth/".concat("missing-recaptcha-token")?[3,2]:(console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.")),[4,o0(e,t,n,n==="getOobCode")]);case 1:return l=u.sent(),[2,r(e,l)];case 2:return[2,Promise.reject(c)]}})})})]}})})}function OO(e){return B(this,void 0,void 0,function(){var t,n,r,i;return z(this,function(s){switch(s.label){case 0:return t=qt(e),[4,Tb(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"})];case 1:return n=s.sent(),r=new Ib(n),t.tenantId==null?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")&&(i=new xb(t),i.verify()),[2]}})})}function kO(e,t,n){var r=qt(e);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(n!=null&&n.disableWarnings),s=Ab(t),o=NO(t),a=o.host,c=o.port,l=c===null?"":":".concat(c);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||PO()}function Ab(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function NO(e){var t=Ab(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var s=i[1];return{host:s,port:a0(r.substr(s.length+1))}}else{var o=r.split(":"),s=o[0],a=o[1];return{host:s,port:a0(a)}}}function a0(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}function PO(){function e(){var t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aa=function(){function e(t,n){this.providerId=t,this.signInMethod=n}return e.prototype.toJSON=function(){return ur("not implemented")},e.prototype._getIdTokenResponse=function(t){return ur("not implemented")},e.prototype._linkToIdToken=function(t,n){return ur("not implemented")},e.prototype._getReauthenticationResolver=function(t){return ur("not implemented")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,zt(e,"POST","/v1/accounts:resetPassword",Ct(e,t))]})})}function DO(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,zt(e,"POST","/v1/accounts:update",t)]})})}function MO(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,zt(e,"POST","/v1/accounts:signUp",t)]})})}function LO(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,zt(e,"POST","/v1/accounts:update",Ct(e,t))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,Ir(e,"POST","/v1/accounts:signInWithPassword",Ct(e,t))]})})}function Ol(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,zt(e,"POST","/v1/accounts:sendOobCode",Ct(e,t))]})})}function UO(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,Ol(e,t)]})})}function BO(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,Ol(e,t)]})})}function zO(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,Ol(e,t)]})})}function qO(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,Ol(e,t)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,Ir(e,"POST","/v1/accounts:signInWithEmailLink",Ct(e,t))]})})}function jO(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,Ir(e,"POST","/v1/accounts:signInWithEmailLink",Ct(e,t))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Df=function(e){dt(t,e);function t(n,r,i,s){s===void 0&&(s=null);var o=e.call(this,"password",i)||this;return o._email=n,o._password=r,o._tenantId=s,o}return t._fromEmailAndPassword=function(n,r){return new t(n,r,"password")},t._fromEmailAndCode=function(n,r,i){return i===void 0&&(i=null),new t(n,r,"emailLink",i)},t.prototype.toJSON=function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}},t.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null},t.prototype._getIdTokenResponse=function(n){return B(this,void 0,void 0,function(){var r;return z(this,function(i){switch(this.signInMethod){case"password":return r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,Yo(n,r,"signInWithPassword",FO)];case"emailLink":return[2,WO(n,{email:this._email,oobCode:this._password})];default:sr(n,"internal-error")}return[2]})})},t.prototype._linkToIdToken=function(n,r){return B(this,void 0,void 0,function(){var i;return z(this,function(s){switch(this.signInMethod){case"password":return i={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},[2,Yo(n,i,"signUpPassword",MO)];case"emailLink":return[2,jO(n,{idToken:r,email:this._email,oobCode:this._password})];default:sr(n,"internal-error")}return[2]})})},t.prototype._getReauthenticationResolver=function(n){return this._getIdTokenResponse(n)},t}(Aa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,Ir(e,"POST","/v1/accounts:signInWithIdp",Ct(e,t))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VO="http://localhost",Oi=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.pendingToken=null,n}return t._fromParams=function(n){var r=new t(n.providerId,n.signInMethod);return n.idToken||n.accessToken?(n.idToken&&(r.idToken=n.idToken),n.accessToken&&(r.accessToken=n.accessToken),n.nonce&&!n.pendingToken&&(r.nonce=n.nonce),n.pendingToken&&(r.pendingToken=n.pendingToken)):n.oauthToken&&n.oauthTokenSecret?(r.accessToken=n.oauthToken,r.secret=n.oauthTokenSecret):sr("argument-error"),r},t.prototype.toJSON=function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}},t.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,o=xp(r,["providerId","signInMethod"]);if(!i||!s)return null;var a=new t(i,s);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a},t.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return gs(n,r)},t.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,gs(n,i)},t.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,gs(n,r)},t.prototype.buildRequest=function(){var n={requestUri:VO,returnSecureToken:!0};if(this.pendingToken)n.pendingToken=this.pendingToken;else{var r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),n.postBody=Tl(r)}return n},t}(Aa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dd;function HO(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,Ir(e,"POST","/v1/accounts:signInWithPhoneNumber",Ct(e,t))]})})}function GO(e,t){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return[4,Ir(e,"POST","/v1/accounts:signInWithPhoneNumber",Ct(e,t))];case 1:if(n=r.sent(),n.temporaryProof)throw bo(e,"account-exists-with-different-credential",n);return[2,n]}})})}var YO=(dd={},dd.USER_NOT_FOUND="user-not-found",dd);function KO(e,t){return B(this,void 0,void 0,function(){var n;return z(this,function(r){return n=Fe(Fe({},t),{operation:"REAUTH"}),[2,Ir(e,"POST","/v1/accounts:signInWithPhoneNumber",Ct(e,n),YO)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XO=function(e){dt(t,e);function t(n){var r=e.call(this,"phone","phone")||this;return r.params=n,r}return t._fromVerification=function(n,r){return new t({verificationId:n,verificationCode:r})},t._fromTokenResponse=function(n,r){return new t({phoneNumber:n,temporaryProof:r})},t.prototype._getIdTokenResponse=function(n){return HO(n,this._makeVerificationRequest())},t.prototype._linkToIdToken=function(n,r){return GO(n,Fe({idToken:r},this._makeVerificationRequest()))},t.prototype._getReauthenticationResolver=function(n){return KO(n,this._makeVerificationRequest())},t.prototype._makeVerificationRequest=function(){var n=this.params,r=n.temporaryProof,i=n.phoneNumber,s=n.verificationId,o=n.verificationCode;return r&&i?{temporaryProof:r,phoneNumber:i}:{sessionInfo:s,code:o}},t.prototype.toJSON=function(){var n={providerId:this.providerId};return this.params.phoneNumber&&(n.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(n.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(n.verificationCode=this.params.verificationCode),this.params.verificationId&&(n.verificationId=this.params.verificationId),n},t.fromJSON=function(n){typeof n=="string"&&(n=JSON.parse(n));var r=n,i=r.verificationId,s=r.verificationCode,o=r.phoneNumber,a=r.temporaryProof;return!s&&!i&&!o&&!a?null:new t({verificationId:i,verificationCode:s,phoneNumber:o,temporaryProof:a})},t}(Aa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZO(e){var t=vo(yo(e)).link,n=t?vo(yo(t)).deep_link_id:null,r=vo(yo(e)).deep_link_id,i=r?vo(yo(r)).link:null;return i||r||n||t||e}var kl=function(){function e(t){var n,r,i,s,o,a,c=vo(yo(t)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=QO((i=c.mode)!==null&&i!==void 0?i:null);me(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}return e.parseLink=function(t){var n=ZO(t);try{return new e(n)}catch{return null}},e}();function JO(e){return kl.parseLink(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cp=function(){function e(){this.providerId=e.PROVIDER_ID}return e.credential=function(t,n){return Df._fromEmailAndPassword(t,n)},e.credentialWithLink=function(t,n){var r=kl.parseLink(n);return me(r,"argument-error"),Df._fromEmailAndCode(t,r.code,r.tenantId)},e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cb=function(){function e(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return e.prototype.setDefaultLanguage=function(t){this.defaultLanguageCode=t},e.prototype.setCustomParameters=function(t){return this.customParameters=t,this},e.prototype.getCustomParameters=function(){return this.customParameters},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ra=function(e){dt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.scopes=[],n}return t.prototype.addScope=function(n){return this.scopes.includes(n)||this.scopes.push(n),this},t.prototype.getScopes=function(){return vn([],this.scopes,!0)},t}(Cb),ek=function(e){dt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.credentialFromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n;return me("providerId"in r&&"signInMethod"in r,"argument-error"),Oi._fromParams(r)},t.prototype.credential=function(n){return this._credential(Fe(Fe({},n),{nonce:n.rawNonce}))},t.prototype._credential=function(n){return me(n.idToken||n.accessToken,"argument-error"),Oi._fromParams(Fe(Fe({},n),{providerId:this.providerId,signInMethod:this.providerId}))},t.credentialFromResult=function(n){return t.oauthCredentialFromTaggedObject(n)},t.credentialFromError=function(n){return t.oauthCredentialFromTaggedObject(n.customData||{})},t.oauthCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,o=i.oauthAccessToken,a=i.oauthTokenSecret,c=i.pendingToken,l=i.nonce,u=i.providerId;if(!o&&!a&&!s&&!c||!u)return null;try{return new t(u)._credential({idToken:s,accessToken:o,nonce:l,pendingToken:c})}catch{return null}},t}(Ra);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tk=function(e){dt(t,e);function t(){return e.call(this,"facebook.com")||this}return t.credential=function(n){return Oi._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:n})},t.credentialFromResult=function(n){return t.credentialFromTaggedObject(n)},t.credentialFromError=function(n){return t.credentialFromTaggedObject(n.customData||{})},t.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return t.credential(r.oauthAccessToken)}catch{return null}},t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com",t}(Ra);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nk=function(e){dt(t,e);function t(){var n=e.call(this,"google.com")||this;return n.addScope("profile"),n}return t.credential=function(n,r){return Oi._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})},t.credentialFromResult=function(n){return t.credentialFromTaggedObject(n)},t.credentialFromError=function(n){return t.credentialFromTaggedObject(n.customData||{})},t.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthIdToken,o=i.oauthAccessToken;if(!s&&!o)return null;try{return t.credential(s,o)}catch{return null}},t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t}(Ra);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rk=function(e){dt(t,e);function t(){return e.call(this,"github.com")||this}return t.credential=function(n){return Oi._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:n})},t.credentialFromResult=function(n){return t.credentialFromTaggedObject(n)},t.credentialFromError=function(n){return t.credentialFromTaggedObject(n.customData||{})},t.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r||!("oauthAccessToken"in r)||!r.oauthAccessToken)return null;try{return t.credential(r.oauthAccessToken)}catch{return null}},t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com",t}(Ra);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ik="http://localhost",c0=function(e){dt(t,e);function t(n,r){var i=e.call(this,n,n)||this;return i.pendingToken=r,i}return t.prototype._getIdTokenResponse=function(n){var r=this.buildRequest();return gs(n,r)},t.prototype._linkToIdToken=function(n,r){var i=this.buildRequest();return i.idToken=r,gs(n,i)},t.prototype._getReauthenticationResolver=function(n){var r=this.buildRequest();return r.autoCreate=!1,gs(n,r)},t.prototype.toJSON=function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}},t.fromJSON=function(n){var r=typeof n=="string"?JSON.parse(n):n,i=r.providerId,s=r.signInMethod,o=r.pendingToken;return!i||!s||!o||i!==s?null:new t(i,o)},t._create=function(n,r){return new t(n,r)},t.prototype.buildRequest=function(){return{requestUri:ik,returnSecureToken:!0,pendingToken:this.pendingToken}},t}(Aa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sk="saml.",ok=function(e){dt(t,e);function t(n){return me(n.startsWith(sk),"argument-error"),e.call(this,n)||this}return t.credentialFromResult=function(n){return t.samlCredentialFromTaggedObject(n)},t.credentialFromError=function(n){return t.samlCredentialFromTaggedObject(n.customData||{})},t.credentialFromJSON=function(n){var r=c0.fromJSON(n);return me(r,"argument-error"),r},t.samlCredentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.pendingToken,o=i.providerId;if(!s||!o)return null;try{return c0._create(o,s)}catch{return null}},t}(Cb);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ak=function(e){dt(t,e);function t(){return e.call(this,"twitter.com")||this}return t.credential=function(n,r){return Oi._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:n,oauthTokenSecret:r})},t.credentialFromResult=function(n){return t.credentialFromTaggedObject(n)},t.credentialFromError=function(n){return t.credentialFromTaggedObject(n.customData||{})},t.credentialFromTaggedObject=function(n){var r=n._tokenResponse;if(!r)return null;var i=r,s=i.oauthAccessToken,o=i.oauthTokenSecret;if(!s||!o)return null;try{return t.credential(s,o)}catch{return null}},t.TWITTER_SIGN_IN_METHOD="twitter.com",t.PROVIDER_ID="twitter.com",t}(Ra);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,Ir(e,"POST","/v1/accounts:signUp",Ct(e,t))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr=function(){function e(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return e._fromIdTokenResponse=function(t,n,r,i){return i===void 0&&(i=!1),B(this,void 0,void 0,function(){var s,o,a;return z(this,function(c){switch(c.label){case 0:return[4,Of._fromIdTokenResponse(t,r,i)];case 1:return s=c.sent(),o=l0(r),a=new e({user:s,providerId:o,_tokenResponse:r,operationType:n}),[2,a]}})})},e._forOperation=function(t,n,r){return B(this,void 0,void 0,function(){var i;return z(this,function(s){switch(s.label){case 0:return[4,t._updateTokensIfNecessary(r,!0)];case 1:return s.sent(),i=l0(r),[2,new e({user:t,providerId:i,_tokenResponse:r,operationType:n})]}})})},e}();function l0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(e){var t;return B(this,void 0,void 0,function(){var n,r,i;return z(this,function(s){switch(s.label){case 0:return n=qt(e),[4,n._initializationPromise];case 1:return s.sent(),!((t=n.currentUser)===null||t===void 0)&&t.isAnonymous?[2,new yr({user:n.currentUser,providerId:null,operationType:"signIn"})]:[4,Ob(n,{returnSecureToken:!0})];case 2:return r=s.sent(),[4,yr._fromIdTokenResponse(n,"signIn",r,!0)];case 3:return i=s.sent(),[4,n._updateCurrentUser(i.user)];case 4:return s.sent(),[2,i]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lk=function(e){dt(t,e);function t(n,r,i,s){var o=this,a;return o=e.call(this,r.code,r.message)||this,o.operationType=i,o.user=s,Object.setPrototypeOf(o,t.prototype),o.customData={appName:n.name,tenantId:(a=n.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return t._fromErrorAndOperation=function(n,r,i,s){return new t(n,r,i,s)},t}($r);function kb(e,t,n,r){var i=t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return i.catch(function(s){throw s.code==="auth/".concat("multi-factor-auth-required")?lk._fromErrorAndOperation(e,s,t,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(e){return new Set(e.map(function(t){var n=t.providerId;return n}).filter(function(t){return!!t}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(e,t){return B(this,void 0,void 0,function(){var n,r,i,s,o,a;return z(this,function(c){switch(c.label){case 0:return n=$e(e),[4,Pb(!0,n,t)];case 1:return c.sent(),i=W8,s=[n.auth],a={},[4,n.getIdToken()];case 2:return[4,i.apply(void 0,s.concat([(a.idToken=c.sent(),a.deleteProvider=[t],a)]))];case 3:return r=c.sent().providerUserInfo,o=Nb(r||[]),n.providerData=n.providerData.filter(function(l){return o.has(l.providerId)}),o.has("phone")||(n.phoneNumber=null),[4,n.auth._persistUserIfCurrent(n)];case 4:return c.sent(),[2,n]}})})}function dk(e,t,n){return n===void 0&&(n=!1),B(this,void 0,void 0,function(){var r,i,s,o,a,c;return z(this,function(l){switch(l.label){case 0:return i=vr,s=[e],a=(o=t)._linkToIdToken,c=[e.auth],[4,e.getIdToken()];case 1:return[4,i.apply(void 0,s.concat([a.apply(o,c.concat([l.sent()])),n]))];case 2:return r=l.sent(),[2,yr._forOperation(e,"link",r)]}})})}function Pb(e,t,n){return B(this,void 0,void 0,function(){var r,i;return z(this,function(s){switch(s.label){case 0:return[4,Go(t)];case 1:return s.sent(),r=Nb(t.providerData),i=e===!1?"provider-already-linked":"no-such-provider",me(r.has(n)===e,t.auth,i),[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(e,t,n){return n===void 0&&(n=!1),B(this,void 0,void 0,function(){var r,i,s,o,a,c;return z(this,function(l){switch(l.label){case 0:r=e.auth,i="reauthenticate",l.label=1;case 1:return l.trys.push([1,3,,4]),[4,vr(e,kb(r,i,t,e),n)];case 2:return s=l.sent(),me(s.idToken,r,"internal-error"),o=Rl(s.idToken),me(o,r,"internal-error"),a=o.sub,me(e.uid===a,r,"user-mismatch"),[2,yr._forOperation(e,i,s)];case 3:throw c=l.sent(),(c==null?void 0:c.code)==="auth/".concat("user-not-found")&&sr(r,"user-mismatch"),c;case 4:return[2]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(e,t,n){return n===void 0&&(n=!1),B(this,void 0,void 0,function(){var r,i,s;return z(this,function(o){switch(o.label){case 0:return r="signIn",[4,kb(e,r,t)];case 1:return i=o.sent(),[4,yr._fromIdTokenResponse(e,r,i)];case 2:return s=o.sent(),n?[3,4]:[4,e._updateCurrentUser(s.user)];case 3:o.sent(),o.label=4;case 4:return[2,s]}})})}function Op(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,hk(qt(e),t)]})})}function pk(e,t){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return n=$e(e),[4,Pb(!1,n,t.providerId)];case 1:return r.sent(),[2,dk(n,t)]}})})}function mk(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,fk($e(e),t)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,Ir(e,"POST","/v1/accounts:signInWithCustomToken",Ct(e,t))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(e,t){return B(this,void 0,void 0,function(){var n,r,i;return z(this,function(s){switch(s.label){case 0:return n=qt(e),[4,_k(n,{token:t,returnSecureToken:!0})];case 1:return r=s.sent(),[4,yr._fromIdTokenResponse(n,"signIn",r)];case 2:return i=s.sent(),[4,n._updateCurrentUser(i.user)];case 3:return s.sent(),[2,i]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ca=function(){function e(t,n){this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return e._fromServerResponse=function(t,n){return"phoneInfo"in n?vk._fromServerResponse(t,n):"totpInfo"in n?yk._fromServerResponse(t,n):sr(t,"internal-error")},e}(),vk=function(e){dt(t,e);function t(n){var r=e.call(this,"phone",n)||this;return r.phoneNumber=n.phoneInfo,r}return t._fromServerResponse=function(n,r){return new t(r)},t}(Ca),yk=function(e){dt(t,e);function t(n){return e.call(this,"totp",n)||this}return t._fromServerResponse=function(n,r){return new t(r)},t}(Ca);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(e,t,n){var r;me(((r=n.url)===null||r===void 0?void 0:r.length)>0,e,"invalid-continue-uri"),me(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(me(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(me(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(e){return B(this,void 0,void 0,function(){var t;return z(this,function(n){switch(n.label){case 0:return t=qt(e),t._getPasswordPolicyInternal()?[4,t._updatePasswordPolicy()]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})}function bk(e,t,n){return B(this,void 0,void 0,function(){var r,i;return z(this,function(s){switch(s.label){case 0:return r=qt(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},n&&Nl(r,i,n),[4,Yo(r,i,"getOobCode",BO)];case 1:return s.sent(),[2]}})})}function wk(e,t,n){return B(this,void 0,void 0,function(){var r=this;return z(this,function(i){switch(i.label){case 0:return[4,Rb($e(e),{oobCode:t,newPassword:n}).catch(function(s){return B(r,void 0,void 0,function(){return z(this,function(o){throw s.code==="auth/".concat("password-does-not-meet-requirements")&&kp(e),s})})})];case 1:return i.sent(),[2]}})})}function Ek(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){switch(n.label){case 0:return[4,LO($e(e),{oobCode:t})];case 1:return n.sent(),[2]}})})}function Db(e,t){return B(this,void 0,void 0,function(){var n,r,i,s;return z(this,function(o){switch(o.label){case 0:return n=$e(e),[4,Rb(n,{oobCode:t})];case 1:switch(r=o.sent(),i=r.requestType,me(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(r.mfaInfo,n,"internal-error");default:me(r.email,n,"internal-error")}return s=null,r.mfaInfo&&(s=Ca._fromServerResponse(qt(n),r.mfaInfo)),[2,{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}]}})})}function $k(e,t){return B(this,void 0,void 0,function(){var n;return z(this,function(r){switch(r.label){case 0:return[4,Db($e(e),t)];case 1:return n=r.sent().data,[2,n.email]}})})}function Sk(e,t,n){return B(this,void 0,void 0,function(){var r,i,s,o,a;return z(this,function(c){switch(c.label){case 0:return r=qt(e),i={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},s=Yo(r,i,"signUpPassword",Ob),[4,s.catch(function(l){throw l.code==="auth/".concat("password-does-not-meet-requirements")&&kp(e),l})];case 1:return o=c.sent(),[4,yr._fromIdTokenResponse(r,"signIn",o)];case 2:return a=c.sent(),[4,r._updateCurrentUser(a.user)];case 3:return c.sent(),[2,a]}})})}function Ik(e,t,n){var r=this;return Op($e(e),Cp.credential(t,n)).catch(function(i){return B(r,void 0,void 0,function(){return z(this,function(s){throw i.code==="auth/".concat("password-does-not-meet-requirements")&&kp(e),i})})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(e,t,n){return B(this,void 0,void 0,function(){function r(o,a){me(a.handleCodeInApp,i,"argument-error"),a&&Nl(i,o,a)}var i,s;return z(this,function(o){switch(o.label){case 0:return i=qt(e),s={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"},r(s,n),[4,Yo(i,s,"getOobCode",zO)];case 1:return o.sent(),[2]}})})}function xk(e,t){var n=kl.parseLink(t);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}function Ak(e,t,n){return B(this,void 0,void 0,function(){var r,i;return z(this,function(s){return r=$e(e),i=Cp.credentialWithLink(t,n||pb()),me(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),[2,Op(r,i)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,zt(e,"POST","/v1/accounts:createAuthUri",Ct(e,t))]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(e,t){return B(this,void 0,void 0,function(){var n,r,i;return z(this,function(s){switch(s.label){case 0:return n=mb()?pb():"http://localhost",r={identifier:t,continueUri:n},[4,Rk($e(e),r)];case 1:return i=s.sent().signinMethods,[2,i||[]]}})})}function Ok(e,t){return B(this,void 0,void 0,function(){var n,r,i,s;return z(this,function(o){switch(o.label){case 0:return n=$e(e),[4,e.getIdToken()];case 1:return r=o.sent(),i={requestType:"VERIFY_EMAIL",idToken:r},t&&Nl(n.auth,i,t),[4,UO(n.auth,i)];case 2:return s=o.sent().email,s===e.email?[3,4]:[4,e.reload()];case 3:o.sent(),o.label=4;case 4:return[2]}})})}function kk(e,t,n){return B(this,void 0,void 0,function(){var r,i,s,o;return z(this,function(a){switch(a.label){case 0:return r=$e(e),[4,e.getIdToken()];case 1:return i=a.sent(),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:t},n&&Nl(r.auth,s,n),[4,qO(r.auth,s)];case 2:return o=a.sent().email,o===e.email?[3,4]:[4,e.reload()];case 3:a.sent(),a.label=4;case 4:return[2]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(e,t){return B(this,void 0,void 0,function(){return z(this,function(n){return[2,zt(e,"POST","/v1/accounts:update",t)]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(e,t){var n=t.displayName,r=t.photoURL;return B(this,void 0,void 0,function(){var i,s,o,a,c;return z(this,function(l){switch(l.label){case 0:return n===void 0&&r===void 0?[2]:(i=$e(e),[4,i.getIdToken()]);case 1:return s=l.sent(),o={idToken:s,displayName:n,photoUrl:r,returnSecureToken:!0},[4,vr(i,Nk(i.auth,o))];case 2:return a=l.sent(),i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null,c=i.providerData.find(function(u){var d=u.providerId;return d==="password"}),c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),[4,i._updateTokensIfNecessary(a)];case 3:return l.sent(),[2]}})})}function Dk(e,t){return Mb($e(e),t,null)}function Mk(e,t){return Mb($e(e),null,t)}function Mb(e,t,n){return B(this,void 0,void 0,function(){var r,i,s,o;return z(this,function(a){switch(a.label){case 0:return r=e.auth,[4,e.getIdToken()];case 1:return i=a.sent(),s={idToken:i,returnSecureToken:!0},t&&(s.email=t),n&&(s.password=n),[4,vr(e,DO(r,s))];case 2:return o=a.sent(),[4,e._updateTokensIfNecessary(o,!0)];case 3:return a.sent(),[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||e.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(e!=null&&e.idToken)){var o=(n=(t=Rl(e.idToken))===null||t===void 0?void 0:t.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){var a=o!=="anonymous"&&o!=="custom"?o:null;return new vs(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new Fk(s,i);case"github.com":return new Uk(s,i);case"google.com":return new Bk(s,i);case"twitter.com":return new zk(s,i,e.screenName||null);case"custom":case"anonymous":return new vs(s,null);default:return new vs(s,r,i)}}var vs=function(){function e(t,n,r){r===void 0&&(r={}),this.isNewUser=t,this.providerId=n,this.profile=r}return e}(),Lb=function(e){dt(t,e);function t(n,r,i,s){var o=e.call(this,n,r,i)||this;return o.username=s,o}return t}(vs),Fk=function(e){dt(t,e);function t(n,r){return e.call(this,n,"facebook.com",r)||this}return t}(vs),Uk=function(e){dt(t,e);function t(n,r){return e.call(this,n,"github.com",r,typeof(r==null?void 0:r.login)=="string"?r==null?void 0:r.login:null)||this}return t}(Lb),Bk=function(e){dt(t,e);function t(n,r){return e.call(this,n,"google.com",r)||this}return t}(vs),zk=function(e){dt(t,e);function t(n,r,i){return e.call(this,n,"twitter.com",r,i)||this}return t}(Lb);function qk(e){var t=e,n=t.user,r=t._tokenResponse;return n.isAnonymous&&!r?{providerId:null,isNewUser:!1,profile:null}:Lk(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(e,t){return $e(e).setPersistence(t)}function jk(e){return OO(e)}function Vk(e,t){return B(this,void 0,void 0,function(){var n;return z(this,function(r){return n=qt(e),[2,n.validatePassword(t)]})})}function Hk(e,t,n,r){return $e(e).onIdTokenChanged(t,n,r)}function Gk(e,t,n){return $e(e).beforeAuthStateChanged(t,n)}function Yk(e,t,n,r){return $e(e).onAuthStateChanged(t,n,r)}function Kk(e){$e(e).useDeviceLanguage()}function Xk(e,t){return $e(e).updateCurrentUser(t)}function Qk(e){return $e(e).signOut()}function Zk(e,t){var n=qt(e);return n.revokeAccessToken(t)}function Jk(e){return B(this,void 0,void 0,function(){return z(this,function(t){return[2,$e(e).delete()]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fb=function(){function e(t,n,r){this.type=t,this.credential=n,this.user=r}return e._fromIdtoken=function(t,n){return new e("enroll",t,n)},e._fromMfaPendingCredential=function(t){return new e("signin",t)},e.prototype.toJSON=function(){var t,n=this.type==="enroll"?"idToken":"pendingCredential";return{multiFactorSession:(t={},t[n]=this.credential,t)}},e.fromJSON=function(t){var n,r;if(t!=null&&t.multiFactorSession){if(!((n=t.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(!((r=t.multiFactorSession)===null||r===void 0)&&r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e4=function(){function e(t,n,r){this.session=t,this.hints=n,this.signInResolver=r}return e._fromError=function(t,n){var r=this,i=qt(t),s=n.customData._serverResponse,o=(s.mfaInfo||[]).map(function(c){return Ca._fromServerResponse(i,c)});me(s.mfaPendingCredential,i,"internal-error");var a=Fb._fromMfaPendingCredential(s.mfaPendingCredential);return new e(a,o,function(c){return B(r,void 0,void 0,function(){var l,u,d,f;return z(this,function(p){switch(p.label){case 0:return[4,c._process(i,a)];case 1:switch(l=p.sent(),delete s.mfaInfo,delete s.mfaPendingCredential,u=Fe(Fe({},s),{idToken:l.idToken,refreshToken:l.refreshToken}),d=n.operationType,d){case"signIn":return[3,2];case"reauthenticate":return[3,5]}return[3,6];case 2:return[4,yr._fromIdTokenResponse(i,n.operationType,u)];case 3:return f=p.sent(),[4,i._updateCurrentUser(f.user)];case 4:return p.sent(),[2,f];case 5:return me(n.user,i,"internal-error"),[2,yr._forOperation(n.user,n.operationType,u)];case 6:sr(i,"internal-error"),p.label=7;case 7:return[2]}})})})},e.prototype.resolveSignIn=function(t){return B(this,void 0,void 0,function(){var n;return z(this,function(r){return n=t,[2,this.signInResolver(n)]})})},e}();function t4(e,t){var n,r=$e(e),i=t;return me(t.customData.operationType,r,"argument-error"),me((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),e4._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(e,t){return zt(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ct(e,t))}var r4=function(){function e(t){var n=this;this.user=t,this.enrolledFactors=[],t._onReload(function(r){r.mfaInfo&&(n.enrolledFactors=r.mfaInfo.map(function(i){return Ca._fromServerResponse(t.auth,i)}))})}return e._fromUser=function(t){return new e(t)},e.prototype.getSession=function(){return B(this,void 0,void 0,function(){var t,n;return z(this,function(r){switch(r.label){case 0:return n=(t=Fb)._fromIdtoken,[4,this.user.getIdToken()];case 1:return[2,n.apply(t,[r.sent(),this.user])]}})})},e.prototype.enroll=function(t,n){return B(this,void 0,void 0,function(){var r,i,s;return z(this,function(o){switch(o.label){case 0:return r=t,[4,this.getSession()];case 1:return i=o.sent(),[4,vr(this.user,r._process(this.user.auth,i,n))];case 2:return s=o.sent(),[4,this.user._updateTokensIfNecessary(s)];case 3:return o.sent(),[2,this.user.reload()]}})})},e.prototype.unenroll=function(t){return B(this,void 0,void 0,function(){var n,r,i,s;return z(this,function(o){switch(o.label){case 0:return n=typeof t=="string"?t:t.uid,[4,this.user.getIdToken()];case 1:r=o.sent(),o.label=2;case 2:return o.trys.push([2,6,,7]),[4,vr(this.user,n4(this.user.auth,{idToken:r,mfaEnrollmentId:n}))];case 3:return i=o.sent(),this.enrolledFactors=this.enrolledFactors.filter(function(a){var c=a.uid;return c!==n}),[4,this.user._updateTokensIfNecessary(i)];case 4:return o.sent(),[4,this.user.reload()];case 5:return o.sent(),[3,7];case 6:throw s=o.sent(),s;case 7:return[2]}})})},e}(),fd=new WeakMap;function i4(e){var t=$e(e);return fd.has(t)||fd.set(t,r4._fromUser(t)),fd.get(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */aO("Worker");function s4(e){e===void 0&&(e=$p());var t=Al(e,"auth").getImmediate();return Lr(Pf)._isAvailable().then(function(n){var r=n?{persistence:Pf}:{};fb(t,r)}),t}const o4=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeOperation:IO,ActionCodeURL:kl,AuthCredential:Aa,AuthErrorCodes:$8,EmailAuthCredential:Df,EmailAuthProvider:Cp,FacebookAuthProvider:tk,FactorId:wO,GithubAuthProvider:rk,GoogleAuthProvider:nk,OAuthCredential:Oi,OAuthProvider:ek,OperationType:SO,PhoneAuthCredential:XO,ProviderId:EO,SAMLAuthProvider:ok,SignInMethod:$O,TwitterAuthProvider:ak,applyActionCode:Ek,beforeAuthStateChanged:Gk,checkActionCode:Db,confirmPasswordReset:wk,connectAuthEmulator:kO,createUserWithEmailAndPassword:Sk,debugErrorMap:E8,deleteUser:Jk,fetchSignInMethodsForEmail:Ck,getAdditionalUserInfo:qk,getAuth:s4,getIdToken:V8,getIdTokenResult:yb,getMultiFactorResolver:t4,inMemoryPersistence:kf,indexedDBLocalPersistence:Pf,initializeAuth:T8,initializeRecaptchaConfig:jk,isSignInWithEmailLink:xk,linkWithCredential:pk,multiFactor:i4,onAuthStateChanged:Yk,onIdTokenChanged:Hk,parseActionCodeURL:JO,prodErrorMap:db,reauthenticateWithCredential:mk,reload:wb,revokeAccessToken:Zk,sendEmailVerification:Ok,sendPasswordResetEmail:bk,sendSignInLinkToEmail:Tk,setPersistence:Wk,signInAnonymously:ck,signInWithCredential:Op,signInWithCustomToken:gk,signInWithEmailAndPassword:Ik,signInWithEmailLink:Ak,signOut:Qk,unlink:uk,updateCurrentUser:Xk,updateEmail:Dk,updatePassword:Mk,updateProfile:Pk,useDeviceLanguage:Kk,validatePassword:Vk,verifyBeforeUpdateEmail:kk,verifyPasswordResetCode:$k},Symbol.toStringTag,{value:"Module"}));var u0={};const d0="@firebase/database",f0="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ub="";function a4(e){Ub=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),lt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Vo(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Sr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new c4(t)}}catch{}return new l4},yi=Bb("localStorage"),Mf=Bb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new wp("@firebase/database"),u4=function(){let e=1;return function(){return e++}}(),zb=function(e){const t=J3(e),n=new K3;n.update(t);const r=n.digest();return gp.encodeByteArray(r)},Oa=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Oa.apply(null,r):typeof r=="object"?t+=lt(r):t+=r,t+=" "}return t};let Ii=null,h0=!0;const d4=function(e,t){oe(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(ys.logLevel=De.VERBOSE,Ii=ys.log.bind(ys),t&&Mf.set("logging_enabled",!0)):typeof e=="function"?Ii=e:(Ii=null,Mf.remove("logging_enabled"))},kt=function(...e){if(h0===!0&&(h0=!1,Ii===null&&Mf.get("logging_enabled")===!0&&d4(!0)),Ii){const t=Oa.apply(null,e);Ii(t)}},ka=function(e){return function(...t){kt(e,...t)}},Lf=function(...e){const t="FIREBASE INTERNAL ERROR: "+Oa(...e);ys.error(t)},br=function(...e){const t=`FIREBASE FATAL ERROR: ${Oa(...e)}`;throw ys.error(t),new Error(t)},Ht=function(...e){const t="FIREBASE WARNING: "+Oa(...e);ys.warn(t)},f4=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},qb=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},h4=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Rs="[MIN_NAME]",ki="[MAX_NAME]",qs=function(e,t){if(e===t)return 0;if(e===Rs||t===ki)return-1;if(t===Rs||e===ki)return 1;{const n=p0(e),r=p0(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},p4=function(e,t){return e===t?0:e<t?-1:1},so=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+lt(t))},Np=function(e){if(typeof e!="object"||e===null)return lt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=lt(t[r]),n+=":",n+=Np(e[t[r]]);return n+="}",n},Wb=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Kt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const jb=function(e){oe(!qb(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,a,c;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=a+r,o=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const l=[];for(c=n;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=t;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();const u=l.join("");let d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},m4=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},_4=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function g4(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const v4=new RegExp("^-?(0*)\\d{1,10}$"),y4=-2147483648,b4=2147483647,p0=function(e){if(v4.test(e)){const t=Number(e);if(t>=y4&&t<=b4)return t}return null},Ws=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Ht("Exception was thrown by user callback.",n),t},Math.floor(0))}},w4=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xo=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(kt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ht(t)}}class bs{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}bs.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="5",Vb="v",Hb="s",Gb="r",Yb="f",Kb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Xb="ls",Qb="p",Ff="ac",Zb="websocket",Jb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,n,r,i,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&yi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function S4(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function tw(e,t,n){oe(typeof t=="string","typeof type must == string"),oe(typeof n=="object","typeof params must == object");let r;if(t===Zb)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Jb)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);S4(e)&&(n.ns=e.namespace);const i=[];return Kt(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(){this.counters_={}}incrementCounter(t,n=1){Sr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return N3(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd={},pd={};function Dp(e){const t=e.toString();return hd[t]||(hd[t]=new I4),hd[t]}function T4(e,t){const n=e.toString();return pd[n]||(pd[n]=t()),pd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ws(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="start",A4="close",R4="pLPCommand",C4="pRTLPCB",nw="id",rw="pw",iw="ser",O4="cb",k4="seg",N4="ts",P4="d",D4="dframe",sw=1870,ow=30,M4=sw-ow,L4=25e3,F4=3e4;class ls{constructor(t,n,r,i,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ka(t),this.stats_=Dp(n),this.urlFn=c=>(this.appCheckToken&&(c[Ff]=this.appCheckToken),tw(n,Jb,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new x4(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(F4)),h4(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Mp((...s)=>{const[o,a,c,l,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===m0)this.id=a,this.password=c;else if(o===A4)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[m0]="t",r[iw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[O4]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Vb]=Pp,this.transportSessionId&&(r[Hb]=this.transportSessionId),this.lastSessionId&&(r[Xb]=this.lastSessionId),this.applicationId&&(r[Qb]=this.applicationId),this.appCheckToken&&(r[Ff]=this.appCheckToken),typeof location<"u"&&location.hostname&&Kb.test(location.hostname)&&(r[Gb]=Yb);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ls.forceAllow_=!0}static forceDisallow(){ls.forceDisallow_=!0}static isAvailable(){return ls.forceAllow_?!0:!ls.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!m4()&&!_4()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=lt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=zy(n),i=Wb(r,M4);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[D4]="t",r[nw]=t,r[rw]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=lt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Mp{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=u4(),window[R4+this.uniqueCallbackIdentifier]=t,window[C4+this.uniqueCallbackIdentifier]=n,this.myIFrame=Mp.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){kt("frame writing exception"),a.stack&&kt(a.stack),kt(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||kt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[nw]=this.myID,t[rw]=this.myPW,t[iw]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ow+r.length<=sw;){const o=this.pendingSegs.shift();r=r+"&"+k4+i+"="+o.seg+"&"+N4+i+"="+o.ts+"&"+P4+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(L4)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{kt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=16384,B4=45e3;let zc=null;typeof MozWebSocket<"u"?zc=MozWebSocket:typeof WebSocket<"u"&&(zc=WebSocket);class Rn{constructor(t,n,r,i,s,o,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ka(this.connId),this.stats_=Dp(n),this.connURL=Rn.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[Vb]=Pp,typeof location<"u"&&location.hostname&&Kb.test(location.hostname)&&(o[Gb]=Yb),n&&(o[Hb]=n),r&&(o[Xb]=r),i&&(o[Ff]=i),s&&(o[Qb]=s),tw(t,Zb,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yi.set("previous_websocket_failure",!0);try{let r;Gy(),this.mySock=new zc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Rn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&zc!==null&&!Rn.forceDisallow_}static previouslyFailed(){return yi.isInMemoryStorage||yi.get("previous_websocket_failure")===!0}markConnectionHealthy(){yi.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Vo(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(oe(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=lt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Wb(n,U4);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(B4))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Rn.responsesRequiredToBeHealthy=2;Rn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ls,Rn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Rn&&Rn.isAvailable();let r=n&&!Rn.previouslyFailed();if(t.webSocketOnly&&(n||Ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Rn];else{const i=this.transports_=[];for(const s of Ko.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ko.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ko.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=6e4,q4=5e3,W4=10*1024,j4=100*1024,md="t",_0="d",V4="s",g0="r",H4="e",v0="o",y0="a",b0="n",w0="p",G4="h";class Y4{constructor(t,n,r,i,s,o,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ka("c:"+this.id+":"),this.transportManager_=new Ko(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=xo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>j4?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>W4?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(md in t){const n=t[md];n===y0?this.upgradeIfSecondaryHealthy_():n===g0?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===v0&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=so("t",t),r=so("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:w0,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:y0,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:b0,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=so("t",t),r=so("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=so(md,t);if(_0 in t){const r=t[_0];if(n===G4){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===b0){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===V4?this.onConnectionShutdown_(r):n===g0?this.onReset_(r):n===H4?Lf("Server Error: "+r):n===v0?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Lf("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Pp!==r&&Ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),xo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(z4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(q4))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:w0,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t){this.allowedEvents_=t,this.listeners_={},oe(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){oe(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends cw{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!yp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new qc}getInitialEvent(t){return oe(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=32,$0=768;class Be{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function ke(){return new Be("")}function Ae(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ti(e){return e.pieces_.length-e.pieceNum_}function ze(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Be(e.pieces_,t)}function lw(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function K4(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function uw(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function dw(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Be(t,0)}function ut(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Be)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Be(n,0)}function Te(e){return e.pieceNum_>=e.pieces_.length}function Bt(e,t){const n=Ae(e),r=Ae(t);if(n===null)return t;if(n===r)return Bt(ze(e),ze(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function fw(e,t){if(ti(e)!==ti(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function On(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ti(e)>ti(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class X4{constructor(t,n){this.errorPrefix_=n,this.parts_=uw(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=xl(this.parts_[r]);hw(this)}}function Q4(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=xl(t),hw(e)}function Z4(e){const t=e.parts_.pop();e.byteLength_-=xl(t),e.parts_.length>0&&(e.byteLength_-=1)}function hw(e){if(e.byteLength_>$0)throw new Error(e.errorPrefix_+"has a key path longer than "+$0+" bytes ("+e.byteLength_+").");if(e.parts_.length>E0)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+E0+") or object contains a cycle "+gi(e))}function gi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends cw{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Lp}getInitialEvent(t){return oe(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=1e3,J4=60*5*1e3,S0=30*1e3,eN=1.3,tN=3e4,nN="server_kill",I0=3;class hr extends aw{constructor(t,n,r,i,s,o,a,c){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=c,this.id=hr.nextPersistentConnectionId_++,this.log_=ka("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=oo,this.maxReconnectDelay_=J4,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Gy())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Lp.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&qc.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(lt(s)),oe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Il,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),oe(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),oe(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,a=>{const c=a.d,l=a.s;hr.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",a),l!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(l,c))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Sr(t,"w")){const r=As(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Y3(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=S0)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=G3(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),oe(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+lt(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Lf("Unrecognized action received from server: "+lt(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){oe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=oo,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=oo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tN&&(this.reconnectDelay_=oo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*eN)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+hr.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const c=function(){a?a.close():(o=!0,r())},l=function(d){oe(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:c,sendRequest:l};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?kt("getToken() completed but was canceled"):(kt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new Y4(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,p=>{Ht(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(nN)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ht(d),c())}}}interrupt(t){kt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){kt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],k_(this.interruptReasons_)&&(this.reconnectDelay_=oo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>Np(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new Be(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){kt("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=I0&&(this.reconnectDelay_=S0,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){kt("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=I0&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+Ub.replace(/\./g,"-")]=1,yp()?t["framework.cordova"]=1:Hy()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=qc.getInstance().currentlyOnline();return k_(this.interruptReasons_)&&t}}hr.nextPersistentConnectionId_=0;hr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Ie(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new Ie(Rs,t),i=new Ie(Rs,n);return this.compare(r,i)!==0}minPost(){return Ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa;class pw extends Pl{static get __EMPTY_NODE(){return Xa}static set __EMPTY_NODE(t){Xa=t}compare(t,n){return qs(t.name,n.name)}isDefinedOn(t){throw zs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Ie.MIN}maxPost(){return new Ie(ki,Xa)}makePost(t,n){return oe(typeof t=="string","KeyIndex indexValue must always be a string."),new Ie(t,Xa)}toString(){return".key"}}const ws=new pw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class vt{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??vt.RED,this.left=i??Vt.EMPTY_NODE,this.right=s??Vt.EMPTY_NODE}copy(t,n,r,i,s){return new vt(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Vt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}vt.RED=!0;vt.BLACK=!1;class rN{copy(t,n,r,i,s){return this}insert(t,n,r){return new vt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Vt{constructor(t,n=Vt.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Vt(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,vt.BLACK,null,null))}remove(t){return new Vt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,vt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Qa(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Qa(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Qa(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Qa(this.root_,null,this.comparator_,!0,t)}}Vt.EMPTY_NODE=new rN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(e,t){return qs(e.name,t.name)}function Fp(e,t){return qs(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf;function sN(e){Uf=e}const mw=function(e){return typeof e=="number"?"number:"+jb(e):"string:"+e},_w=function(e){if(e.isLeafNode()){const t=e.val();oe(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Sr(t,".sv"),"Priority must be a string or number.")}else oe(e===Uf||e.isEmpty(),"priority of unexpected type.");oe(e===Uf||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T0;class gt{constructor(t,n=gt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,oe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_w(this.priorityNode_)}static set __childrenNodeConstructor(t){T0=t}static get __childrenNodeConstructor(){return T0}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new gt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:gt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Te(t)?this:Ae(t)===".priority"?this.priorityNode_:gt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:gt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=Ae(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(oe(r!==".priority"||ti(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,gt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ze(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+mw(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=jb(this.value_):t+=this.value_,this.lazyHash_=zb(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===gt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof gt.__childrenNodeConstructor?-1:(oe(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=gt.VALUE_TYPE_ORDER.indexOf(n),s=gt.VALUE_TYPE_ORDER.indexOf(r);return oe(i>=0,"Unknown leaf type: "+n),oe(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}gt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gw,vw;function oN(e){gw=e}function aN(e){vw=e}class cN extends Pl{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?qs(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Ie.MIN}maxPost(){return new Ie(ki,new gt("[PRIORITY-POST]",vw))}makePost(t,n){const r=gw(t);return new Ie(n,new gt("[PRIORITY-POST]",r))}toString(){return".priority"}}const tt=new cN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=Math.log(2);class uN{constructor(t){const n=s=>parseInt(Math.log(s)/lN,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Wc=function(e,t,n,r){e.sort(t);const i=function(c,l){const u=l-c;let d,f;if(u===0)return null;if(u===1)return d=e[c],f=n?n(d):d,new vt(f,d.node,vt.BLACK,null,null);{const p=parseInt(u/2,10)+c,g=i(c,p),h=i(p+1,l);return d=e[p],f=n?n(d):d,new vt(f,d.node,vt.BLACK,g,h)}},s=function(c){let l=null,u=null,d=e.length;const f=function(g,h){const m=d-g,_=d;d-=g;const v=i(m+1,_),y=e[m],b=n?n(y):y;p(new vt(b,y.node,h,null,v))},p=function(g){l?(l.left=g,l=g):(u=g,l=g)};for(let g=0;g<c.count;++g){const h=c.nextBitIsOne(),m=Math.pow(2,c.count-(g+1));h?f(m,vt.BLACK):(f(m,vt.BLACK),f(m,vt.RED))}return u},o=new uN(e.length),a=s(o);return new Vt(r||t,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d;const Zi={};class dr{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return oe(Zi&&tt,"ChildrenNode.ts has not been loaded"),_d=_d||new dr({".priority":Zi},{".priority":tt}),_d}get(t){const n=As(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Vt?n:null}hasIndex(t){return Sr(this.indexSet_,t.toString())}addIndex(t,n){oe(t!==ws,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Ie.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Wc(r,t.getCompare()):a=Zi;const c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;const u=Object.assign({},this.indexes_);return u[c]=a,new dr(u,l)}addToIndexes(t,n){const r=Mc(this.indexes_,(i,s)=>{const o=As(this.indexSet_,s);if(oe(o,"Missing index implementation for "+s),i===Zi)if(o.isDefinedOn(t.node)){const a=[],c=n.getIterator(Ie.Wrap);let l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),Wc(a,o.getCompare())}else return Zi;else{const a=n.get(t.name);let c=i;return a&&(c=c.remove(new Ie(t.name,a))),c.insert(t,t.node)}});return new dr(r,this.indexSet_)}removeFromIndexes(t,n){const r=Mc(this.indexes_,i=>{if(i===Zi)return i;{const s=n.get(t.name);return s?i.remove(new Ie(t.name,s)):i}});return new dr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao;class ye{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_w(this.priorityNode_),this.children_.isEmpty()&&oe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ao||(ao=new ye(new Vt(Fp),null,dr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ao}updatePriority(t){return this.children_.isEmpty()?this:new ye(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?ao:n}}getChild(t){const n=Ae(t);return n===null?this:this.getImmediateChild(n).getChild(ze(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(oe(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new Ie(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ao:this.priorityNode_;return new ye(i,o,s)}}updateChild(t,n){const r=Ae(t);if(r===null)return n;{oe(Ae(t)!==".priority"||ti(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ze(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(tt,(o,a)=>{n[o]=a.val(t),r++,s&&ye.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+mw(this.getPriority().val())+":"),this.forEachChild(tt,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":zb(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Ie(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Ie(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Ie(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,Ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,Ie.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Na?-1:0}withIndex(t){if(t===ws||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new ye(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===ws||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(tt),i=n.getIterator(tt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===ws?null:this.indexMap_.get(t.toString())}}ye.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class dN extends ye{constructor(){super(new Vt(Fp),ye.EMPTY_NODE,dr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ye.EMPTY_NODE}isEmpty(){return!1}}const Na=new dN;Object.defineProperties(Ie,{MIN:{value:new Ie(Rs,ye.EMPTY_NODE)},MAX:{value:new Ie(ki,Na)}});pw.__EMPTY_NODE=ye.EMPTY_NODE;gt.__childrenNodeConstructor=ye;sN(Na);aN(Na);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=!0;function wt(e,t=null){if(e===null)return ye.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),oe(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new gt(n,wt(t))}if(!(e instanceof Array)&&fN){const n=[];let r=!1;if(Kt(e,(o,a)=>{if(o.substring(0,1)!=="."){const c=wt(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Ie(o,c)))}}),n.length===0)return ye.EMPTY_NODE;const s=Wc(n,iN,o=>o.name,Fp);if(r){const o=Wc(n,tt.getCompare());return new ye(s,wt(t),new dr({".priority":o},{".priority":tt}))}else return new ye(s,wt(t),dr.Default)}else{let n=ye.EMPTY_NODE;return Kt(e,(r,i)=>{if(Sr(e,r)&&r.substring(0,1)!=="."){const s=wt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(wt(t))}}oN(wt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN extends Pl{constructor(t){super(),this.indexPath_=t,oe(!Te(t)&&Ae(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?qs(t.name,n.name):s}makePost(t,n){const r=wt(t),i=ye.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ie(n,i)}maxPost(){const t=ye.EMPTY_NODE.updateChild(this.indexPath_,Na);return new Ie(ki,t)}toString(){return uw(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN extends Pl{compare(t,n){const r=t.node.compareTo(n.node);return r===0?qs(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Ie.MIN}maxPost(){return Ie.MAX}makePost(t,n){const r=wt(t);return new Ie(n,r)}toString(){return".value"}}const mN=new pN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(e){return{type:"value",snapshotNode:e}}function Cs(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Xo(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Qo(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function _N(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){oe(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(Xo(n,a)):oe(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Cs(n,r)):o.trackChildChange(Qo(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(tt,(i,s)=>{n.hasChild(i)||r.trackChildChange(Xo(i,s))}),n.isLeafNode()||n.forEachChild(tt,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(Qo(i,s,o))}else r.trackChildChange(Cs(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?ye.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t){this.indexedFilter_=new Up(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Zo.getStartPost_(t),this.endPost_=Zo.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new Ie(n,r))||(r=ye.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=ye.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ye.EMPTY_NODE);const s=this;return n.forEachChild(tt,(o,a)=>{s.matches(new Ie(o,a))||(i=i.updateImmediateChild(o,ye.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Zo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new Ie(n,r))||(r=ye.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=ye.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ye.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ye.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,ye.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,p)=>d(p,f)}else o=this.index_.getCompare();const a=t;oe(a.numChildren()===this.limit_,"");const c=new Ie(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,c);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(Qo(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Xo(n,d));const h=a.updateImmediateChild(n,ye.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(Cs(f.name,f.node)),h.updateImmediateChild(f.name,f.node)):h}}else return r.isEmpty()?t:u&&o(l,c)>=0?(s!=null&&(s.trackChildChange(Xo(l.name,l.node)),s.trackChildChange(Cs(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,ye.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return oe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return oe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Rs}hasEnd(){return this.endSet_}getIndexEndValue(){return oe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return oe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ki}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return oe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===tt}copy(){const t=new Bp;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function vN(e){return e.loadsAllData()?new Up(e.getIndex()):e.hasLimit()?new gN(e):new Zo(e)}function x0(e){const t={};if(e.isDefault())return t;let n;if(e.index_===tt?n="$priority":e.index_===mN?n="$value":e.index_===ws?n="$key":(oe(e.index_ instanceof hN,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=lt(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=lt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+lt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=lt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+lt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function A0(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==tt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends aw{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ka("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(oe(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=jc.getListenId_(t,r),a={};this.listens_[o]=a;const c=x0(t._queryParams);this.restRequest_(s+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(s,d,!1,r),As(this.listens_,o)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(t,n){const r=jc.getListenId_(t,n);delete this.listens_[r]}get(t){const n=x0(t._queryParams),r=t._path.toString(),i=new Il;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Tl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Vo(a.responseText)}catch{Ht("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Ht("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.rootNode_=ye.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(){return{value:null,children:new Map}}function bw(e,t,n){if(Te(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=Ae(t);e.children.has(r)||e.children.set(r,Vc());const i=e.children.get(r);t=ze(t),bw(i,t,n)}}function Bf(e,t,n){e.value!==null?n(t,e.value):bN(e,(r,i)=>{const s=new Be(t.toString()+"/"+r);Bf(i,s,n)})}function bN(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Kt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=10*1e3,EN=30*1e3,$N=5*60*1e3;class SN{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new wN(t);const r=R0+(EN-R0)*Math.random();xo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Kt(t,(i,s)=>{s>0&&Sr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),xo(this.reportStats_.bind(this),Math.floor(Math.random()*2*$N))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(kn||(kn={}));function ww(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function zp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qp(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=kn.ACK_USER_WRITE,this.source=ww()}operationForChild(t){if(Te(this.path)){if(this.affectedTree.value!=null)return oe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Be(t));return new Hc(ke(),n,this.revert)}}else return oe(Ae(this.path)===t,"operationForChild called for unrelated child."),new Hc(ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t,n){this.source=t,this.path=n,this.type=kn.LISTEN_COMPLETE}operationForChild(t){return Te(this.path)?new Jo(this.source,ke()):new Jo(this.source,ze(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=kn.OVERWRITE}operationForChild(t){return Te(this.path)?new Ni(this.source,ke(),this.snap.getImmediateChild(t)):new Ni(this.source,ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=kn.MERGE}operationForChild(t){if(Te(this.path)){const n=this.children.subtree(new Be(t));return n.isEmpty()?null:n.value?new Ni(this.source,ke(),n.value):new ea(this.source,ke(),n)}else return oe(Ae(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ea(this.source,ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Te(t))return this.isFullyInitialized()&&!this.filtered_;const n=Ae(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function TN(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(_N(o.childName,o.snapshotNode))}),co(e,i,"child_removed",t,r,n),co(e,i,"child_added",t,r,n),co(e,i,"child_moved",s,r,n),co(e,i,"child_changed",t,r,n),co(e,i,"value",t,r,n),i}function co(e,t,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,c)=>AN(e,a,c)),o.forEach(a=>{const c=xN(e,a,s);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function xN(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function AN(e,t,n){if(t.childName==null||n.childName==null)throw zs("Should only compare child_ events.");const r=new Ie(t.childName,t.snapshotNode),i=new Ie(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(e,t){return{eventCache:e,serverCache:t}}function Ao(e,t,n,r){return Dl(new ni(t,n,r),e.serverCache)}function Ew(e,t,n,r){return Dl(e.eventCache,new ni(t,n,r))}function Gc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Pi(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd;const RN=()=>(gd||(gd=new Vt(p4)),gd);class je{constructor(t,n=RN()){this.value=t,this.children=n}static fromObject(t){let n=new je(null);return Kt(t,(r,i)=>{n=n.set(new Be(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:ke(),value:this.value};if(Te(t))return null;{const r=Ae(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ze(t),n);return s!=null?{path:ut(new Be(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Te(t))return this;{const n=Ae(t),r=this.children.get(n);return r!==null?r.subtree(ze(t)):new je(null)}}set(t,n){if(Te(t))return new je(n,this.children);{const r=Ae(t),s=(this.children.get(r)||new je(null)).set(ze(t),n),o=this.children.insert(r,s);return new je(this.value,o)}}remove(t){if(Te(t))return this.children.isEmpty()?new je(null):new je(null,this.children);{const n=Ae(t),r=this.children.get(n);if(r){const i=r.remove(ze(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new je(null):new je(this.value,s)}else return this}}get(t){if(Te(t))return this.value;{const n=Ae(t),r=this.children.get(n);return r?r.get(ze(t)):null}}setTree(t,n){if(Te(t))return n;{const r=Ae(t),s=(this.children.get(r)||new je(null)).setTree(ze(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new je(this.value,o)}}fold(t){return this.fold_(ke(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ut(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ke(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Te(t))return null;{const s=Ae(t),o=this.children.get(s);return o?o.findOnPath_(ze(t),ut(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ke(),n)}foreachOnPath_(t,n,r){if(Te(t))return this;{this.value&&r(n,this.value);const i=Ae(t),s=this.children.get(i);return s?s.foreachOnPath_(ze(t),ut(n,i),r):new je(null)}}foreach(t){this.foreach_(ke(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ut(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t){this.writeTree_=t}static empty(){return new Pn(new je(null))}}function Ro(e,t,n){if(Te(t))return new Pn(new je(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=Bt(i,t);return s=s.updateChild(o,n),new Pn(e.writeTree_.set(i,s))}else{const i=new je(n),s=e.writeTree_.setTree(t,i);return new Pn(s)}}}function C0(e,t,n){let r=e;return Kt(n,(i,s)=>{r=Ro(r,ut(t,i),s)}),r}function O0(e,t){if(Te(t))return Pn.empty();{const n=e.writeTree_.setTree(t,new je(null));return new Pn(n)}}function zf(e,t){return Gi(e,t)!=null}function Gi(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Bt(n.path,t)):null}function k0(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(tt,(r,i)=>{t.push(new Ie(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Ie(r,i.value))}),t}function qr(e,t){if(Te(t))return e;{const n=Gi(e,t);return n!=null?new Pn(new je(n)):new Pn(e.writeTree_.subtree(t))}}function qf(e){return e.writeTree_.isEmpty()}function Os(e,t){return $w(ke(),e.writeTree_,t)}function $w(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(oe(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=$w(ut(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(ut(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(e,t){return xw(t,e)}function CN(e,t,n,r,i){oe(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ro(e.visibleWrites,t,n)),e.lastWriteId=r}function ON(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function kN(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);oe(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=n&&NN(a,r.path)?i=!1:On(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return PN(e),!0;if(r.snap)e.visibleWrites=O0(e.visibleWrites,r.path);else{const a=r.children;Kt(a,c=>{e.visibleWrites=O0(e.visibleWrites,ut(r.path,c))})}return!0}else return!1}function NN(e,t){if(e.snap)return On(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&On(ut(e.path,n),t))return!0;return!1}function PN(e){e.visibleWrites=Sw(e.allWrites,DN,ke()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function DN(e){return e.visible}function Sw(e,t,n){let r=Pn.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let a;if(s.snap)On(n,o)?(a=Bt(n,o),r=Ro(r,a,s.snap)):On(o,n)&&(a=Bt(o,n),r=Ro(r,ke(),s.snap.getChild(a)));else if(s.children){if(On(n,o))a=Bt(n,o),r=C0(r,a,s.children);else if(On(o,n))if(a=Bt(o,n),Te(a))r=C0(r,ke(),s.children);else{const c=As(s.children,Ae(a));if(c){const l=c.getChild(ze(a));r=Ro(r,ke(),l)}}}else throw zs("WriteRecord should have .snap or .children")}}return r}function Iw(e,t,n,r,i){if(!r&&!i){const s=Gi(e.visibleWrites,t);if(s!=null)return s;{const o=qr(e.visibleWrites,t);if(qf(o))return n;if(n==null&&!zf(o,ke()))return null;{const a=n||ye.EMPTY_NODE;return Os(o,a)}}}else{const s=qr(e.visibleWrites,t);if(!i&&qf(s))return n;if(!i&&n==null&&!zf(s,ke()))return null;{const o=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(On(l.path,t)||On(t,l.path))},a=Sw(e.allWrites,o,t),c=n||ye.EMPTY_NODE;return Os(a,c)}}}function MN(e,t,n){let r=ye.EMPTY_NODE;const i=Gi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(tt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=qr(e.visibleWrites,t);return n.forEachChild(tt,(o,a)=>{const c=Os(qr(s,new Be(o)),a);r=r.updateImmediateChild(o,c)}),k0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=qr(e.visibleWrites,t);return k0(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function LN(e,t,n,r,i){oe(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ut(t,n);if(zf(e.visibleWrites,s))return null;{const o=qr(e.visibleWrites,s);return qf(o)?i.getChild(n):Os(o,i.getChild(n))}}function FN(e,t,n,r){const i=ut(t,n),s=Gi(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=qr(e.visibleWrites,i);return Os(o,r.getNode().getImmediateChild(n))}else return null}function UN(e,t){return Gi(e.visibleWrites,t)}function BN(e,t,n,r,i,s,o){let a;const c=qr(e.visibleWrites,t),l=Gi(c,ke());if(l!=null)a=l;else if(n!=null)a=Os(c,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function zN(){return{visibleWrites:Pn.empty(),allWrites:[],lastWriteId:-1}}function Yc(e,t,n,r){return Iw(e.writeTree,e.treePath,t,n,r)}function Wp(e,t){return MN(e.writeTree,e.treePath,t)}function N0(e,t,n,r){return LN(e.writeTree,e.treePath,t,n,r)}function Kc(e,t){return UN(e.writeTree,ut(e.treePath,t))}function qN(e,t,n,r,i,s){return BN(e.writeTree,e.treePath,t,n,r,i,s)}function jp(e,t,n){return FN(e.writeTree,e.treePath,t,n)}function Tw(e,t){return xw(ut(e.treePath,t),e.writeTree)}function xw(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;oe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),oe(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Qo(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Xo(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Cs(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Qo(r,t.snapshotNode,i.oldSnap));else throw zs("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const Aw=new jN;class Vp{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new ni(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jp(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Pi(this.viewCache_),s=qN(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(e){return{filter:e}}function HN(e,t){oe(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),oe(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function GN(e,t,n,r,i){const s=new WN;let o,a;if(n.type===kn.OVERWRITE){const l=n;l.source.fromUser?o=Wf(e,t,l.path,l.snap,r,i,s):(oe(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Te(l.path),o=Xc(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===kn.MERGE){const l=n;l.source.fromUser?o=KN(e,t,l.path,l.children,r,i,s):(oe(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=jf(e,t,l.path,l.children,r,i,a,s))}else if(n.type===kn.ACK_USER_WRITE){const l=n;l.revert?o=ZN(e,t,l.path,r,i,s):o=XN(e,t,l.path,l.affectedTree,r,i,s)}else if(n.type===kn.LISTEN_COMPLETE)o=QN(e,t,n.path,r,s);else throw zs("Unknown operation type: "+n.type);const c=s.getChanges();return YN(t,o,c),{viewCache:o,changes:c}}function YN(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Gc(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(yw(Gc(t)))}}function Rw(e,t,n,r,i,s){const o=t.eventCache;if(Kc(r,n)!=null)return t;{let a,c;if(Te(n))if(oe(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const l=Pi(t),u=l instanceof ye?l:ye.EMPTY_NODE,d=Wp(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const l=Yc(r,Pi(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,s)}else{const l=Ae(n);if(l===".priority"){oe(ti(n)===1,"Can't have a priority with additional path components");const u=o.getNode();c=t.serverCache.getNode();const d=N0(r,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=o.getNode()}else{const u=ze(n);let d;if(o.isCompleteForChild(l)){c=t.serverCache.getNode();const f=N0(r,n,o.getNode(),c);f!=null?d=o.getNode().getImmediateChild(l).updateChild(u,f):d=o.getNode().getImmediateChild(l)}else d=jp(r,l,t.serverCache);d!=null?a=e.filter.updateChild(o.getNode(),l,d,u,i,s):a=o.getNode()}}return Ao(t,a,o.isFullyInitialized()||Te(n),e.filter.filtersNodes())}}function Xc(e,t,n,r,i,s,o,a){const c=t.serverCache;let l;const u=o?e.filter:e.filter.getIndexedFilter();if(Te(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const p=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),p,null)}else{const p=Ae(n);if(!c.isCompleteForPath(n)&&ti(n)>1)return t;const g=ze(n),m=c.getNode().getImmediateChild(p).updateChild(g,r);p===".priority"?l=u.updatePriority(c.getNode(),m):l=u.updateChild(c.getNode(),p,m,g,Aw,null)}const d=Ew(t,l,c.isFullyInitialized()||Te(n),u.filtersNodes()),f=new Vp(i,d,s);return Rw(e,d,n,i,f,a)}function Wf(e,t,n,r,i,s,o){const a=t.eventCache;let c,l;const u=new Vp(i,t,s);if(Te(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,o),c=Ao(t,l,!0,e.filter.filtersNodes());else{const d=Ae(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),c=Ao(t,l,a.isFullyInitialized(),a.isFiltered());else{const f=ze(n),p=a.getNode().getImmediateChild(d);let g;if(Te(f))g=r;else{const h=u.getCompleteChild(d);h!=null?lw(f)===".priority"&&h.getChild(dw(f)).isEmpty()?g=h:g=h.updateChild(f,r):g=ye.EMPTY_NODE}if(p.equals(g))c=t;else{const h=e.filter.updateChild(a.getNode(),d,g,f,u,o);c=Ao(t,h,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function P0(e,t){return e.eventCache.isCompleteForChild(t)}function KN(e,t,n,r,i,s,o){let a=t;return r.foreach((c,l)=>{const u=ut(n,c);P0(t,Ae(u))&&(a=Wf(e,a,u,l,i,s,o))}),r.foreach((c,l)=>{const u=ut(n,c);P0(t,Ae(u))||(a=Wf(e,a,u,l,i,s,o))}),a}function D0(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function jf(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;Te(n)?l=r:l=new je(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=t.serverCache.getNode().getImmediateChild(d),g=D0(e,p,f);c=Xc(e,c,new Be(d),g,i,s,o,a)}}),l.children.inorderTraversal((d,f)=>{const p=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!p){const g=t.serverCache.getNode().getImmediateChild(d),h=D0(e,g,f);c=Xc(e,c,new Be(d),h,i,s,o,a)}}),c}function XN(e,t,n,r,i,s,o){if(Kc(i,n)!=null)return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(Te(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Xc(e,t,n,c.getNode().getChild(n),i,s,a,o);if(Te(n)){let l=new je(null);return c.getNode().forEachChild(ws,(u,d)=>{l=l.set(new Be(u),d)}),jf(e,t,n,l,i,s,a,o)}else return t}else{let l=new je(null);return r.foreach((u,d)=>{const f=ut(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),jf(e,t,n,l,i,s,a,o)}}function QN(e,t,n,r,i){const s=t.serverCache,o=Ew(t,s.getNode(),s.isFullyInitialized()||Te(n),s.isFiltered());return Rw(e,o,n,r,Aw,i)}function ZN(e,t,n,r,i,s){let o;if(Kc(r,n)!=null)return t;{const a=new Vp(r,t,i),c=t.eventCache.getNode();let l;if(Te(n)||Ae(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Yc(r,Pi(t));else{const d=t.serverCache.getNode();oe(d instanceof ye,"serverChildren would be complete if leaf node"),u=Wp(r,d)}u=u,l=e.filter.updateFullNode(c,u,s)}else{const u=Ae(n);let d=jp(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,ze(n),a,s):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,ye.EMPTY_NODE,ze(n),a,s):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Yc(r,Pi(t)),o.isLeafNode()&&(l=e.filter.updateFullNode(l,o,s)))}return o=t.serverCache.isFullyInitialized()||Kc(r,ke())!=null,Ao(t,l,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Up(r.getIndex()),s=vN(r);this.processor_=VN(s);const o=n.serverCache,a=n.eventCache,c=i.updateFullNode(ye.EMPTY_NODE,o.getNode(),null),l=s.updateFullNode(ye.EMPTY_NODE,a.getNode(),null),u=new ni(c,o.isFullyInitialized(),i.filtersNodes()),d=new ni(l,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Dl(d,u),this.eventGenerator_=new IN(this.query_)}get query(){return this.query_}}function e5(e){return e.viewCache_.serverCache.getNode()}function t5(e){return Gc(e.viewCache_)}function n5(e,t){const n=Pi(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Te(t)&&!n.getImmediateChild(Ae(t)).isEmpty())?n.getChild(t):null}function M0(e){return e.eventRegistrations_.length===0}function r5(e,t){e.eventRegistrations_.push(t)}function L0(e,t,n){const r=[];if(n){oe(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function F0(e,t,n,r){t.type===kn.MERGE&&t.source.queryId!==null&&(oe(Pi(e.viewCache_),"We should always have a full cache before handling merges"),oe(Gc(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=GN(e.processor_,i,t,n,r);return HN(e.processor_,s.viewCache),oe(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Cw(e,s.changes,s.viewCache.eventCache.getNode(),null)}function i5(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(tt,(s,o)=>{r.push(Cs(s,o))}),n.isFullyInitialized()&&r.push(yw(n.getNode())),Cw(e,r,n.getNode(),t)}function Cw(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return TN(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc;class Ow{constructor(){this.views=new Map}}function s5(e){oe(!Qc,"__referenceConstructor has already been defined"),Qc=e}function o5(){return oe(Qc,"Reference.ts has not been loaded"),Qc}function a5(e){return e.views.size===0}function Hp(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return oe(s!=null,"SyncTree gave us an op for an invalid query."),F0(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(F0(o,t,n,r));return s}}function kw(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let a=Yc(n,i?r:null),c=!1;a?c=!0:r instanceof ye?(a=Wp(n,r),c=!1):(a=ye.EMPTY_NODE,c=!1);const l=Dl(new ni(a,c,!1),new ni(r,i,!1));return new JN(t,l)}return o}function c5(e,t,n,r,i,s){const o=kw(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),r5(o,n),i5(o,n)}function l5(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=ri(e);if(i==="default")for(const[c,l]of e.views.entries())o=o.concat(L0(l,n,r)),M0(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||s.push(l.query));else{const c=e.views.get(i);c&&(o=o.concat(L0(c,n,r)),M0(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return a&&!ri(e)&&s.push(new(o5())(t._repo,t._path)),{removed:s,events:o}}function Nw(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Wr(e,t){let n=null;for(const r of e.views.values())n=n||n5(r,t);return n}function Pw(e,t){if(t._queryParams.loadsAllData())return Ll(e);{const r=t._queryIdentifier;return e.views.get(r)}}function Dw(e,t){return Pw(e,t)!=null}function ri(e){return Ll(e)!=null}function Ll(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc;function u5(e){oe(!Zc,"__referenceConstructor has already been defined"),Zc=e}function d5(){return oe(Zc,"Reference.ts has not been loaded"),Zc}let f5=1;class U0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new je(null),this.pendingWriteTree_=zN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Mw(e,t,n,r,i){return CN(e.pendingWriteTree_,t,n,r,i),i?Da(e,new Ni(ww(),t,n)):[]}function bi(e,t,n=!1){const r=ON(e.pendingWriteTree_,t);if(kN(e.pendingWriteTree_,t)){let s=new je(null);return r.snap!=null?s=s.set(ke(),!0):Kt(r.children,o=>{s=s.set(new Be(o),!0)}),Da(e,new Hc(r.path,s,n))}else return[]}function Pa(e,t,n){return Da(e,new Ni(zp(),t,n))}function h5(e,t,n){const r=je.fromObject(n);return Da(e,new ea(zp(),t,r))}function p5(e,t){return Da(e,new Jo(zp(),t))}function m5(e,t,n){const r=Yp(e,n);if(r){const i=Kp(r),s=i.path,o=i.queryId,a=Bt(s,t),c=new Jo(qp(o),a);return Xp(e,s,c)}else return[]}function Lw(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&(t._queryIdentifier==="default"||Dw(o,t))){const c=l5(o,t,n,r);a5(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const l=c.removed;if(a=c.events,!i){const u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(s,(f,p)=>ri(p));if(u&&!d){const f=e.syncPointTree_.subtree(s);if(!f.isEmpty()){const p=y5(f);for(let g=0;g<p.length;++g){const h=p[g],m=h.query,_=zw(e,h);e.listenProvider_.startListening(Co(m),ta(e,m),_.hashFn,_.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(Co(t),null):l.forEach(f=>{const p=e.queryToTagMap.get(Fl(f));e.listenProvider_.stopListening(Co(f),p)}))}b5(e,l)}return a}function Fw(e,t,n,r){const i=Yp(e,r);if(i!=null){const s=Kp(i),o=s.path,a=s.queryId,c=Bt(o,t),l=new Ni(qp(a),c,n);return Xp(e,o,l)}else return[]}function _5(e,t,n,r){const i=Yp(e,r);if(i){const s=Kp(i),o=s.path,a=s.queryId,c=Bt(o,t),l=je.fromObject(n),u=new ea(qp(a),c,l);return Xp(e,o,u)}else return[]}function g5(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(f,p)=>{const g=Bt(f,i);s=s||Wr(p,g),o=o||ri(p)});let a=e.syncPointTree_.get(i);a?(o=o||ri(a),s=s||Wr(a,ke())):(a=new Ow,e.syncPointTree_=e.syncPointTree_.set(i,a));let c;s!=null?c=!0:(c=!1,s=ye.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((p,g)=>{const h=Wr(g,ke());h&&(s=s.updateImmediateChild(p,h))}));const l=Dw(a,t);if(!l&&!t._queryParams.loadsAllData()){const f=Fl(t);oe(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=w5();e.queryToTagMap.set(f,p),e.tagToQueryMap.set(p,f)}const u=Ml(e.pendingWriteTree_,i);let d=c5(a,t,n,u,s,c);if(!l&&!o&&!r){const f=Pw(a,t);d=d.concat(E5(e,t,f))}return d}function Gp(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{const c=Bt(o,t),l=Wr(a,c);if(l)return l});return Iw(i,t,s,n,!0)}function v5(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(l,u)=>{const d=Bt(l,n);r=r||Wr(u,d)});let i=e.syncPointTree_.get(n);i?r=r||Wr(i,ke()):(i=new Ow,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=r!=null,o=s?new ni(r,!0,!1):null,a=Ml(e.pendingWriteTree_,t._path),c=kw(i,t,a,s?o.getNode():ye.EMPTY_NODE,s);return t5(c)}function Da(e,t){return Uw(t,e.syncPointTree_,null,Ml(e.pendingWriteTree_,ke()))}function Uw(e,t,n,r){if(Te(e.path))return Bw(e,t,n,r);{const i=t.get(ke());n==null&&i!=null&&(n=Wr(i,ke()));let s=[];const o=Ae(e.path),a=e.operationForChild(o),c=t.children.get(o);if(c&&a){const l=n?n.getImmediateChild(o):null,u=Tw(r,o);s=s.concat(Uw(a,c,l,u))}return i&&(s=s.concat(Hp(i,e,r,n))),s}}function Bw(e,t,n,r){const i=t.get(ke());n==null&&i!=null&&(n=Wr(i,ke()));let s=[];return t.children.inorderTraversal((o,a)=>{const c=n?n.getImmediateChild(o):null,l=Tw(r,o),u=e.operationForChild(o);u&&(s=s.concat(Bw(u,a,c,l)))}),i&&(s=s.concat(Hp(i,e,r,n))),s}function zw(e,t){const n=t.query,r=ta(e,n);return{hashFn:()=>(e5(t)||ye.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?m5(e,n._path,r):p5(e,n._path);{const s=g4(i,n);return Lw(e,n,null,s)}}}}function ta(e,t){const n=Fl(t);return e.queryToTagMap.get(n)}function Fl(e){return e._path.toString()+"$"+e._queryIdentifier}function Yp(e,t){return e.tagToQueryMap.get(t)}function Kp(e){const t=e.indexOf("$");return oe(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Be(e.substr(0,t))}}function Xp(e,t,n){const r=e.syncPointTree_.get(t);oe(r,"Missing sync point for query tag that we're tracking");const i=Ml(e.pendingWriteTree_,t);return Hp(r,n,i,null)}function y5(e){return e.fold((t,n,r)=>{if(n&&ri(n))return[Ll(n)];{let i=[];return n&&(i=Nw(n)),Kt(r,(s,o)=>{i=i.concat(o)}),i}})}function Co(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(d5())(e._repo,e._path):e}function b5(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Fl(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function w5(){return f5++}function E5(e,t,n){const r=t._path,i=ta(e,t),s=zw(e,n),o=e.listenProvider_.startListening(Co(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)oe(!ri(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,u,d)=>{if(!Te(l)&&u&&ri(u))return[Ll(u).query];{let f=[];return u&&(f=f.concat(Nw(u).map(p=>p.query))),Kt(d,(p,g)=>{f=f.concat(g)}),f}});for(let l=0;l<c.length;++l){const u=c[l];e.listenProvider_.stopListening(Co(u),ta(e,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new Qp(n)}node(){return this.node_}}class Zp{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=ut(this.path_,t);return new Zp(this.syncTree_,n)}node(){return Gp(this.syncTree_,this.path_)}}const $5=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},B0=function(e,t,n){if(!e||typeof e!="object")return e;if(oe(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return S5(e[".sv"],t,n);if(typeof e[".sv"]=="object")return I5(e[".sv"],t);oe(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},S5=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:oe(!1,"Unexpected server value: "+e)}},I5=function(e,t,n){e.hasOwnProperty("increment")||oe(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&oe(!1,"Unexpected increment value: "+r);const i=t.node();if(oe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},T5=function(e,t,n,r){return Jp(t,new Zp(n,e),r)},qw=function(e,t,n){return Jp(e,new Qp(t),n)};function Jp(e,t,n){const r=e.getPriority().val(),i=B0(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,a=B0(o.getValue(),t,n);return a!==o.getValue()||i!==o.getPriority().val()?new gt(a,wt(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new gt(i))),o.forEachChild(tt,(a,c)=>{const l=Jp(c,t.getImmediateChild(a),n);l!==c&&(s=s.updateImmediateChild(a,l))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function tm(e,t){let n=t instanceof Be?t:new Be(t),r=e,i=Ae(n);for(;i!==null;){const s=As(r.node.children,i)||{children:{},childCount:0};r=new em(i,r,s),n=ze(n),i=Ae(n)}return r}function js(e){return e.node.value}function Ww(e,t){e.node.value=t,Vf(e)}function jw(e){return e.node.childCount>0}function x5(e){return js(e)===void 0&&!jw(e)}function Ul(e,t){Kt(e.node.children,(n,r)=>{t(new em(n,e,r))})}function Vw(e,t,n,r){n&&!r&&t(e),Ul(e,i=>{Vw(i,t,!0,r)}),n&&r&&t(e)}function A5(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Ma(e){return new Be(e.parent===null?e.name:Ma(e.parent)+"/"+e.name)}function Vf(e){e.parent!==null&&R5(e.parent,e.name,e)}function R5(e,t,n){const r=x5(n),i=Sr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Vf(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Vf(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5=/[\[\].#$\/\u0000-\u001F\u007F]/,O5=/[\[\].#$\u0000-\u001F\u007F]/,vd=10*1024*1024,Hw=function(e){return typeof e=="string"&&e.length!==0&&!C5.test(e)},Gw=function(e){return typeof e=="string"&&e.length!==0&&!O5.test(e)},k5=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Gw(e)},N5=function(e,t,n,r){r&&t===void 0||nm(bp(e,"value"),t,n)},nm=function(e,t,n){const r=n instanceof Be?new X4(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+gi(r));if(typeof t=="function")throw new Error(e+"contains a function "+gi(r)+" with contents = "+t.toString());if(qb(t))throw new Error(e+"contains "+t.toString()+" "+gi(r));if(typeof t=="string"&&t.length>vd/3&&xl(t)>vd)throw new Error(e+"contains a string greater than "+vd+" utf8 bytes "+gi(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(Kt(t,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Hw(o)))throw new Error(e+" contains an invalid key ("+o+") "+gi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Q4(r,o),nm(e,a,r),Z4(r)}),i&&s)throw new Error(e+' contains ".value" child '+gi(r)+" in addition to actual children.")}},Yw=function(e,t,n,r){if(!(r&&n===void 0)&&!Gw(n))throw new Error(bp(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},P5=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Yw(e,t,n,r)},D5=function(e,t){if(Ae(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},M5=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Hw(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!k5(n))throw new Error(bp(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Kw(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!fw(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function or(e,t,n){Kw(e,n),F5(e,r=>On(r,t)||On(t,r))}function F5(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(U5(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function U5(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Ii&&kt("event: "+n.toString()),Ws(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="repo_interrupt",z5=25;class q5{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new L5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vc(),this.transactionQueueTree_=new em,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function W5(e,t,n){if(e.stats_=Dp(e.repoInfo_),e.forceRestClient_||w4())e.server_=new jc(e.repoInfo_,(r,i,s,o)=>{z0(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>q0(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{lt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new hr(e.repoInfo_,t,(r,i,s,o)=>{z0(e,r,i,s,o)},r=>{q0(e,r)},r=>{V5(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=T4(e.repoInfo_,()=>new SN(e.stats_,e.server_)),e.infoData_=new yN,e.infoSyncTree_=new U0({startListening:(r,i,s,o)=>{let a=[];const c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=Pa(e.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),im(e,"connected",!1),e.serverSyncTree_=new U0({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(a,c)=>{const l=o(a,c);or(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function j5(e){const n=e.infoData_.getNode(new Be(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function rm(e){return $5({timestamp:j5(e)})}function z0(e,t,n,r,i){e.dataUpdateCount++;const s=new Be(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const c=Mc(n,l=>wt(l));o=_5(e.serverSyncTree_,s,c,i)}else{const c=wt(n);o=Fw(e.serverSyncTree_,s,c,i)}else if(r){const c=Mc(n,l=>wt(l));o=h5(e.serverSyncTree_,s,c)}else{const c=wt(n);o=Pa(e.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=zl(e,s)),or(e.eventQueue_,a,o)}function q0(e,t){im(e,"connected",t),t===!1&&Y5(e)}function V5(e,t){Kt(t,(n,r)=>{im(e,n,r)})}function im(e,t,n){const r=new Be("/.info/"+t),i=wt(n);e.infoData_.updateSnapshot(r,i);const s=Pa(e.infoSyncTree_,r,i);or(e.eventQueue_,r,s)}function Xw(e){return e.nextWriteId_++}function H5(e,t,n){const r=v5(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const s=wt(i).withIndex(t._queryParams.getIndex());g5(e.serverSyncTree_,t,n,!0);let o;if(t._queryParams.loadsAllData())o=Pa(e.serverSyncTree_,t._path,s);else{const a=ta(e.serverSyncTree_,t);o=Fw(e.serverSyncTree_,t._path,s,a)}return or(e.eventQueue_,t._path,o),Lw(e.serverSyncTree_,t,n,null,!0),s},i=>(Bl(e,"get for query "+lt(t)+" failed: "+i),Promise.reject(new Error(i))))}function G5(e,t,n,r,i){Bl(e,"set",{path:t.toString(),value:n,priority:r});const s=rm(e),o=wt(n,r),a=Gp(e.serverSyncTree_,t),c=qw(o,a,s),l=Xw(e),u=Mw(e.serverSyncTree_,t,c,l,!0);Kw(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(f,p)=>{const g=f==="ok";g||Ht("set at "+t+" failed: "+f);const h=bi(e.serverSyncTree_,l,!g);or(e.eventQueue_,t,h),X5(e,i,f,p)});const d=t2(e,t);zl(e,d),or(e.eventQueue_,d,[])}function Y5(e){Bl(e,"onDisconnectEvents");const t=rm(e),n=Vc();Bf(e.onDisconnect_,ke(),(i,s)=>{const o=T5(i,s,e.serverSyncTree_,t);bw(n,i,o)});let r=[];Bf(n,ke(),(i,s)=>{r=r.concat(Pa(e.serverSyncTree_,i,s));const o=t2(e,i);zl(e,o)}),e.onDisconnect_=Vc(),or(e.eventQueue_,ke(),r)}function K5(e){e.persistentConnection_&&e.persistentConnection_.interrupt(B5)}function Bl(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),kt(n,...t)}function X5(e,t,n,r){t&&Ws(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function Qw(e,t,n){return Gp(e.serverSyncTree_,t,n)||ye.EMPTY_NODE}function sm(e,t=e.transactionQueueTree_){if(t||ql(e,t),js(t)){const n=Jw(e,t);oe(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Q5(e,Ma(t),n)}else jw(t)&&Ul(t,n=>{sm(e,n)})}function Q5(e,t,n){const r=n.map(l=>l.currentWriteId),i=Qw(e,t,r);let s=i;const o=i.hash();for(let l=0;l<n.length;l++){const u=n[l];oe(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Bt(t,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),c=t;e.server_.put(c.toString(),a,l=>{Bl(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(bi(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ql(e,tm(e.transactionQueueTree_,t)),sm(e,e.transactionQueueTree_),or(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)Ws(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ht("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}zl(e,t)}},o)}function zl(e,t){const n=Zw(e,t),r=Ma(n),i=Jw(e,n);return Z5(e,i,r),r}function Z5(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const c=t[a],l=Bt(n,c.path);let u=!1,d;if(oe(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(bi(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=z5)u=!0,d="maxretry",i=i.concat(bi(e.serverSyncTree_,c.currentWriteId,!0));else{const f=Qw(e,c.path,o);c.currentInputSnapshot=f;const p=t[a].update(f.val());if(p!==void 0){nm("transaction failed: Data returned ",p,c.path);let g=wt(p);typeof p=="object"&&p!=null&&Sr(p,".priority")||(g=g.updatePriority(f.getPriority()));const m=c.currentWriteId,_=rm(e),v=qw(g,f,_);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=v,c.currentWriteId=Xw(e),o.splice(o.indexOf(m),1),i=i.concat(Mw(e.serverSyncTree_,c.path,v,c.currentWriteId,c.applyLocally)),i=i.concat(bi(e.serverSyncTree_,m,!0))}else u=!0,d="nodata",i=i.concat(bi(e.serverSyncTree_,c.currentWriteId,!0))}or(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}ql(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Ws(r[a]);sm(e,e.transactionQueueTree_)}function Zw(e,t){let n,r=e.transactionQueueTree_;for(n=Ae(t);n!==null&&js(r)===void 0;)r=tm(r,n),t=ze(t),n=Ae(t);return r}function Jw(e,t){const n=[];return e2(e,t,n),n.sort((r,i)=>r.order-i.order),n}function e2(e,t,n){const r=js(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ul(t,i=>{e2(e,i,n)})}function ql(e,t){const n=js(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Ww(t,n.length>0?n:void 0)}Ul(t,r=>{ql(e,r)})}function t2(e,t){const n=Ma(Zw(e,t)),r=tm(e.transactionQueueTree_,t);return A5(r,i=>{yd(e,i)}),yd(e,r),Vw(r,i=>{yd(e,i)}),n}function yd(e,t){const n=js(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(oe(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(oe(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(bi(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Ww(t,void 0):n.length=s+1,or(e.eventQueue_,Ma(t),i);for(let o=0;o<r.length;o++)Ws(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function eP(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ht(`Invalid query segment '${n}' in query '${e}'`)}return t}const W0=function(e,t){const n=tP(e),r=n.namespace;n.domain==="firebase.com"&&br(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&br("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||f4();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ew(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Be(n.pathString)}},tP=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=J5(e.substring(u,d)));const f=eP(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(o=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;const p=t.slice(0,l);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+lt(this.snapshot.exportVal())}}class rP{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return oe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Te(this._path)?null:lw(this._path)}get ref(){return new Tr(this._repo,this._path)}get _queryIdentifier(){const t=A0(this._queryParams),n=Np(t);return n==="{}"?"default":n}get _queryObject(){return A0(this._queryParams)}isEqual(t){if(t=$e(t),!(t instanceof om))return!1;const n=this._repo===t._repo,r=fw(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+K4(this._path)}}class Tr extends om{constructor(t,n){super(t,n,new Bp,!1)}get parent(){const t=dw(this._path);return t===null?null:new Tr(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class na{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new Be(t),r=Hf(this.ref,t);return new na(this._node.getChild(n),r,tt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new na(i,Hf(this.ref,r),tt)))}hasChild(t){const n=new Be(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function us(e,t){return e=$e(e),e._checkNotDeleted("ref"),t!==void 0?Hf(e._root,t):e._root}function Hf(e,t){return e=$e(e),Ae(e._path)===null?P5("child","path",t,!1):Yw("child","path",t,!1),new Tr(e._repo,ut(e._path,t))}function Gf(e,t){e=$e(e),D5("set",e._path),N5("set",t,e._path,!1);const n=new Il;return G5(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function gc(e){e=$e(e);const t=new iP(()=>{}),n=new am(t);return H5(e._repo,e,n).then(r=>new na(r,new Tr(e._repo,e._path),e._queryParams.getIndex()))}class am{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new nP("value",this,new na(t.snapshotNode,new Tr(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new rP(this,t,n):null}matches(t){return t instanceof am?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}s5(Tr);u5(Tr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="FIREBASE_DATABASE_EMULATOR_HOST",Yf={};let oP=!1;function aP(e,t,n,r){e.repoInfo_=new ew(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function cP(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||br("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),kt("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=W0(s,i),a=o.repoInfo,c,l;typeof process<"u"&&u0&&(l=u0[sP]),l?(c=!0,s=`http://${l}?ns=${a.namespace}`,o=W0(s,i),a=o.repoInfo):c=!o.repoInfo.secure;const u=i&&c?new bs(bs.OWNER):new $4(e.name,e.options,t);M5("Invalid Firebase Database URL",o),Te(o.path)||br("Database URL must point to the root of a Firebase Database (not including a child path).");const d=uP(a,e,u,new E4(e.name,n));return new dP(d,e)}function lP(e,t){const n=Yf[t];(!n||n[e.key]!==e)&&br(`Database ${t}(${e.repoInfo_}) has already been deleted.`),K5(e),delete n[e.key]}function uP(e,t,n,r){let i=Yf[t.name];i||(i={},Yf[t.name]=i);let s=i[e.toURLString()];return s&&br("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new q5(e,oP,n,r),i[e.toURLString()]=s,s}class dP{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(W5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Tr(this._repo,ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lP(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&br("Cannot call "+t+" on a deleted database.")}}function vc(e=$p(),t){const n=Al(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=Wy("database");r&&fP(n,...r)}return n}function fP(e,t,n,r={}){e=$e(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&br("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&br('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new bs(bs.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Vy(r.mockUserToken,e.app.options.projectId);s=new bs(o)}aP(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(e){a4(Ta),Ri(new ei("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return cP(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Jn(d0,f0,e),Jn(d0,f0,"esm2017")}hr.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};hr.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};hP();var wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function n2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cm={},Mt={},r2={},Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.getEscapedRegExp=_P;Vs.getPropertyDescriptor=pP;Vs.pause=mP;function pP(e,t){var n;do n=Object.getOwnPropertyDescriptor(e,t);while(!n&&(e=Object.getPrototypeOf(e)));return n}function mP(e){return new Promise(function(t){return setTimeout(t,e)})}function _P(e){var t=/[$()*+.?[\\\]^{|}]/g;return e.replace(t,"\\$&")}var ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.isArray=wP;ft.isBoolean=SP;ft.isClass=yP;ft.isFunction=i2;ft.isGetter=TP;ft.isNumber=$P;ft.isObject=bP;ft.isPromise=EP;ft.isRegexp=xP;ft.isStream=IP;ft.isString=vP;ft.isValue=En;var gP=Vs;function vP(e){return En(e)&&Object.prototype.toString.call(e)==="[object String]"}function yP(e){return En(e)&&typeof e=="function"&&/class/i.test(e.toString())}function i2(e){return En(e)&&["[object Function]","[object AsyncFunction]"].includes(Object.prototype.toString.call(e))}function bP(e){return En(e)&&Object.prototype.toString.call(e)==="[object Object]"}function wP(e){return En(e)&&Object.prototype.toString.call(e)==="[object Array]"}function EP(e){return En(e)&&Object.prototype.toString.call(e)==="[object Promise]"}function En(e){return e!=null}function $P(e){return En(e)&&Object.prototype.toString.call(e)==="[object Number]"&&!Number.isNaN(e)}function SP(e){return En(e)&&Object.prototype.toString.call(e)==="[object Boolean]"}function IP(e){return En(e)&&i2(e.pipe)}function TP(e,t){var n;return En(e)?!!((n=(0,gP.getPropertyDescriptor)(e,t))!==null&&n!==void 0&&n.get):!1}function xP(e){return En(e)&&Object.prototype.toString.call(e)==="[object RegExp]"}var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.existanceFilter=void 0;Nt.flatten=o2;Nt.groupBy=DP;Nt.isUnique=NP;Nt.last=PP;Nt.passFilter=void 0;Nt.toArray=lm;Nt.uniqueFilter=um;Nt.uniqueIdenticFilter=Nt.uniqueIdFilter=void 0;var Kf=ft;function s2(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=AP(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function AP(e,t){if(e){if(typeof e=="string")return j0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j0(e,t)}}function j0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lm(e){return(0,Kf.isValue)(e)?(0,Kf.isArray)(e)?e:[e]:[]}function um(e){return function(n,r,i){var s=e?i.findIndex(function(o){return e(n,o)}):i.indexOf(n);return s===r}}var RP=um(function(e,t){return e.id===t.id});Nt.uniqueIdFilter=RP;var CP=um(function(e,t){return e===t});Nt.uniqueIdenticFilter=CP;var OP=function(t){return(0,Kf.isValue)(t)};Nt.existanceFilter=OP;var kP=function(){return!0};Nt.passFilter=kP;function o2(e){return lm(e).reduce(function(t,n){return t.concat(Array.isArray(n)?o2(n):n)},[])}function NP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.field,r=t.ignoreEmpty,i=new Map,s=s2(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,c=!r&&n?a[n]:a;if(!(r&&c==null)){if(i.has(c))return!1;i.set(c)}}}catch(l){s.e(l)}finally{s.f()}return!0}function PP(e){return e[e.length-1]}function DP(e,t){var n=lm(t),r={},i=s2(e),s;try{var o=function(){var c=s.value,l=n.map(function(u){return c[u]}).join(".");r[l]||(r[l]=[]),r[l].push(c)};for(i.s();!(s=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r}var La={};Object.defineProperty(La,"__esModule",{value:!0});La.cleanUndefined=a2;La.clone=MP;La.isEmpty=LP;var Xf=ft;function a2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.cache,r=n===void 0?new Set:n;r.add(e);for(var i=0,s=Object.keys(e);i<s.length;i++){var o=s[i];if(e[o]===void 0&&delete e[o],(0,Xf.isObject)(e[o])){if(r.has(e[o]))continue;a2(e[o],{cache:r})}}return e}function MP(e){return JSON.parse(JSON.stringify(e))}function LP(e){var t=(0,Xf.isObject)(e)&&Object.keys(e).length===0,n=(0,Xf.isArray)(e)&&e.keys(e).length===0;return t||n}var ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.startBenchmark=ks.getBenchmark=void 0;var c2=ft,bd,wd,Ed,FP=1e6,dm=5;function UP(e){var t=process.hrtime.bigint(),n=t-e,r=n/BigInt(FP);return Number(r).toFixed(dm)}function BP(){return process.hrtime.bigint()}function zP(){return performance.now(),performance.now()}function qP(e){var t=performance.now()-e;return t.toFixed(dm)}function WP(){return new Date}function jP(e){var t=Date.now()-e;return t.toFixed(dm)}var l2=typeof process<"u"&&(0,c2.isFunction)((bd=process)===null||bd===void 0||(wd=bd.hrtime)===null||wd===void 0?void 0:wd.bigint),u2=typeof performance<"u"&&(0,c2.isFunction)((Ed=performance)===null||Ed===void 0?void 0:Ed.now),VP=l2&&UP||u2&&qP||jP;ks.getBenchmark=VP;var HP=l2&&BP||u2&&zP||WP;ks.startBenchmark=HP;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.random=Di.Random=void 0;function GP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YP(e,t,n){return t&&V0(e.prototype,t),n&&V0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var d2=function(){function e(){GP(this,e)}return YP(e,[{key:"uniform",value:function(n,r){return Math.random()*(n-r)+r}},{key:"int",value:function(n,r){return Math.floor(this.uniform(n,r))}}]),e}();Di.Random=d2;var KP=new d2;Di.random=KP;var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.fill=lD;Yi.getProp=h2;Yi.retry=aD;Yi.searchFor=uD;Yi.setProp=cD;var Oo=ft,XP=Di;function QP(e){return tD(e)||eD(e)||JP(e)||ZP()}function ZP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JP(e,t){if(e){if(typeof e=="string")return H0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H0(e,t)}}function H0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tD(e){if(Array.isArray(e))return e}var f2=Symbol("myrmidon_retry_aborted");function G0(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Error("Unknown Retry Abortion");throw e[f2]=!0,e}var nD=.5,rD=2,iD=2;function sD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if((0,Oo.isNumber)(e))return e;if((0,Oo.isFunction)(e))return e(t);if((0,Oo.isObject)(e)){var n=e.randomize?XP.random.uniform(nD,rD):1;return Math.min(n*e.min*Math.pow(e.factor||iD,t),e.max)}}function oD(e,t,n){var r=n.retries,i=n.next;if(e[f2]||t===r)throw e;i()}function aD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.onRetry,r=n===void 0?oD:n,i=t.retries,s=i===void 0?10:i,o=t.timeout,a=o===void 0?100:o;return new Promise(function(c,l){function u(p){try{var g=e(G0,p);Promise.resolve(g).then(c).catch(function(h){return f(h,p)})}catch(h){f(h,p)}}function d(p){setTimeout(function(){return u(p+1)},sD(a,p+1))}function f(p,g){try{r(p,g,{retries:s,abort:G0,next:function(){return d(g)}})}catch(h){l(h)}}u(0)})}function h2(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.delimeter,i=r===void 0?".":r;return t.split(i).reduce(function(s,o){try{return s[o]}catch{return null}},e)}function cD(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=r.delimiter,s=i===void 0?".":i,o=e;return t.split(s).forEach(function(a,c,l){var u=c===l.length-1;if(!(a in o)){if(u)return o[a]=n;var d=l[c+1],f=Number.isInteger(+d);o[a]=f?[]:{}}o=o[a]}),e}function lD(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.delimiters,i=r===void 0?["{","}"]:r,s=n.regExp,o=s||new RegExp("".concat(i[0],"(.+?)").concat(i[1]),"g"),a,c=e;(a=o.exec(e))!==null;){var l=a[1].trim();if(l){var u=h2(t,l)||"";c=c.replace(a[0],u)}}return c}function uD(e,t){var n=(0,Oo.isRegexp)(t)?t.flags:"",r=new RegExp((0,Oo.isRegexp)(t)?t.source:t,n.includes("g")?n:"".concat(n,"g")),i=[],s;do if(s=r.exec(e),s){var o=s,a=QP(o),c=a[0],l=a.slice(1),u=s,d=u.index,f=u.input;i.push({full:c,captures:l,index:d,input:f})}while(s);return i}var nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.FunctionDecorator=nn.ClassMethodDecorator=nn.ClassDecorator=void 0;nn.getMethodDescriptor=m2;nn.rawMethodNames=nn.getMethodNames=void 0;var Mi=ft;function Qf(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=p2(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Y0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y0(Object(n),!0).forEach(function(r){Wl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hm(e,t,n){return t&&K0(e.prototype,t),n&&K0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zf(e){return hD(e)||fD(e)||p2(e)||dD()}function dD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p2(e,t){if(e){if(typeof e=="string")return Jf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jf(e,t)}}function fD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hD(e){if(Array.isArray(e))return Jf(e)}function Jf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pD=function e(t){return t&&t!==Object.prototype&&[].concat(Zf(Object.getOwnPropertyNames(t).filter(function(n){return(0,Mi.isGetter)(t,n)||(0,Mi.isFunction)(t[n])})),Zf(e(Object.getPrototypeOf(t))||[]))},Jc=function(t){return Zf(new Set(pD(t)))};nn.rawMethodNames=Jc;var mD=function(t){return Jc(t).filter(function(n){return n!=="constructor"&&n.indexOf("_")!==0})};nn.getMethodNames=mD;function m2(e,t){return t.hasOwnProperty(e)?Object.getOwnPropertyDescriptor(t,e):{configurable:!0,enumerable:!0,writable:!0,value:t[e]}}var _2=function(){function e(t){var n=t.config;fm(this,e),this.config=n}return hm(e,[{key:"prepareData",value:function(n){var r=n.context,i=n.methodName;return{context:r,methodName:i,config:this.config}}},{key:"onParams",value:function(n){var r=n.params;return r}},{key:"onSuccess",value:function(n){var r=n.result;return r}},{key:"onError",value:function(n){throw n}},{key:"run",value:function(n){var r=this,i=r.config.methodName||n.name;return function(){for(var s=r.prepareData({context:this,methodName:i,config:r.config}),o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];var l=r.onParams(Vn({params:a},s)),u=Vn({rawParams:a,params:l},s);try{var d=n==null?void 0:n.apply(this,l);return(0,Mi.isPromise)(d)?d.then(function(f){return r.onSuccess(Vn({result:f},u))}).catch(function(f){return r.onError(Vn({error:f},u))}):r.onSuccess(Vn({result:d},u))}catch(f){r.onError(Vn({error:f},u))}}}}]),e}();nn.FunctionDecorator=_2;var pm=function(){function e(t){var n=t.methodName,r=t.descriptor,i=t.config,s=t.target;fm(this,e),this.methods=["value","initializer"],this.methodName=n,this.descriptor=r,this.config=i,this.target=s,this.functionDecorator=new this.constructor.FunctionDecorator({config:this.getFunctionDecoratorConfig()})}return hm(e,[{key:"getFunctionDecoratorConfig",value:function(){return Vn(Vn({},this.config),{},{methodName:this.methodName})}},{key:"handle_initializer",value:function(n){var r=this.functionDecorator,i=this.target;return function(){return r.run(n.call(i))}}},{key:"handle",value:function(n){return this.functionDecorator.run(n)}},{key:"run",value:function(){var n=this,r=this.methods.filter(function(c){return n.descriptor[c]&&(0,Mi.isFunction)(n.descriptor[c])}),i=Qf(r),s;try{for(i.s();!(s=i.n()).done;){var o=s.value,a=this.descriptor[o];this.descriptor[o]=(0,Mi.isFunction)(this["handle_".concat(o)])?this["handle_".concat(o)](a):this.handle(a)}}catch(c){i.e(c)}finally{i.f()}return this.descriptor}}]),e}();nn.ClassMethodDecorator=pm;Wl(pm,"FunctionDecorator",_2);var g2=function(){function e(t){var n=t.config;fm(this,e),Wl(this,"_unsafeFunctionProps",["caller","callee","arguments"]),this.config=n}return hm(e,[{key:"decorate",value:function(n){return(0,Mi.isClass)(n)?this.decorateClass(n):(0,Mi.isFunction)(n)?this.decorateFunction(n):this.decorateClass(n)}},{key:"getFunctionDecoratorConfig",value:function(n){var r=n.target;return Vn(Vn({},this.config),{},{methodName:r.name})}},{key:"decorateFunction",value:function(n){var r=new this.constructor.ClassMethodDecorator.FunctionDecorator({config:this.getFunctionDecoratorConfig({target:n})}),i=r.run(n),s=Qf(Jc(n)),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;this._unsafeFunctionProps.includes(a)||(this.filterMethodName(a)?i[a]=r.run(n[a]):i[a]=n[a])}}catch(c){s.e(c)}finally{s.f()}return i}},{key:"filterMethodName",value:function(n){return!this._unsafeFunctionProps.includes(n)}},{key:"getClassMethodDecoratorConfig",value:function(){return this.config}},{key:"decorateClass",value:function(n){var r=this,i=Jc(n).filter(function(u){return r.filterMethodName(u)}),s=Qf(i),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,c=m2(a,n);if(c){var l=new this.constructor.ClassMethodDecorator({methodName:a,descriptor:c,target:n,config:this.getClassMethodDecoratorConfig({methodName:a,descriptor:c,target:n})});Object.defineProperty(n,a,l.run())}}}catch(u){s.e(u)}finally{s.f()}return n}}]),e}();nn.ClassDecorator=g2;Wl(g2,"ClassMethodDecorator",pm);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Vs;Object.keys(t).forEach(function(l){l==="default"||l==="__esModule"||l in e&&e[l]===t[l]||Object.defineProperty(e,l,{enumerable:!0,get:function(){return t[l]}})});var n=ft;Object.keys(n).forEach(function(l){l==="default"||l==="__esModule"||l in e&&e[l]===n[l]||Object.defineProperty(e,l,{enumerable:!0,get:function(){return n[l]}})});var r=Nt;Object.keys(r).forEach(function(l){l==="default"||l==="__esModule"||l in e&&e[l]===r[l]||Object.defineProperty(e,l,{enumerable:!0,get:function(){return r[l]}})});var i=La;Object.keys(i).forEach(function(l){l==="default"||l==="__esModule"||l in e&&e[l]===i[l]||Object.defineProperty(e,l,{enumerable:!0,get:function(){return i[l]}})});var s=ks;Object.keys(s).forEach(function(l){l==="default"||l==="__esModule"||l in e&&e[l]===s[l]||Object.defineProperty(e,l,{enumerable:!0,get:function(){return s[l]}})});var o=Di;Object.keys(o).forEach(function(l){l==="default"||l==="__esModule"||l in e&&e[l]===o[l]||Object.defineProperty(e,l,{enumerable:!0,get:function(){return o[l]}})});var a=Yi;Object.keys(a).forEach(function(l){l==="default"||l==="__esModule"||l in e&&e[l]===a[l]||Object.defineProperty(e,l,{enumerable:!0,get:function(){return a[l]}})});var c=nn;Object.keys(c).forEach(function(l){l==="default"||l==="__esModule"||l in e&&e[l]===c[l]||Object.defineProperty(e,l,{enumerable:!0,get:function(){return c[l]}})})})(r2);(function(e){function t(a){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t(a)}Object.defineProperty(e,"__esModule",{value:!0});var n={};e.default=void 0;var r=s(r2);Object.keys(r).forEach(function(a){a==="default"||a==="__esModule"||Object.prototype.hasOwnProperty.call(n,a)||a in e&&e[a]===r[a]||Object.defineProperty(e,a,{enumerable:!0,get:function(){return r[a]}})});function i(a){if(typeof WeakMap!="function")return null;var c=new WeakMap,l=new WeakMap;return(i=function(d){return d?l:c})(a)}function s(a,c){if(!c&&a&&a.__esModule)return a;if(a===null||t(a)!=="object"&&typeof a!="function")return{default:a};var l=i(c);if(l&&l.has(a))return l.get(a);var u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var p=d?Object.getOwnPropertyDescriptor(a,f):null;p&&(p.get||p.set)?Object.defineProperty(u,f,p):u[f]=a[f]}return u.default=a,l&&l.set(a,u),u}var o=r;e.default=o})(Mt);var jl={},zn={},Vl={};Object.defineProperty(Vl,"__esModule",{value:!0});Vl.ASCII_RANGES=void 0;const _D={control:{min:0,max:31},numeric:{min:48,max:57},upperAlpha:{min:65,max:90},lowerAlpha:{min:97,max:122}};Vl.ASCII_RANGES=_D;Object.defineProperty(zn,"__esModule",{value:!0});zn.Mask=void 0;zn.isASCII=vD;zn.setProp=bD;var gD=Vl;function vD(e,t){const{min:n,max:r}=gD.ASCII_RANGES[e];return t<=r&&t>=n}class yD{constructor(t,n){this.pattern=t,this.FormatChars=n,this.parse()}parse(){this._mask=[];let t=!1,n=!1;for(const r of this.pattern){if(t){this._mask.push({type:"constant",optional:n,symbol:r}),t=n=!1;continue}if(r==="\\"){t=!0;continue}if(r==="?"){n=!0;continue}const i=this.FormatChars[r];if(i){this._mask.push({type:"format",format:i,optional:n}),n=!1;continue}n=!1,this._mask.push({type:"constant",symbol:r,optional:n})}}validate(t){let n=-1;for(const r of this._mask){const i=n+1,s=t[i];let o=!1;if(r.type==="constant"&&(o=r.symbol===s),r.type==="format"&&(o=r.format(s)),!o){if(!r.optional)return{check:r,value:s};continue}n=i}if(n!==t.length-1)return{check:null,value:t[n+1]}}}zn.Mask=yD;function bD(e,t,n,{delimiter:r="."}={}){let i=e;t.split(r).forEach((s,o,a)=>{const c=o===a.length-1;if(!(s in i)){if(c)return i[s]=n;const l=a[o+1],u=Number.isInteger(+l);i[s]=u?[]:{}}i=i[s]})}var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.default=void 0;var wD=zn;function ED(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X0(e,t,n){$D(e,t),t.set(e,n)}function $D(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $d(e,t){var n=v2(e,t,"get");return SD(e,n)}function SD(e,t){return t.get?t.get.call(e):t.value}function Q0(e,t,n){var r=v2(e,t,"set");return ID(e,r,n),n}function v2(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function ID(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}var Z0=new WeakMap,lo=new WeakMap;class TD extends Error{constructor(t,n){super(),X0(this,Z0,{writable:!0,value:void 0}),X0(this,lo,{writable:!0,value:void 0}),ED(this,"isValidationError",!0),this.name=this.constructor.name,Q0(this,Z0,t),Q0(this,lo,n)}get errors(){return $d(this,lo)}get message(){return`Validation Failed: ${$d(this,lo).length} error(s) occured
${this.prettify}`}get prettify(){const t={};for(const n of this.errors){const r=`${n.code}: ${n.message}`;(0,wD.setProp)(t,n.path.join("."),r)}return JSON.stringify(t,null,2)}get hash(){return{code:"VALIDATION_ERROR",details:$d(this,lo).map(t=>t.hash)}}toJSON(){return JSON.stringify(this.hash)}}Hs.default=TD;Object.defineProperty(jl,"__esModule",{value:!0});jl.default=void 0;var xD=zn,AD=RD(Hs);function RD(e){return e&&e.__esModule?e:{default:e}}function CD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class OD extends AD.default{constructor(...t){super(...t),CD(this,"isAssemblerError",!0)}get prettify(){const t={};for(const n of this.errors){const r=n.error.errors[0],i=`${r.code}: ${r.message}`;(0,xD.setProp)(t,n.path.join("."),i)}return JSON.stringify(t,null,2)}}jl.default=OD;Object.defineProperty(cm,"__esModule",{value:!0});var eh=cm.default=void 0,rs=Mt,kD=PD(jl),ND=zn;function PD(e){return e&&e.__esModule?e:{default:e}}class DD{constructor({data:t,cache:n,assembler:r}){this.data=t,this.cache=n,this.assembler=r}source(){return[{type:"source",validators:this.data.$validate,placeholder:this.data.$source}]}complex_array(t){const n=[];for(const[r,i]of Object.entries(this.data.$validate))for(const s of this.assembler.parseObject(i,{cache:this.cache})){const o=s.path||[];n.push({type:t.type,inner:{...s,path:[r,...o]},placeholder:{prefix:t.prefix},path:[]})}return n}simple_array(t){return[{type:t.type,validators:this.data.$validate,placeholder:{prefix:t.prefix},path:[]}]}placeholder(t){return[{type:"source",validators:this.data.$validate,placeholder:t.template,condition:t.if}]}constant(){return[{type:"constant",data:this.data}]}object(){const t=[];for(const[n,r]of Object.entries(this.data)){const i=this.assembler.parseObject(r,{cache:this.cache});for(const s of i){const o=s.path||[];t.push({...s,path:[n,...o]})}}return t}}class MD{constructor({command:t,out:n,dict:r,errors:i,assembler:s}){this.command=t,this.out=n,this.dict=r,this.assembler=s,this.errors=i}run({path:t,data:n,validators:r,template:i}){let s=n;if(r)try{s=this.assembler._cottus.compile(r).validate(s)}catch(o){return this.errors.push({error:o,template:i,path:t,data:n})}return(0,ND.setProp)(this.out,t.join("."),s)}constant(){return this.run({path:this.command.path,data:this.command.data,validators:this.command.validators})}source(){const t=(0,rs.fill)(this.command.placeholder,this.dict),n=this.assembler._options.trim?t.trim():t,r=n===""?this.assembler._options.empty:n;return this.run({path:this.command.path,data:r,validators:this.command.validators,template:this.command.placeholder})}simple_array(){const t=Object.keys(this.dict).filter(n=>n.startsWith(this.command.placeholder.prefix));for(let n=0;;n++){const r=`${this.command.placeholder.prefix}${n}`,i=t.find(s=>s===r);if(!i)break;this.run({path:[...this.command.path,n],data:this.dict[i],validators:this.command.validators,template:r})}}complex_array(){const t=Object.keys(this.dict).filter(n=>n.startsWith(this.command.placeholder.prefix));for(let n=0;;n++){const r=`${this.command.placeholder.prefix}${n}`,i=t.filter(o=>o.startsWith(r));if(i.length===0)break;const s={};i.forEach(o=>{s[o.slice(r.length)]=this.dict[o]}),this.assembler.executeCMD({...this.command.inner,path:[...this.command.path,n,...this.command.inner.path]},{out:this.out,dict:{...this.dict,...s},errors:this.errors})}}}let LD=class{constructor(t,n,r={}){this._schema=n,this._cottus=t,this._options={trim:!0,empty:null,...r}}parse(){this._commands=this.parseObject(this._schema)}parseObject(t,{cache:n=[]}={}){const r=new DD({data:t,cache:n,assembler:this});if(~n.indexOf(t))return[];if(n.push(t),(0,rs.isObject)(t)){if(t.$source){const i=[];if((0,rs.isString)(t.$source)&&i.push(...r.source()),(0,rs.isObject)(t.$source)){const s=t.$source,o=s.type||"placeholder";if(!(0,rs.isFunction)(r[o]))throw new Error(`Unrecognized source [${o}]`);i.push(...r[o](s))}return i}return r.object()}return r.constant()}executeCMD(t,{out:n,dict:r,errors:i}){const s=new MD({command:t,out:n,dict:r,errors:i,assembler:this}),o=t.type;if(!(0,rs.isFunction)(s[o]))throw new Error(`Unrecognized command [${o}]`);s[o]()}run(t){const n={},r=[];for(const i of this._commands)this.executeCMD(i,{out:n,dict:t,errors:r});if(r.length>0)throw new kD.default(this._cottus,r);return n}};eh=cm.default=LD;var mm={},Hl={},ht={},Gl={},Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.default=void 0;class FD extends Error{constructor(t){super(),this.payload=t,this.name=this.constructor.name}get hash(){const t={value:this.value,path:this.path,code:this.code,message:this.message};return this.params&&(t.payload=this.params),t}setContext({value:t,path:n}){this.value=t,this.path=n,this.hasContext=!0}}Pe.default=FD;Object.defineProperty(Gl,"__esModule",{value:!0});Gl.default=void 0;var UD=BD(Pe);function BD(e){return e&&e.__esModule?e:{default:e}}function J0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class zD extends UD.default{constructor(...t){super(...t),J0(this,"message","The value is required"),J0(this,"code","REQUIRED")}}Gl.default=zD;var Yl={};Object.defineProperty(Yl,"__esModule",{value:!0});Yl.default=void 0;var qD=WD(Pe);function WD(e){return e&&e.__esModule?e:{default:e}}function eg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class jD extends qD.default{constructor(...t){super(...t),eg(this,"message","The number didn't look like a valid TCP port number [0, 65535]"),eg(this,"code","WRONG_PORT_NUMBER")}}Yl.default=jD;var Kl={};Object.defineProperty(Kl,"__esModule",{value:!0});Kl.default=void 0;var VD=HD(Pe);function HD(e){return e&&e.__esModule?e:{default:e}}function tg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class GD extends VD.default{constructor(...t){super(...t),tg(this,"message","The value have to be plain js object"),tg(this,"code","NOT_OBJECT")}}Kl.default=GD;var Xl={};Object.defineProperty(Xl,"__esModule",{value:!0});Xl.default=void 0;var YD=KD(Pe);function KD(e){return e&&e.__esModule?e:{default:e}}function ng(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class XD extends YD.default{constructor(...t){super(...t),ng(this,"message","The value have to be plain js array"),ng(this,"code","NOT_ARRAY")}}Xl.default=XD;var Ql={};Object.defineProperty(Ql,"__esModule",{value:!0});Ql.default=void 0;var QD=ZD(Pe);function ZD(e){return e&&e.__esModule?e:{default:e}}function rg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class JD extends QD.default{constructor(...t){super(...t),rg(this,"message","The number is not a valid integer"),rg(this,"code","NOT_INTEGER")}}Ql.default=JD;var Zl={};Object.defineProperty(Zl,"__esModule",{value:!0});Zl.default=void 0;var e6=t6(Pe);function t6(e){return e&&e.__esModule?e:{default:e}}function ig(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class n6 extends e6.default{constructor(...t){super(...t),ig(this,"message","The value is not a number or could not be cast to a number"),ig(this,"code","NOT_NUMBER")}}Zl.default=n6;var Jl={};Object.defineProperty(Jl,"__esModule",{value:!0});Jl.default=void 0;var r6=i6(Pe);function i6(e){return e&&e.__esModule?e:{default:e}}function sg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s6 extends r6.default{constructor(...t){super(...t),sg(this,"message","Format not supported"),sg(this,"code","WRONG_FORMAT")}}Jl.default=s6;var eu={};Object.defineProperty(eu,"__esModule",{value:!0});eu.default=void 0;var o6=a6(Pe);function a6(e){return e&&e.__esModule?e:{default:e}}function og(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c6 extends o6.default{constructor(...t){super(...t),og(this,"message","The number is lower than the limit"),og(this,"code","TOO_LOW")}get params(){return{limit:this.payload}}}eu.default=c6;var tu={};Object.defineProperty(tu,"__esModule",{value:!0});tu.default=void 0;var l6=u6(Pe);function u6(e){return e&&e.__esModule?e:{default:e}}function ag(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d6 extends l6.default{constructor(...t){super(...t),ag(this,"message","The value is shorter than the limit"),ag(this,"code","TOO_SHORT")}get params(){return{limit:this.payload}}}tu.default=d6;var nu={};Object.defineProperty(nu,"__esModule",{value:!0});nu.default=void 0;var f6=h6(Pe);function h6(e){return e&&e.__esModule?e:{default:e}}function cg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p6 extends f6.default{constructor(...t){super(...t),cg(this,"message","The value is longer than the limit"),cg(this,"code","TOO_LONG")}get params(){return{limit:this.payload}}}nu.default=p6;var ru={};Object.defineProperty(ru,"__esModule",{value:!0});ru.default=void 0;var m6=_6(Pe);function _6(e){return e&&e.__esModule?e:{default:e}}function lg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g6 extends m6.default{constructor(...t){super(...t),lg(this,"message","The number is higher than the limit"),lg(this,"code","TOO_HIGH")}get params(){return{limit:this.payload}}}ru.default=g6;var iu={};Object.defineProperty(iu,"__esModule",{value:!0});iu.default=void 0;var v6=y6(Pe);function y6(e){return e&&e.__esModule?e:{default:e}}function ug(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let b6=class extends v6.default{constructor(...t){super(...t),ug(this,"message","The value is not a string"),ug(this,"code","NOT_STRING")}};iu.default=b6;var su={};Object.defineProperty(su,"__esModule",{value:!0});su.default=void 0;var w6=E6(Pe);function E6(e){return e&&e.__esModule?e:{default:e}}function dg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $6 extends w6.default{constructor(...t){super(...t),dg(this,"message","The value is not a valid base64 encoded string"),dg(this,"code","NOT_BASE64")}}su.default=$6;var ou={};Object.defineProperty(ou,"__esModule",{value:!0});ou.default=void 0;var S6=I6(Pe);function I6(e){return e&&e.__esModule?e:{default:e}}function fg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T6 extends S6.default{constructor(...t){super(...t),fg(this,"message","string can not be used as legal file path"),fg(this,"code","ILLEGAL_PATH")}}ou.default=T6;var au={};Object.defineProperty(au,"__esModule",{value:!0});au.default=void 0;var x6=A6(Pe);function A6(e){return e&&e.__esModule?e:{default:e}}function hg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R6 extends x6.default{constructor(...t){super(...t),hg(this,"message","The value is invalid URL"),hg(this,"code","INVALID_URL")}}au.default=R6;var cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.default=void 0;var C6=O6(Pe);function O6(e){return e&&e.__esModule?e:{default:e}}function pg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k6 extends C6.default{constructor(...t){super(...t),pg(this,"message","Host not valid"),pg(this,"code","INVALID_HOST")}}cu.default=k6;var lu={};Object.defineProperty(lu,"__esModule",{value:!0});lu.default=void 0;var N6=P6(Pe);function P6(e){return e&&e.__esModule?e:{default:e}}function mg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class D6 extends N6.default{constructor(...t){super(...t),mg(this,"message","The value is not a boolean or could not be cast to a boolean"),mg(this,"code","NOT_BOOLEAN")}}lu.default=D6;var uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.default=void 0;var M6=L6(Pe);function L6(e){return e&&e.__esModule?e:{default:e}}function _g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class F6 extends M6.default{constructor(...t){super(...t),_g(this,"message","The value is not a valid rfc5322 email format"),_g(this,"code","WRONG_EMAIL")}}uu.default=F6;var du={};Object.defineProperty(du,"__esModule",{value:!0});du.default=void 0;var U6=B6(Pe);function B6(e){return e&&e.__esModule?e:{default:e}}function gg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class z6 extends U6.default{constructor(...t){super(...t),gg(this,"message","The value is not a valid UUID v4"),gg(this,"code","NOT_UUID")}}du.default=z6;var fu={};Object.defineProperty(fu,"__esModule",{value:!0});fu.default=void 0;var q6=W6(Pe);function W6(e){return e&&e.__esModule?e:{default:e}}function vg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class j6 extends q6.default{constructor(...t){super(...t),vg(this,"message","The value is not allowed"),vg(this,"code","NOT_ALLOWED_VALUE")}}fu.default=j6;var hu={};Object.defineProperty(hu,"__esModule",{value:!0});hu.default=void 0;var V6=H6(Pe);function H6(e){return e&&e.__esModule?e:{default:e}}function yg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class G6 extends V6.default{constructor(...t){super(...t),yg(this,"message","The value can not be parsed as time unit"),yg(this,"code","WRONG_TIME_UNIT")}}hu.default=G6;var pu={};Object.defineProperty(pu,"__esModule",{value:!0});pu.default=void 0;var Y6=K6(Pe);function K6(e){return e&&e.__esModule?e:{default:e}}function bg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class X6 extends Y6.default{constructor(...t){super(...t),bg(this,"message","The value can not be parsed as cron string"),bg(this,"code","INVALID_CRON")}}pu.default=X6;var mu={};Object.defineProperty(mu,"__esModule",{value:!0});mu.default=void 0;var Q6=Z6(Pe);function Z6(e){return e&&e.__esModule?e:{default:e}}function wg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class J6 extends Q6.default{constructor(...t){super(...t),wg(this,"message","The value is not a valid date"),wg(this,"code","NOT_DATE")}}mu.default=J6;var _u={};Object.defineProperty(_u,"__esModule",{value:!0});_u.default=void 0;var eM=tM(Pe);function tM(e){return e&&e.__esModule?e:{default:e}}function Eg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class nM extends eM.default{constructor(...t){super(...t),Eg(this,"message","Key header invalid"),Eg(this,"code","BAD_ENCRYPTION_HEADER")}}_u.default=nM;var gu={};Object.defineProperty(gu,"__esModule",{value:!0});gu.default=void 0;var rM=iM(Pe);function iM(e){return e&&e.__esModule?e:{default:e}}function $g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class sM extends rM.default{constructor(...t){super(...t),$g(this,"message","Key footer invalid"),$g(this,"code","BAD_ENCRYPTION_FOOTER")}}gu.default=sM;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BAD_ENCRYPTION_FOOTER",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"BAD_ENCRYPTION_HEADER",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"ILLEGAL_PATH",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"INVALID_CRON",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,"INVALID_HOST",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"INVALID_URL",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"NOT_ALLOWED_VALUE",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"NOT_ARRAY",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"NOT_BASE64",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"NOT_BOOLEAN",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"NOT_DATE",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(e,"NOT_INTEGER",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"NOT_NUMBER",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"NOT_OBJECT",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"NOT_STRING",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"NOT_UUID",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"REQUIRED",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"TOO_HIGH",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"TOO_LONG",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"TOO_LOW",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"TOO_SHORT",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"WRONG_EMAIL",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"WRONG_FORMAT",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"WRONG_PORT_NUMBER",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"WRONG_TIME_UNIT",{enumerable:!0,get:function(){return $.default}});var t=C(Gl),n=C(Yl),r=C(Kl),i=C(Xl),s=C(Ql),o=C(Zl),a=C(Jl),c=C(eu),l=C(tu),u=C(nu),d=C(ru),f=C(iu),p=C(su),g=C(ou),h=C(au),m=C(cu),_=C(lu),v=C(uu),y=C(du),b=C(fu),$=C(hu),S=C(pu),I=C(mu),x=C(_u),A=C(gu);function C(N){return N&&N.__esModule?N:{default:N}}})(ht);var Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.default=void 0;var oM=Mt;function aM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y2{constructor({params:t,validator:n}){this.validator=n,this.cottus=this.validator._cottus,this.params=t}createNestedValidator(t,n){return this.cottus.compile(t,{parent:this.validator,key:n})}createValidator(t){return this.cottus.compile(t,{parent:this.validator,notLink:!0})}createChildRule(t){return new t({validator:this.validator})}run(t){const{defaultError:n,errors:r}=this.constructor;if(this.constructor.isOptional&&!(0,oM.isValue)(t))return t;try{return this.alias?this.createValidator(this.alias).validate(t):this.validate(t)}catch(s){throw n&&!(r!=null&&r.some(o=>s instanceof o))?n(s):s}}}Xe.default=y2;aM(y2,"isOptional",!0);Object.defineProperty(Hl,"__esModule",{value:!0});Hl.default=void 0;var cM=Mt,lM=ht,uM=dM(Xe);function dM(e){return e&&e.__esModule?e:{default:e}}function b2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _m extends uM.default{validate(t){if(!(0,cM.isValue)(t))throw new lM.REQUIRED;return t}}Hl.default=_m;b2(_m,"schema","required");b2(_m,"isOptional",!1);var vu={};Object.defineProperty(vu,"__esModule",{value:!0});vu.default=void 0;var w2=ht,fM=hM(Xe);function hM(e){return e&&e.__esModule?e:{default:e}}function yu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class bu extends fM.default{constructor(...t){super(...t),yu(this,"alias",["integer",{min:0},{max:65535}])}}vu.default=bu;yu(bu,"schema","port");yu(bu,"errors",[w2.NOT_NUMBER]);yu(bu,"defaultError",()=>new w2.WRONG_PORT_NUMBER);var wu={};Object.defineProperty(wu,"__esModule",{value:!0});wu.default=void 0;var pM=Mt,mM=ht,_M=gM(Xe);function gM(e){return e&&e.__esModule?e:{default:e}}function vM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E2 extends _M.default{validate(t){if(!(0,pM.isObject)(t))throw new mM.NOT_OBJECT;const n={};for(const r of Object.keys(this.params)){const i=this.createNestedValidator(this.params[r],r);n[r]=i.validate(t[r])}return n}}wu.default=E2;vM(E2,"schema","attributes");var Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.default=void 0;var yM=Mt,bM=ht,wM=EM(Xe);function EM(e){return e&&e.__esModule?e:{default:e}}function $M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $2 extends wM.default{validate(t){if(!(0,yM.isArray)(t))throw new bM.NOT_ARRAY;const n=[],r=this.params;for(const i of t){const s=this.createNestedValidator(r,n.length);n.push(s.validate(i))}return n}}Eu.default=$2;$M($2,"schema","every");var $u={},Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.default=void 0;var Sg=Mt,SM=ht,IM=TM(Xe);function TM(e){return e&&e.__esModule?e:{default:e}}function xM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S2 extends IM.default{validate(t){const n=(0,Sg.isString)(t)?Number.parseFloat(t):t;if(!(0,Sg.isNumber)(n))throw new SM.NOT_NUMBER;return n}}Gs.default=S2;xM(S2,"schema","number");Object.defineProperty($u,"__esModule",{value:!0});$u.default=void 0;var AM=ht,RM=I2(Gs),CM=I2(Xe);function I2(e){return e&&e.__esModule?e:{default:e}}function OM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T2 extends CM.default{validate(t){const r=this.createChildRule(RM.default).validate(t);if(!Number.isInteger(r))throw new AM.NOT_INTEGER;return r}}$u.default=T2;OM(T2,"schema","integer");var Su={};Object.defineProperty(Su,"__esModule",{value:!0});Su.default=void 0;var Sd=Mt,Za=ht,kM=NM(Xe);function NM(e){return e&&e.__esModule?e:{default:e}}function PM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x2 extends kM.default{validate(t){const n=this.params;if((0,Sd.isNumber)(t)){if(t<n)throw new Za.TOO_LOW(n);return t}if((0,Sd.isString)(t)){if(t.length<n)throw new Za.TOO_SHORT(n);return t}if((0,Sd.isArray)(t)){if(t.length<n)throw new Za.TOO_SHORT(n);return t}throw new Za.WRONG_FORMAT}}Su.default=x2;PM(x2,"schema","min");var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.default=void 0;var Id=Mt,Ja=ht,DM=MM(Xe);function MM(e){return e&&e.__esModule?e:{default:e}}function LM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A2 extends DM.default{validate(t){const n=this.params;if((0,Id.isNumber)(t)){if(t>n)throw new Ja.TOO_HIGH(n);return t}if((0,Id.isString)(t)){if(t.length>n)throw new Ja.TOO_LONG(n);return t}if((0,Id.isArray)(t)){if(t.length>n)throw new Ja.TOO_LONG(n);return t}throw new Ja.WRONG_FORMAT}}Iu.default=A2;LM(A2,"schema","max");var cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.default=void 0;var FM=Mt,UM=ht,BM=zM(Xe);function zM(e){return e&&e.__esModule?e:{default:e}}function qM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R2 extends BM.default{validate(t){if(!(0,FM.isString)(t))throw new UM.NOT_STRING;return t}}cr.default=R2;qM(R2,"schema","string");var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.default=void 0;var WM=ht,jM=C2(cr),VM=C2(Xe);function C2(e){return e&&e.__esModule?e:{default:e}}function HM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class O2 extends VM.default{validate(t){const r=this.createChildRule(jM.default).validate(t);if(!(Buffer.from(r,"base64").toString("base64")===r))throw new WM.NOT_BASE64;return r}}Fa.default=O2;HM(O2,"schema","base64");var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});Tu.default=void 0;var GM=Mt,Ig=ht,YM=gm(Fa),KM=gm(cr),XM=gm(Xe);function gm(e){return e&&e.__esModule?e:{default:e}}function QM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k2 extends XM.default{validate(t){const r=this.createChildRule(KM.default).validate(t),i=r.trim().split(`
`),s=i[0],o=(0,GM.last)(i);if(!s.startsWith("-----BEGIN")||!s.endsWith("KEY-----"))throw new Ig.BAD_ENCRYPTION_HEADER;if(!o.startsWith("-----END")||!o.endsWith("KEY-----"))throw new Ig.BAD_ENCRYPTION_FOOTER;const a=i.slice(1,-2).join("");return this.createChildRule(YM.default).validate(a),r}}Tu.default=k2;QM(k2,"schema",["encryption_key","encryptionKey"]);var xu={};Object.defineProperty(xu,"__esModule",{value:!0});xu.default=void 0;var ZM=ht,JM=eL(Xe);function eL(e){return e&&e.__esModule?e:{default:e}}function tL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const nL=new Set([1,"true",!0]),rL=new Set([0,"false",!1]);class N2 extends JM.default{validate(t){if(nL.has(t))return!0;if(rL.has(t))return!1;throw new ZM.NOT_BOOLEAN}}xu.default=N2;tL(N2,"schema","boolean");var Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.default=void 0;var Tg=ht,Td=zn,iL=P2(cr),sL=P2(Xe);function P2(e){return e&&e.__esModule?e:{default:e}}function oL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const aL=new Set(["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"]),cL=new Set(["(",")","<","[",":","@",",",">","]",";","\\",".",'"']);function lL(e){return e>=33&&e<=90||e>=94&&e<=126}function xg(e){return[...e].every((t,n)=>{const r=t.codePointAt(0);return!!((0,Td.isASCII)("numeric",r)||(0,Td.isASCII)("upperAlpha",r)||(0,Td.isASCII)("lowerAlpha",r)||aL.has(t)||t==="."&&n!==0&&n!==e.length-1)})}function uL(e){return e[0]==='"'&&e[e.length-1]==='"'?[...e.slice(1,-2)].some(n=>cL.has(n)):!1}class D2 extends sL.default{validate(t){const r=this.createChildRule(iL.default).validate(t),[i,...s]=r.split("@").reverse(),o=s.reverse().join("@");if(!xg(o)&&!uL(o))throw new Tg.WRONG_EMAIL("LOCAL-PART");if(!xg(i)&&![...i].every(a=>lL(a.codePointAt(0))))throw new Tg.WRONG_EMAIL("DOMAIN-PART");return r}}Au.default=D2;oL(D2,"schema","email");var Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.default=void 0;var dL=ht,fL=zn,hL=M2(cr),pL=M2(Xe);function M2(e){return e&&e.__esModule?e:{default:e}}function mL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _L=new Set("0123456789abcdef"),gL={f:e=>_L.has(e),v:e=>e==="4"},vL=new fL.Mask("ffffffff-ffff-vfff-ffff-ffffffffffff",gL);class L2 extends pL.default{validate(t){const r=this.createChildRule(hL.default).validate(t);if(vL.validate(r))throw new dL.NOT_UUID;return r}}Ru.default=L2;mL(L2,"schema","uuid");var Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.default=void 0;var yL=ht,bL=wL(Xe);function wL(e){return e&&e.__esModule?e:{default:e}}function EL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class F2 extends bL.default{validate(t){if(!this.params.includes(t))throw new yL.NOT_ALLOWED_VALUE;return t}}Cu.default=F2;EL(F2,"schema","enum");var Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});Ou.default=void 0;var $L=Mt,SL=IL(Xe);function IL(e){return e&&e.__esModule?e:{default:e}}function U2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class vm extends SL.default{validate(t){return(0,$L.isValue)(t)?t:this.params}}Ou.default=vm;U2(vm,"schema","default");U2(vm,"isOptional",!1);var ku={};Object.defineProperty(ku,"__esModule",{value:!0});ku.default=void 0;var Ag=Mt,th=ht,Rg=zn,TL=B2(Gs),xL=B2(Xe);function B2(e){return e&&e.__esModule?e:{default:e}}function AL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RL(e){const t=[...e].findIndex(n=>{const r=n.codePointAt(0);return(0,Rg.isASCII)("upperAlpha",r)||(0,Rg.isASCII)("lowerAlpha",r)});return~t?{amount:e.slice(0,t).trim(),unit:e.slice(t).trim().toLowerCase()}:{amount:e.trim()}}const z2=1e3,CL=60,q2=CL*z2,OL=60,W2=OL*q2,kL=24,Nu=W2*kL,NL=24,PL=Nu*NL,DL=30,ML=Nu*DL,LL=365,FL=Nu*LL,j2={words:["milliseconds","millisecond","msecs","msec","ms"],multiplier:1},UL=[{words:["years","year","yrs","yr","y"],multiplier:FL},{words:["months","month","mnth","mo","mâ€™th","m-th","mth"],multiplier:ML},{words:["weeks","week","w"],multiplier:PL},{words:["days","day","d"],multiplier:Nu},{words:["hours","hour","hrs","hr","h"],multiplier:W2},{words:["minutes","minute","mins","min","m"],multiplier:q2},{words:["seconds","second","secs","sec","s"],multiplier:z2},j2];function BL(e,t){const n=t?UL.find(r=>r.words.includes(t)):j2;if(!n)throw new th.WRONG_TIME_UNIT;return e*n.multiplier}class V2 extends xL.default{validate(t){if((0,Ag.isNumber)(t))return t;if((0,Ag.isString)(t)){const n=this.createChildRule(TL.default),{amount:r,unit:i}=RL(t);if(!r)throw new th.WRONG_TIME_UNIT;const s=n.validate(r);return BL(s,i)}throw new th.WRONG_FORMAT}}ku.default=V2;AL(V2,"schema",["time_unit","timeUnit"]);var Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.default=void 0;var el=ht,zL=ym(Hs),qL=ym(Xe),WL=ym(cr);function ym(e){return e&&e.__esModule?e:{default:e}}function jL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VL(e){const t=[],n=[];for(const r of e.split(",")){const[i,s,...o]=r.split("/");if(!i||o.length>0)throw new el.INVALID_CRON("INVALID_RANGE");s&&n.push(s),i!=="*"&&t.push(...i.split("-"))}return{values:t,ranges:n}}function HL([e,t,n,r,i,...s]){if(s.length>0)throw new el.INVALID_CRON("EXCESSIVE_PART");const o={ranges:[]};return Object.entries({minute:e,hour:t,dayOfMonth:n,month:r,dayOfWeek:i}).forEach(([a,c])=>{if(!c)throw new el.INVALID_CRON({key:"REQUIRED"});const{values:l,ranges:u}=VL(c);o[a]=l,o.ranges.push(...u)}),o}const GL=["jan","feb","mar","apr","ma","jun","jul","aug","sep","oct","nov","dec"],YL=["mon","tue","wed","thu","fri","sat","sun"],KL={ranges:{every:["integer",{min:1}]},minute:{every:["integer",{min:0},{max:59}]},hour:{every:["integer",{min:0},{max:23}]},dayOfMonth:{every:["integer",{min:1},{max:31}]},month:{every:{or:[["integer",{min:1},{max:12}],["to_lower",{enum:GL}]]}},dayOfWeek:{every:{or:[["integer",{min:0},{max:6}],["to_lower",{enum:YL}]]}}};class H2 extends qL.default{validate(t){const i=this.createChildRule(WL.default).validate(t).trim().split(/\s+/),s=HL(i),o=this.createNestedValidator({attributes:KL});try{o.validate(s)}catch(a){throw a instanceof zL.default?new el.INVALID_CRON(a):a}return i.join(" ")}}Pu.default=H2;jL(H2,"schema","cron");var Du={};Object.defineProperty(Du,"__esModule",{value:!0});Du.default=void 0;var XL=Mt,QL=ZL(Xe);function ZL(e){return e&&e.__esModule?e:{default:e}}function JL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class G2 extends QL.default{validate(t){const n=[];for(const r of this.params){const i=this.createValidator(r);try{return i.validate(t)}catch(s){n.push(s)}}throw(0,XL.last)(n)}}Du.default=G2;JL(G2,"schema","or");var Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});Mu.default=void 0;var e7=Y2(cr),t7=Y2(Xe);function Y2(e){return e&&e.__esModule?e:{default:e}}function n7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class K2 extends t7.default{validate(t){return this.createChildRule(e7.default).validate(t).toLowerCase()}}Mu.default=K2;n7(K2,"schema",["to_lowercase","to_lower"]);var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});Lu.default=void 0;var r7=ht,i7=s7(Xe);function s7(e){return e&&e.__esModule?e:{default:e}}function o7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class X2 extends i7.default{validate(t){const n=new Date(t);if(Number.isNaN(n.getTime()))throw new r7.NOT_DATE;return n}}Lu.default=X2;o7(X2,"schema","date");Object.defineProperty(mm,"__esModule",{value:!0});var nh=mm.default=void 0,a7=rt(Hl),c7=rt(vu),l7=rt(wu),u7=rt(Eu),d7=rt($u),f7=rt(Gs),h7=rt(Su),p7=rt(Iu),m7=rt(cr),_7=rt(Fa),g7=rt(Tu),v7=rt(xu),y7=rt(Au),b7=rt(Ru),w7=rt(Cu),E7=rt(Ou),$7=rt(ku),S7=rt(Pu),I7=rt(Du),T7=rt(Mu),x7=rt(Lu);function rt(e){return e&&e.__esModule?e:{default:e}}var A7=[a7.default,c7.default,d7.default,f7.default,l7.default,u7.default,h7.default,p7.default,m7.default,_7.default,g7.default,v7.default,y7.default,b7.default,w7.default,E7.default,$7.default,S7.default,I7.default,T7.default,x7.default];nh=mm.default=A7;var bm={},Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});Fu.default=void 0;var ec=Mt,R7=Q2(Pe),Cg=Q2(Hs);function Q2(e){return e&&e.__esModule?e:{default:e}}class C7{constructor(t,n,r){this._schema=n,this._cottus=t,this._hierarchy=[],r&&(this._hierarchy=r.parent._nestedHierarhy(r.key),r.notLink||(this.parent=r.parent))}_nestedHierarhy(t){const n=[...this._hierarchy];return(0,ec.isValue)(t)&&n.push(t),n}get isNested(){return!!this.parent}_sendNestedErrors(t){if(this.isNested)return this.parent._receiveNestedErrors(t);this.nestedErrors.push(...t)}_receiveNestedErrors(t){if(this.isNested)return this.parent._sendNestedErrors(t);this.nestedErrors.push(...t)}parse(){this.rules=[],(0,ec.toArray)(this._schema).forEach(t=>{let n=null,r=null;const i=(0,ec.isString)(t),s=(0,ec.isObject)(t)&&Object.keys(t).length===1;i&&(n=t),s&&(n=Object.keys(t)[0],r=Object.values(t)[0]);const o=this._cottus.rules[n];if(!o)throw new Error(`Rule [${n}] not found`);this.rules.push(new o({params:r,validator:this}))})}validate(t){this.nestedErrors=[];let n=t;const r=[];for(const i of this.rules)try{n=i.run(n)}catch(s){if(s instanceof R7.default){s.hasContext||s.setContext({value:n,path:this._hierarchy}),r.push(s);break}throw s}if(r.length>0){if(this.isNested)return this._sendNestedErrors(r);throw new Cg.default(this._cottus,r)}if(this.nestedErrors.length>0)throw new Cg.default(this._cottus,this.nestedErrors);return n}}Fu.default=C7;Object.defineProperty(bm,"__esModule",{value:!0});var rh=bm.default=void 0,O7=Mt,k7=N7(Fu);function N7(e){return e&&e.__esModule?e:{default:e}}let P7=class{constructor(t={}){this.rules={},this.addRules(t.rules||[])}compile(t,n){const r=new k7.default(this,t,n);return r.parse(),r}addRules(t){t.forEach(n=>{(0,O7.toArray)(n.schema).forEach(r=>this.rules[r]=n)})}addRule(t){this.addRules([t])}};rh=bm.default=P7;var D7={PUBLIC_FIREBASE_API_KEY:"AIzaSyBvEGZmsty8Qb0TDo_FjgrOWcPGWpjNCd0",PUBLIC_FIREBASE_AUTH_DOMAIN:"tastoria-7f59f.firebaseapp.com",PUBLIC_FIREBASE_PROJECT_ID:"tastoria-7f59f",PUBLIC_FIREBASE_STORAGE_BUCKET:"tastoria-7f59f.appspot.com",PUBLIC_FIREBASE_MESSAGING_SENDER_ID:"217615939634",PUBLIC_FIREBASE_APPID:"1:217615939634:web:f65b3984baa2c93320642b",PUBLIC_FIREBASE_MEASUREMENT_ID:"G-NSVDB2SDWR",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!0};const M7=eh.default??eh,L7=nh.default||nh,F7=rh.default||rh,U7=new F7({rules:L7}),B7=D7,z7=e=>({apiKey:{$source:`{${e}_API_KEY}`,$validate:["required","string"]},authDomain:{$source:`{${e}_AUTH_DOMAIN}`,$validate:["required","string"]},projectId:{$source:`{${e}_PROJECT_ID}`,$validate:["required","string"]},storageBucket:{$source:`{${e}_STORAGE_BUCKET}`,$validate:["required","string"]},messagingSenderId:{$source:`{${e}_MESSAGING_SENDER_ID}`,$validate:["required","string"]},appId:{$source:`{${e}_APPID}`,$validate:["required","string"]},measurementId:{$source:`{${e}_MEASUREMENT_ID}`,$validate:["required","string"]}}),q7={firebase:z7("PUBLIC_FIREBASE")},Z2=new M7(U7,q7);Z2.parse();const W7=Z2.run(B7);function Og(e){return{id:e.id,title:e.title,image:e.image||null,categories:e.categories||[],tags:e.tags||[],description:e.description||null,ingredients:e.ingredients||[],steps:e.steps||[],url:e.url||null,time:e.time||{},quantity:e.quantity||null,comment:e.comment||null,language:e.language||null,version:e.version,favorite:e.favorite||!1,visits:e.visits||0,rating:e.rating||null,createdAt:e.createdAt,updatedAt:e.updatedAt,deletedAt:e.deletedAt}}function xd(e){const t=e.metadata;return{id:e.uid,email:e.email,fullName:e.displayName,avatar:e.photoURL,lastLoginAt:t.lastSignInTime,createdAt:t.creationTime}}var ii={},J2={},Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.getEscapedRegExp=H7;Ys.getPropertyDescriptor=j7;Ys.pause=V7;function j7(e,t){var n;do n=Object.getOwnPropertyDescriptor(e,t);while(!n&&(e=Object.getPrototypeOf(e)));return n}function V7(e){return new Promise(function(t){return setTimeout(t,e)})}function H7(e){var t=/[$()*+.?[\\\]^{|}]/g;return e.replace(t,"\\$&")}var pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.isArray=Q7;pt.isBoolean=e9;pt.isClass=K7;pt.isFunction=eE;pt.isGetter=n9;pt.isNumber=J7;pt.isObject=X7;pt.isPromise=Z7;pt.isRegexp=r9;pt.isStream=t9;pt.isString=Y7;pt.isValue=$n;var G7=Ys;function Y7(e){return $n(e)&&Object.prototype.toString.call(e)==="[object String]"}function K7(e){return $n(e)&&typeof e=="function"&&/class/i.test(e.toString())}function eE(e){return $n(e)&&["[object Function]","[object AsyncFunction]"].includes(Object.prototype.toString.call(e))}function X7(e){return $n(e)&&Object.prototype.toString.call(e)==="[object Object]"}function Q7(e){return $n(e)&&Object.prototype.toString.call(e)==="[object Array]"}function Z7(e){return $n(e)&&Object.prototype.toString.call(e)==="[object Promise]"}function $n(e){return e!=null}function J7(e){return $n(e)&&Object.prototype.toString.call(e)==="[object Number]"&&!Number.isNaN(e)}function e9(e){return $n(e)&&Object.prototype.toString.call(e)==="[object Boolean]"}function t9(e){return $n(e)&&eE(e.pipe)}function n9(e,t){var n;return $n(e)?!!((n=(0,G7.getPropertyDescriptor)(e,t))!==null&&n!==void 0&&n.get):!1}function r9(e){return $n(e)&&Object.prototype.toString.call(e)==="[object RegExp]"}var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.existanceFilter=void 0;Pt.flatten=nE;Pt.groupBy=d9;Pt.isUnique=l9;Pt.last=u9;Pt.passFilter=void 0;Pt.toArray=wm;Pt.uniqueFilter=Em;Pt.uniqueIdenticFilter=Pt.uniqueIdFilter=void 0;var ih=pt;function tE(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i9(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function i9(e,t){if(e){if(typeof e=="string")return kg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kg(e,t)}}function kg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wm(e){return(0,ih.isValue)(e)?(0,ih.isArray)(e)?e:[e]:[]}function Em(e){return function(n,r,i){var s=e?i.findIndex(function(o){return e(n,o)}):i.indexOf(n);return s===r}}var s9=Em(function(e,t){return e.id===t.id});Pt.uniqueIdFilter=s9;var o9=Em(function(e,t){return e===t});Pt.uniqueIdenticFilter=o9;var a9=function(t){return(0,ih.isValue)(t)};Pt.existanceFilter=a9;var c9=function(){return!0};Pt.passFilter=c9;function nE(e){return wm(e).reduce(function(t,n){return t.concat(Array.isArray(n)?nE(n):n)},[])}function l9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.field,r=t.ignoreEmpty,i=new Map,s=tE(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,c=!r&&n?a[n]:a;if(!(r&&c==null)){if(i.has(c))return!1;i.set(c)}}}catch(l){s.e(l)}finally{s.f()}return!0}function u9(e){return e[e.length-1]}function d9(e,t){var n=wm(t),r={},i=tE(e),s;try{var o=function(){var c=s.value,l=n.map(function(u){return c[u]}).join(".");r[l]||(r[l]=[]),r[l].push(c)};for(i.s();!(s=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r}var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.cleanUndefined=rE;Ua.clone=f9;Ua.isEmpty=h9;var sh=pt;function rE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.cache,r=n===void 0?new Set:n;r.add(e);for(var i=0,s=Object.keys(e);i<s.length;i++){var o=s[i];if(e[o]===void 0&&delete e[o],(0,sh.isObject)(e[o])){if(r.has(e[o]))continue;rE(e[o],{cache:r})}}return e}function f9(e){return JSON.parse(JSON.stringify(e))}function h9(e){var t=(0,sh.isObject)(e)&&Object.keys(e).length===0,n=(0,sh.isArray)(e)&&e.keys(e).length===0;return t||n}var jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.startBenchmark=jr.getBenchmark=jr.NS_PER_MS=void 0;var iE=pt,Ad,Rd,Cd,sE=1e6;jr.NS_PER_MS=sE;var $m=5;function p9(e){var t=process.hrtime.bigint(),n=t-e,r=n/BigInt(sE);return Number(r).toFixed($m)}function m9(){return process.hrtime.bigint()}function _9(){return performance.now()}function g9(e){var t=performance.now()-e;return t.toFixed($m)}function v9(){return new Date}function y9(e){var t=Date.now()-e;return t.toFixed($m)}var oE=typeof process<"u"&&(0,iE.isFunction)((Ad=process)===null||Ad===void 0||(Rd=Ad.hrtime)===null||Rd===void 0?void 0:Rd.bigint),aE=typeof performance<"u"&&(0,iE.isFunction)((Cd=performance)===null||Cd===void 0?void 0:Cd.now),b9=oE&&p9||aE&&g9||y9;jr.getBenchmark=b9;var w9=oE&&m9||aE&&_9||v9;jr.startBenchmark=w9;var Li={};Object.defineProperty(Li,"__esModule",{value:!0});Li.random=Li.Random=void 0;function ra(e){"@babel/helpers - typeof";return ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ra(e)}function E9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ng(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S9(r.key),r)}}function $9(e,t,n){return t&&Ng(e.prototype,t),n&&Ng(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S9(e){var t=I9(e,"string");return ra(t)==="symbol"?t:String(t)}function I9(e,t){if(ra(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ra(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cE=function(){function e(){E9(this,e)}return $9(e,[{key:"uniform",value:function(n,r){return Math.random()*(n-r)+r}},{key:"int",value:function(n,r){return Math.floor(this.uniform(n,r))}}]),e}();Li.Random=cE;var T9=new cE;Li.random=T9;var Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.fill=B9;Ki.getProp=uE;Ki.retry=F9;Ki.searchFor=z9;Ki.setProp=U9;var ko=pt,x9=Li;function A9(e){return k9(e)||O9(e)||C9(e)||R9()}function R9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C9(e,t){if(e){if(typeof e=="string")return Pg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pg(e,t)}}function Pg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k9(e){if(Array.isArray(e))return e}var lE=Symbol("myrmidon_retry_aborted");function Dg(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Error("Unknown Retry Abortion");throw e[lE]=!0,e}var N9=.5,P9=2,D9=2;function M9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if((0,ko.isNumber)(e))return e;if((0,ko.isFunction)(e))return e(t);if((0,ko.isObject)(e)){var n=e.randomize?x9.random.uniform(N9,P9):1;return Math.min(n*e.min*Math.pow(e.factor||D9,t),e.max)}}function L9(e,t,n){var r=n.retries,i=n.next;if(e[lE]||t===r)throw e;i()}function F9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.onRetry,r=n===void 0?L9:n,i=t.retries,s=i===void 0?10:i,o=t.timeout,a=o===void 0?100:o;return new Promise(function(c,l){function u(p){try{var g=e(Dg,p);Promise.resolve(g).then(c).catch(function(h){return f(h,p)})}catch(h){f(h,p)}}function d(p){setTimeout(function(){return u(p+1)},M9(a,p+1))}function f(p,g){try{r(p,g,{retries:s,abort:Dg,next:function(){return d(g)}})}catch(h){l(h)}}u(0)})}function uE(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.delimeter,i=r===void 0?".":r;return t.split(i).reduce(function(s,o){try{return s[o]}catch{return null}},e)}function U9(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=r.delimiter,s=i===void 0?".":i,o=e;return t.split(s).forEach(function(a,c,l){var u=c===l.length-1;if(!(a in o)){if(u)return o[a]=n;var d=l[c+1],f=Number.isInteger(+d);o[a]=f?[]:{}}o=o[a]}),e}function B9(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.delimiters,i=r===void 0?["{","}"]:r,s=n.regExp,o=s||new RegExp("".concat(i[0],"(.+?)").concat(i[1]),"g"),a,c=e;(a=o.exec(e))!==null;){var l=a[1].trim();if(l){var u=uE(t,l)||"";c=c.replace(a[0],u)}}return c}function z9(e,t){var n=(0,ko.isRegexp)(t)?t.flags:"",r=new RegExp((0,ko.isRegexp)(t)?t.source:t,n.includes("g")?n:"".concat(n,"g")),i=[],s;do if(s=r.exec(e),s){var o=s,a=A9(o),c=a[0],l=a.slice(1),u=s,d=u.index,f=u.input;i.push({full:c,captures:l,index:d,input:f})}while(s);return i}var rn={};function ia(e){"@babel/helpers - typeof";return ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ia(e)}Object.defineProperty(rn,"__esModule",{value:!0});rn.FunctionDecorator=rn.ClassMethodDecorator=rn.ClassDecorator=void 0;rn.getMethodDescriptor=hE;rn.rawMethodNames=rn.getMethodNames=void 0;var Fi=pt;function oh(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=fE(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Mg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mg(Object(n),!0).forEach(function(r){Uu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uu(e,t,n){return t=dE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dE(r.key),r)}}function Im(e,t,n){return t&&Lg(e.prototype,t),n&&Lg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dE(e){var t=q9(e,"string");return ia(t)==="symbol"?t:String(t)}function q9(e,t){if(ia(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ia(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ah(e){return V9(e)||j9(e)||fE(e)||W9()}function W9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fE(e,t){if(e){if(typeof e=="string")return ch(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ch(e,t)}}function j9(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V9(e){if(Array.isArray(e))return ch(e)}function ch(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H9=function e(t){return t&&t!==Object.prototype&&[].concat(ah(Object.getOwnPropertyNames(t).filter(function(n){return(0,Fi.isGetter)(t,n)||(0,Fi.isFunction)(t[n])})),ah(e(Object.getPrototypeOf(t))||[]))},tl=function(t){return ah(new Set(H9(t)))};rn.rawMethodNames=tl;var G9=function(t){return tl(t).filter(function(n){return n!=="constructor"&&n.indexOf("_")!==0})};rn.getMethodNames=G9;function hE(e,t){return t.hasOwnProperty(e)?Object.getOwnPropertyDescriptor(t,e):{configurable:!0,enumerable:!0,writable:!0,value:t[e]}}var pE=function(){function e(t){var n=t.config;Sm(this,e),this.config=n}return Im(e,[{key:"prepareData",value:function(n){var r=n.context,i=n.methodName;return{context:r,methodName:i,config:this.config}}},{key:"onParams",value:function(n){var r=n.params;return r}},{key:"onSuccess",value:function(n){var r=n.result;return r}},{key:"onError",value:function(n){throw n}},{key:"run",value:function(n){var r=this,i=r.config.methodName||n.name;return function(){for(var s=r.prepareData({context:this,methodName:i,config:r.config}),o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];var l=r.onParams(Hn({params:a},s)),u=Hn({rawParams:a,params:l},s);try{var d=n==null?void 0:n.apply(this,l);return(0,Fi.isPromise)(d)?d.then(function(f){return r.onSuccess(Hn({result:f},u))}).catch(function(f){return r.onError(Hn({error:f},u))}):r.onSuccess(Hn({result:d},u))}catch(f){r.onError(Hn({error:f},u))}}}}]),e}();rn.FunctionDecorator=pE;var Tm=function(){function e(t){var n=t.methodName,r=t.descriptor,i=t.config,s=t.target;Sm(this,e),this.methods=["value","initializer"],this.methodName=n,this.descriptor=r,this.config=i,this.target=s,this.functionDecorator=new this.constructor.FunctionDecorator({config:this.getFunctionDecoratorConfig()})}return Im(e,[{key:"getFunctionDecoratorConfig",value:function(){return Hn(Hn({},this.config),{},{methodName:this.methodName})}},{key:"handle_initializer",value:function(n){var r=this.functionDecorator,i=this.target;return function(){return r.run(n.call(i))}}},{key:"handle",value:function(n){return this.functionDecorator.run(n)}},{key:"run",value:function(){var n=this,r=this.methods.filter(function(c){return n.descriptor[c]&&(0,Fi.isFunction)(n.descriptor[c])}),i=oh(r),s;try{for(i.s();!(s=i.n()).done;){var o=s.value,a=this.descriptor[o];this.descriptor[o]=(0,Fi.isFunction)(this["handle_".concat(o)])?this["handle_".concat(o)](a):this.handle(a)}}catch(c){i.e(c)}finally{i.f()}return this.descriptor}}]),e}();rn.ClassMethodDecorator=Tm;Uu(Tm,"FunctionDecorator",pE);var mE=function(){function e(t){var n=t.config;Sm(this,e),Uu(this,"_unsafeFunctionProps",["caller","callee","arguments"]),this.config=n}return Im(e,[{key:"decorate",value:function(n){return(0,Fi.isClass)(n)?this.decorateClass(n):(0,Fi.isFunction)(n)?this.decorateFunction(n):this.decorateClass(n)}},{key:"getFunctionDecoratorConfig",value:function(n){var r=n.target;return Hn(Hn({},this.config),{},{methodName:r.name})}},{key:"decorateFunction",value:function(n){var r=new this.constructor.ClassMethodDecorator.FunctionDecorator({config:this.getFunctionDecoratorConfig({target:n})}),i=r.run(n),s=oh(tl(n)),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;this._unsafeFunctionProps.includes(a)||(this.filterMethodName(a)?i[a]=r.run(n[a]):i[a]=n[a])}}catch(c){s.e(c)}finally{s.f()}return i}},{key:"filterMethodName",value:function(n){return!this._unsafeFunctionProps.includes(n)}},{key:"getClassMethodDecoratorConfig",value:function(){return this.config}},{key:"decorateClass",value:function(n){var r=this,i=tl(n).filter(function(u){return r.filterMethodName(u)}),s=oh(i),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,c=hE(a,n);if(c){var l=new this.constructor.ClassMethodDecorator({methodName:a,descriptor:c,target:n,config:this.getClassMethodDecoratorConfig({methodName:a,descriptor:c,target:n})});Object.defineProperty(n,a,l.run())}}}catch(u){s.e(u)}finally{s.f()}return n}}]),e}();rn.ClassDecorator=mE;Uu(mE,"ClassMethodDecorator",Tm);var Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.mean=_E;Ks.quantile=K9;Ks.std=Y9;Ks.sum=xm;function xm(e){return e.reduce(function(t,n){return t+n},0)}function _E(e){return xm(e)/e.length}function Y9(e){var t=_E(e),n=e.map(function(r){return Math.pow(r-t,2)});return Math.sqrt(xm(n)/e.length)}function K9(e,t){var n=e.sort(function(o,a){return o-a}),r=(n.length-1)*t,i=Math.floor(r),s=r-i;return n[i+1]!==void 0?n[i]+s*(n[i+1]-n[i]):n[i]}var Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.InclusiveFilter=void 0;function sa(e){"@babel/helpers - typeof";return sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sa(e)}function X9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z9(r.key),r)}}function Q9(e,t,n){return t&&Fg(e.prototype,t),n&&Fg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z9(e){var t=J9(e,"string");return sa(t)==="symbol"?t:String(t)}function J9(e,t){if(sa(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sa(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eF=function(){function e(t){var n=t.include,r=t.exclude,i=t.pass,s=i===void 0?!0:i,o=t.conflict,a=o===void 0?!0:o,c=t.neither,l=c===void 0?!1:c;X9(this,e),this._include=n,this._exclude=r,this._conflict=a,this._neither=l,this._pass=s}return Q9(e,[{key:"run",value:function(n){if(!this._include&&!this._exclude)return this._pass;if(!this._include)return!this._exclude.includes(n);if(!this._exclude)return this._include.includes(n);var r=this._include.includes(n),i=this._exclude.includes(n);return r&&!i?!0:i&&!r?!1:r&&i?this._conflict:this._neither}}]),e}();Bu.InclusiveFilter=eF;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Ys;Object.keys(t).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===t[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return t[d]}})});var n=pt;Object.keys(n).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===n[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return n[d]}})});var r=Pt;Object.keys(r).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===r[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return r[d]}})});var i=Ua;Object.keys(i).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===i[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return i[d]}})});var s=jr;Object.keys(s).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===s[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return s[d]}})});var o=Li;Object.keys(o).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===o[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return o[d]}})});var a=Ki;Object.keys(a).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===a[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return a[d]}})});var c=rn;Object.keys(c).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===c[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return c[d]}})});var l=Ks;Object.keys(l).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===l[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return l[d]}})});var u=Bu;Object.keys(u).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===u[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return u[d]}})})})(J2);(function(e){function t(a){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t(a)}Object.defineProperty(e,"__esModule",{value:!0});var n={};e.default=void 0;var r=s(J2);Object.keys(r).forEach(function(a){a==="default"||a==="__esModule"||Object.prototype.hasOwnProperty.call(n,a)||a in e&&e[a]===r[a]||Object.defineProperty(e,a,{enumerable:!0,get:function(){return r[a]}})});function i(a){if(typeof WeakMap!="function")return null;var c=new WeakMap,l=new WeakMap;return(i=function(d){return d?l:c})(a)}function s(a,c){if(!c&&a&&a.__esModule)return a;if(a===null||t(a)!=="object"&&typeof a!="function")return{default:a};var l=i(c);if(l&&l.has(a))return l.get(a);var u={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var p=d?Object.getOwnPropertyDescriptor(a,f):null;p&&(p.get||p.set)?Object.defineProperty(u,f,p):u[f]=a[f]}return u.default=a,l&&l.set(a,u),u}var o=r;e.default=o})(ii);let tc;const tF=new Uint8Array(16);function nF(){if(!tc&&(tc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!tc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tc(tF)}const Tt=[];for(let e=0;e<256;++e)Tt.push((e+256).toString(16).slice(1));function rF(e,t=0){return Tt[e[t+0]]+Tt[e[t+1]]+Tt[e[t+2]]+Tt[e[t+3]]+"-"+Tt[e[t+4]]+Tt[e[t+5]]+"-"+Tt[e[t+6]]+Tt[e[t+7]]+"-"+Tt[e[t+8]]+Tt[e[t+9]]+"-"+Tt[e[t+10]]+Tt[e[t+11]]+Tt[e[t+12]]+Tt[e[t+13]]+Tt[e[t+14]]+Tt[e[t+15]]}const iF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ug={randomUUID:iF};function gE(e,t,n){if(Ug.randomUUID&&!t&&!e)return Ug.randomUUID();e=e||{};const r=e.random||(e.rng||nF)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return rF(r)}function Bg(e,t){return new cF({config:t}).decorate(e)}function sF({target:e,methodName:t,descriptor:n},r={}){return new yE({methodName:t,descriptor:n,config:r,target:e}).run()}function oF(e,t={}){if(t.classProperties)return class extends e{constructor(...n){super(...n),Bg(this,t)}};Bg(e.prototype,t)}class aF extends Error{constructor({type:t,original:n,code:r,message:i}){super(r),this.type=t,this.original=n,this.code=r,this.message=i}}async function Am(e,{app:t,signals:{main:n}}){try{await e()}catch(r){const i=gE();t.toasts[i]={id:i,type:"error",text:r.message},n&&(n.value=r.message)}}let vE=class extends ii.FunctionDecorator{onError({error:t,config:n}){const r={type:"UnknownTastoriaError",original:t};if(t.name==="FirebaseError"){r.type=t.name;const i=Object.keys(zg).find(s=>t.message.includes(s));r.code=i?zg[i]:"FIREBASE_UNKNOWN_ERROR",r.message=dF[r.code]}throw new aF(r)}};var rf;let yE=(rf=class extends ii.ClassMethodDecorator{},eo(rf,"FunctionDecorator",vE),rf);var sf;let cF=(sf=class extends ii.ClassDecorator{getClassMethodDecoratorConfig(t){const{target:n}=t;return{...super.getClassMethodDecoratorConfig(t),serviceName:n.constructor.name}}},eo(sf,"ClassMethodDecorator",yE),sf);function lF(){return(...e)=>{const t=e[0];return(n,r,i)=>{if(r&&i)return sF({target:n,methodName:r,descriptor:i},t);if(ii.isClass(n))return oF(n,t);if(ii.isFunction(n))return new vE({config:t}).run(n)}}}const uF=lF(),zg={"auth/admin-restricted-operation":"FIREBASE_ADMIN_ONLY_OPERATION","auth/code-expired":"FIREBASE_CODE_EXPIRED","auth/email-already-in-use":"FIREBASE_EMAIL_EXISTS","auth/expired-action-code":"FIREBASE_EXPIRED_OOB_CODE","auth/internal-error":"FIREBASE_INTERNAL_ERROR","auth/invalid-user-token":"FIREBASE_INVALID_AUTH","auth/invalid-verification-code":"FIREBASE_INVALID_CODE","auth/invalid-email":"FIREBASE_INVALID_EMAIL","auth/invalid-credential":"FIREBASE_INVALID_LOGIN_CREDENTIALS","auth/invalid-action-code":"FIREBASE_INVALID_OOB_CODE","auth/wrong-password":"FIREBASE_INVALID_PASSWORD","auth/missing-verification-code":"FIREBASE_MISSING_CODE","auth/missing-verification-id":"FIREBASE_MISSING_SESSION_INFO","auth/network-request-failed":"FIREBASE_NETWORK_REQUEST_FAILED","auth/quota-exceeded":"FIREBASE_QUOTA_EXCEEDED","auth/timeout":"FIREBASE_TIMEOUT","auth/user-token-expired":"FIREBASE_TOKEN_EXPIRED","auth/too-many-requests":"FIREBASE_TOO_MANY_ATTEMPTS_TRY_LATER","auth/unverified-email":"FIREBASE_UNVERIFIED_EMAIL","auth/user-not-found":"FIREBASE_USER_DELETED","auth/user-signed-out":"FIREBASE_USER_SIGNED_OUT","auth/weak-password":"FIREBASE_WEAK_PASSWORD"},dF={FIREBASE_UNKNOWN_ERROR:$localize`ERROR_FIREBASE_UNKNOWN_ERROR`,FIREBASE_ADMIN_ONLY_OPERATION:$localize`ERROR_FIREBASE_ADMIN_ONLY_OPERATION`,FIREBASE_CODE_EXPIRED:$localize`ERROR_FIREBASE_CODE_EXPIRED`,FIREBASE_EMAIL_EXISTS:$localize`ERROR_FIREBASE_EMAIL_EXISTS`,FIREBASE_EXPIRED_OOB_CODE:$localize`ERROR_FIREBASE_EXPIRED_OOB_CODE`,FIREBASE_INTERNAL_ERROR:$localize`ERROR_FIREBASE_INTERNAL_ERROR`,FIREBASE_INVALID_AUTH:$localize`ERROR_FIREBASE_INVALID_AUTH`,FIREBASE_INVALID_CODE:$localize`ERROR_FIREBASE_INVALID_CODE`,FIREBASE_INVALID_EMAIL:$localize`ERROR_FIREBASE_INVALID_EMAIL`,FIREBASE_INVALID_LOGIN_CREDENTIALS:$localize`ERROR_FIREBASE_INVALID_LOGIN_CREDENTIALS`,FIREBASE_INVALID_OOB_CODE:$localize`ERROR_FIREBASE_INVALID_OOB_CODE`,FIREBASE_INVALID_PASSWORD:$localize`ERROR_FIREBASE_INVALID_PASSWORD`,FIREBASE_MISSING_CODE:$localize`ERROR_FIREBASE_MISSING_CODE`,FIREBASE_MISSING_SESSION_INFO:$localize`ERROR_FIREBASE_MISSING_SESSION_INFO`,FIREBASE_NETWORK_REQUEST_FAILED:$localize`ERROR_FIREBASE_NETWORK_REQUEST_FAILED`,FIREBASE_QUOTA_EXCEEDED:$localize`ERROR_FIREBASE_QUOTA_EXCEEDED`,FIREBASE_TIMEOUT:$localize`ERROR_FIREBASE_TIMEOUT`,FIREBASE_TOKEN_EXPIRED:$localize`ERROR_FIREBASE_TOKEN_EXPIRED`,FIREBASE_TOO_MANY_ATTEMPTS_TRY_LATER:$localize`ERROR_FIREBASE_TOO_MANY_ATTEMPTS_TRY_LATER`,FIREBASE_UNVERIFIED_EMAIL:$localize`ERROR_FIREBASE_UNVERIFIED_EMAIL`,FIREBASE_USER_DELETED:$localize`ERROR_FIREBASE_USER_DELETED`,FIREBASE_USER_SIGNED_OUT:$localize`ERROR_FIREBASE_USER_SIGNED_OUT`,FIREBASE_WEAK_PASSWORD:$localize`ERROR_FIREBASE_WEAK_PASSWORD`};var fF=function(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};const{GoogleAuthProvider:hF,getAuth:Od,signInWithPopup:pF,createUserWithEmailAndPassword:mF,signInWithEmailAndPassword:_F,sendSignInLinkToEmail:cK,isSignInWithEmailLink:lK,signInWithEmailLink:uK,EmailAuthProvider:dK,updatePassword:fK,updateProfile:gF,sendEmailVerification:vF,applyActionCode:hK}=o4;async function yF(e){const t=e.storage,n=e._location,r=new URL(`${t._protocol}://${t.host}/v0${n.fullServerUrl()}`),s=await(await fetch(r.href)).json();return`${r.href}?alt=media&token=${s.downloadTokens}`}let lh=class{constructor(t){this._app=Qy(t),this._storage=g8(this._app),this._bucketName=this._app.options.storageBucket||""}getHeaders(){return{}}async getImageUrl(t,n){const r=`gs://${this._bucketName}/${t}/${n}`,i=H_(this._storage,r);return yF(i)}async downloadImage(t,n){const r=await this.getImageUrl(t,n);return(await fetch(r)).blob()}async downloadRecipes(t){const n=vc(),r=us(n,`recipes/${t}`),i=await gc(r);return i.exists()?Object.values(i.val()).map(s=>Og(s)):[]}async downloadRecipe(t,n){const r=vc(),i=us(r,`recipes/${t}/${n}`),s=await gc(i);return s.exists()?Og(s.val()):null}async googleSignIn(){const t=Od(this._app),n=new hF;n.addScope("https://www.googleapis.com/auth/contacts.readonly");const r=await pF(t,n);return xd(r.user)}async signIn({email:t,password:n}){const r=Od(this._app),s=(await _F(r,t,n)).user;return xd(s)}async signUp({email:t,password:n,fullName:r},i){const s=Od(this._app),a=(await mF(s,t,n)).user,c=new URL(`/login/?email=${t}`,i.href);await gF(a,{displayName:r});const l={url:c.href,handleCodeInApp:!0};return await vF(a,l),xd(a)}async saveUserData(t,n){const r=vc(),i=us(r,`users/${t.id}`),s=await gc(i);s.exists()?console.log("user",s.val()):await Gf(i,t);const o=n.recipes.map(async a=>{if(!a.id)return;const c=us(r,`recipes/${t.id}/${a.id}`);await Gf(c,a)});await Promise.all(o)}async saveImage(t,n,r){const i=H_(this._storage,`${t.id}/${n}`);await _8(i,r)}};lh=fF([uF()],lh);const Fn=new lh(W7.firebase),bF='"../variables.css"',wF="#00b27c",EF="#c00026",$F="_container_11qgk_3",SF="_toast_11qgk_11",IF="_icon_11qgk_22",TF="_text_11qgk_25",xF="_error_11qgk_29",AF="_success_11qgk_37",uo={colors:bF,primary_1:wF,error_1:EF,container:$F,toast:SF,icon:IF,text:TF,error:xF,success:AF},RF=e=>Ke(St,{children:Ke("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},e,{children:Ke("path",{d:"m7.952 16.048 8.125-8.125M16.091 16.034 7.91 7.85M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18"})}))}),CF=e=>Ke(St,{children:Ke("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e,{children:Ke("path",{fillRule:"evenodd",d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2m0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16m3.293 4.293L10 13.586l-1.293-1.293a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l6-6a1 1 0 1 0-1.414-1.414"})}))}),OF=e=>{const[t]=Ze();delete t.toasts[e.id]},kF=e=>{const t=qe(Vi);wr(Yt("s_ZCYeT9dphPw",[t]));const n=ue(OF,"s_fmhyHRvi4vk",[t]),r=Object.values(t.toasts);return W("div",{class:[uo.container,e.class]},null,r.map(i=>Er(W("div",{class:[uo.toast,uo[i.type]],onClick$:Yt("s_2CuA6WFPF6I",[n,i])},null,[W("div",null,{class:uo.icon},i.type==="error"?de(RF,null,3,"0P_0"):de(CF,null,3,"0P_1"),1,null),W("span",null,{class:uo.text},Mn(i,"text"),1,null)],0,i.id))),1,"0P_2")},NF=Re(ue(kF,"s_wCL1uCJItwY")),PF=async({cookie:e})=>{const t=e.get("tastoria.session");return t==null?void 0:t.json()},bE=ji(ue(PF,"s_fgtOcmtL8oI")),DF=async({locale:e,cookie:t})=>{const n=t.get("tastoria.app"),r=n?n.json().language:"en";return e(C3(r)),{language:r}},wE=ji(ue(DF,"s_V2ihaXLGifY")),MF=async({cookie:e})=>{const t=e.get("tastoria.session"),n=t==null?void 0:t.json();return n?(await Fn.downloadRecipes(n.id)).filter(i=>!i.deletedAt):[]},EE=ji(ue(MF,"s_6fOr8kSQFnw")),LF=()=>{by(ue(sA,"s_pGqtajdeBpU"));const e=bE(),t=wE(),n=EE(),r={};n.value.forEach(l=>r[l.id]=l);const i=Kn({header:null,contextMenu:null}),s=Kn({user:e}),o=Kn({isMenuOpened:!1,language:t.value.language,toasts:{}}),a=Kn({all:r,lastChanged:Et(new Date)});fn(Bs,s),fn(Vi,o),fn(Sl,i),fn(Hi,a);const c=()=>i.header;return wr(Yt("s_7LsFlC7reaw",[a])),de(St,{children:W("main",null,{class:no.page},[de(zA,{get class(){return no.header},children:W("div",null,{class:no.headerContent},de(c,null,3,"md_0"),1,null),[H]:{class:H}},1,"md_1"),de(r3,null,3,"md_2"),W("div",null,{class:no.content},de(Jr,null,3,"md_3"),1,null),de(jA,{get class(){return no.footer},[H]:{class:H}},3,"md_4"),de(NF,null,3,"md_5")],1,null)},1,"md_6")},FF=Re(ue(LF,"s_p2XblwHqQHk")),UF=Object.freeze(Object.defineProperty({__proto__:null,default:FF,useRecipes:EE,useSession:bE,useSettings:wE},Symbol.toStringTag,{value:"Module"})),BF=async({cookie:e,redirect:t})=>{const n=e.get("tastoria.session")?"/recipes":"/login";throw t(302,n)},zF=Object.freeze(Object.defineProperty({__proto__:null,onGet:BF},Symbol.toStringTag,{value:"Module"}));function nl(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function qg(e,t){const n=nl(e),r=nl(t);return n.getTime()>r.getTime()}function qF(e,t){const n=nl(e),r=nl(t);return+n==+r}var Xs={},zu={},Rm={},$E={},Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.getEscapedRegExp=VF;Qs.getPropertyDescriptor=WF;Qs.pause=jF;function WF(e,t){var n;do n=Object.getOwnPropertyDescriptor(e,t);while(!n&&(e=Object.getPrototypeOf(e)));return n}function jF(e){return new Promise(function(t){return setTimeout(t,e)})}function VF(e){var t=/[$()*+.?[\\\]^{|}]/g;return e.replace(t,"\\$&")}var mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.isArray=XF;mt.isBoolean=JF;mt.isClass=YF;mt.isFunction=SE;mt.isGetter=tU;mt.isNumber=ZF;mt.isObject=KF;mt.isPromise=QF;mt.isRegexp=nU;mt.isStream=eU;mt.isString=GF;mt.isValue=Sn;var HF=Qs;function GF(e){return Sn(e)&&Object.prototype.toString.call(e)==="[object String]"}function YF(e){return Sn(e)&&typeof e=="function"&&/class/i.test(e.toString())}function SE(e){return Sn(e)&&["[object Function]","[object AsyncFunction]"].includes(Object.prototype.toString.call(e))}function KF(e){return Sn(e)&&Object.prototype.toString.call(e)==="[object Object]"}function XF(e){return Sn(e)&&Object.prototype.toString.call(e)==="[object Array]"}function QF(e){return Sn(e)&&Object.prototype.toString.call(e)==="[object Promise]"}function Sn(e){return e!=null}function ZF(e){return Sn(e)&&Object.prototype.toString.call(e)==="[object Number]"&&!Number.isNaN(e)}function JF(e){return Sn(e)&&Object.prototype.toString.call(e)==="[object Boolean]"}function eU(e){return Sn(e)&&SE(e.pipe)}function tU(e,t){var n;return Sn(e)?!!((n=(0,HF.getPropertyDescriptor)(e,t))!==null&&n!==void 0&&n.get):!1}function nU(e){return Sn(e)&&Object.prototype.toString.call(e)==="[object RegExp]"}var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.existanceFilter=void 0;Dt.flatten=TE;Dt.groupBy=oU;Dt.isUnique=iU;Dt.last=sU;Dt.passFilter=void 0;Dt.toArray=Cm;Dt.uniqueFilter=Om;Dt.uniqueIdenticFilter=Dt.uniqueIdFilter=void 0;var uh=mt;function IE(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=rU(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function rU(e,t){if(e){if(typeof e=="string")return Wg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wg(e,t)}}function Wg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cm(e){return(0,uh.isValue)(e)?(0,uh.isArray)(e)?e:[e]:[]}function Om(e){return function(n,r,i){var s=e?i.findIndex(function(o){return e(n,o)}):i.indexOf(n);return s===r}}Dt.uniqueIdFilter=Om(function(e,t){return e.id===t.id});Dt.uniqueIdenticFilter=Om(function(e,t){return e===t});Dt.existanceFilter=function(t){return(0,uh.isValue)(t)};Dt.passFilter=function(){return!0};function TE(e){return Cm(e).reduce(function(t,n){return t.concat(Array.isArray(n)?TE(n):n)},[])}function iU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.field,r=t.ignoreEmpty,i=new Map,s=IE(e),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,c=!r&&n?a[n]:a;if(!(r&&c==null)){if(i.has(c))return!1;i.set(c)}}}catch(l){s.e(l)}finally{s.f()}return!0}function sU(e){return e[e.length-1]}function oU(e,t){var n=Cm(t),r={},i=IE(e),s;try{var o=function(){var c=s.value,l=n.map(function(u){return c[u]}).join(".");r[l]||(r[l]=[]),r[l].push(c)};for(i.s();!(s=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r}var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.cleanUndefined=xE;Ba.clone=aU;Ba.isEmpty=cU;var dh=mt;function xE(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.cache,r=n===void 0?new Set:n;r.add(e);for(var i=0,s=Object.keys(e);i<s.length;i++){var o=s[i];if(e[o]===void 0&&delete e[o],(0,dh.isObject)(e[o])){if(r.has(e[o]))continue;xE(e[o],{cache:r})}}return e}function aU(e){return JSON.parse(JSON.stringify(e))}function cU(e){var t=(0,dh.isObject)(e)&&Object.keys(e).length===0,n=(0,dh.isArray)(e)&&e.keys(e).length===0;return t||n}var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.startBenchmark=Vr.getBenchmark=Vr.NS_PER_MS=void 0;var AE=mt,kd,Nd,Pd,lU=Vr.NS_PER_MS=1e6,km=5;function uU(e){var t=process.hrtime.bigint(),n=t-e,r=n/BigInt(lU);return Number(r).toFixed(km)}function dU(){return process.hrtime.bigint()}function fU(){return performance.now()}function hU(e){var t=performance.now()-e;return t.toFixed(km)}function pU(){return new Date}function mU(e){var t=Date.now()-e;return t.toFixed(km)}var RE=typeof process<"u"&&(0,AE.isFunction)((kd=process)===null||kd===void 0||(Nd=kd.hrtime)===null||Nd===void 0?void 0:Nd.bigint),CE=typeof performance<"u"&&(0,AE.isFunction)((Pd=performance)===null||Pd===void 0?void 0:Pd.now);Vr.getBenchmark=RE&&uU||CE&&hU||mU;Vr.startBenchmark=RE&&dU||CE&&fU||pU;var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.random=Ui.Random=void 0;function oa(e){"@babel/helpers - typeof";return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oa(e)}function _U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vU(r.key),r)}}function gU(e,t,n){return t&&jg(e.prototype,t),n&&jg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vU(e){var t=yU(e,"string");return oa(t)=="symbol"?t:String(t)}function yU(e,t){if(oa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bU=Ui.Random=function(){function e(){_U(this,e)}return gU(e,[{key:"uniform",value:function(n,r){return Math.random()*(n-r)+r}},{key:"int",value:function(n,r){return Math.floor(this.uniform(n,r))}}]),e}();Ui.random=new bU;var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.fill=PU;Xi.getProp=kE;Xi.retry=kU;Xi.searchFor=DU;Xi.setProp=NU;var No=mt,wU=Ui;function EU(e){return TU(e)||IU(e)||SU(e)||$U()}function $U(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SU(e,t){if(e){if(typeof e=="string")return Vg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vg(e,t)}}function Vg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TU(e){if(Array.isArray(e))return e}var OE=Symbol("myrmidon_retry_aborted");function Hg(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Error("Unknown Retry Abortion");throw e[OE]=!0,e}var xU=.5,AU=2,RU=2;function CU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if((0,No.isNumber)(e))return e;if((0,No.isFunction)(e))return e(t);if((0,No.isObject)(e)){var n=e.randomize?wU.random.uniform(xU,AU):1;return Math.min(n*e.min*Math.pow(e.factor||RU,t),e.max)}}function OU(e,t,n){var r=n.retries,i=n.next;if(e[OE]||t===r)throw e;i()}function kU(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.onRetry,r=n===void 0?OU:n,i=t.retries,s=i===void 0?10:i,o=t.timeout,a=o===void 0?100:o;return new Promise(function(c,l){function u(p){try{var g=e(Hg,p);Promise.resolve(g).then(c).catch(function(h){return f(h,p)})}catch(h){f(h,p)}}function d(p){setTimeout(function(){return u(p+1)},CU(a,p+1))}function f(p,g){try{r(p,g,{retries:s,abort:Hg,next:function(){return d(g)}})}catch(h){l(h)}}u(0)})}function kE(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.delimeter,i=r===void 0?".":r;return t.split(i).reduce(function(s,o){try{return s[o]}catch{return null}},e)}function NU(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=r.delimiter,s=i===void 0?".":i,o=e;return t.split(s).forEach(function(a,c,l){var u=c===l.length-1;if(!(a in o)){if(u)return o[a]=n;var d=l[c+1],f=Number.isInteger(+d);o[a]=f?[]:{}}o=o[a]}),e}function PU(e,t){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.delimiters,i=r===void 0?["{","}"]:r,s=n.regExp,o=s||new RegExp("".concat(i[0],"(.+?)").concat(i[1]),"g"),a,c=e;(a=o.exec(e))!==null;){var l=a[1].trim();if(l){var u=kE(t,l)||"";c=c.replace(a[0],u)}}return c}function DU(e,t){var n=(0,No.isRegexp)(t)?t.flags:"",r=new RegExp((0,No.isRegexp)(t)?t.source:t,n.includes("g")?n:"".concat(n,"g")),i=[],s;do if(s=r.exec(e),s){var o=s,a=EU(o),c=a[0],l=a.slice(1),u=s,d=u.index,f=u.input;i.push({full:c,captures:l,index:d,input:f})}while(s);return i}var sn={};function aa(e){"@babel/helpers - typeof";return aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aa(e)}Object.defineProperty(sn,"__esModule",{value:!0});sn.FunctionDecorator=sn.ClassMethodDecorator=sn.ClassDecorator=void 0;sn.getMethodDescriptor=DE;sn.rawMethodNames=sn.getMethodNames=void 0;var Bi=mt;function fh(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=PE(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}function Gg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gg(Object(n),!0).forEach(function(r){za(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NE(r.key),r)}}function Pm(e,t,n){return t&&Yg(e.prototype,t),n&&Yg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function za(e,t,n){return t=NE(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NE(e){var t=MU(e,"string");return aa(t)=="symbol"?t:String(t)}function MU(e,t){if(aa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(aa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hh(e){return UU(e)||FU(e)||PE(e)||LU()}function LU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PE(e,t){if(e){if(typeof e=="string")return ph(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ph(e,t)}}function FU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UU(e){if(Array.isArray(e))return ph(e)}function ph(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var BU=function e(t){return t&&t!==Object.prototype&&[].concat(hh(Object.getOwnPropertyNames(t).filter(function(n){return(0,Bi.isGetter)(t,n)||(0,Bi.isFunction)(t[n])})),hh(e(Object.getPrototypeOf(t))||[]))},mh=sn.rawMethodNames=function(t){return hh(new Set(BU(t)))};sn.getMethodNames=function(t){return mh(t).filter(function(n){return n!=="constructor"&&n.indexOf("_")!==0})};function DE(e,t){return t.hasOwnProperty(e)?Object.getOwnPropertyDescriptor(t,e):{configurable:!0,enumerable:!0,writable:!0,value:t[e]}}var zU=sn.FunctionDecorator=function(){function e(t){var n=t.config;Nm(this,e),za(this,"decoratedKey",Symbol("_decorated")),this.config=n}return Pm(e,[{key:"prepareData",value:function(n){var r=n.context,i=n.methodName;return{context:r,methodName:i,config:this.config}}},{key:"onParams",value:function(n){var r=n.params;return r}},{key:"onSuccess",value:function(n){var r=n.result;return r}},{key:"onError",value:function(n){throw n}},{key:"run",value:function(n){var r=this,i=r.config,s=i.duplicates,o=i.keepReflectMetadata,a=i.methodName,c=a===void 0?n.name:a;if(!s&&n[this.decoratedKey])return n;var l=function(){for(var d=r.prepareData({context:this,methodName:c,config:r.config}),f=arguments.length,p=new Array(f),g=0;g<f;g++)p[g]=arguments[g];var h=r.onParams(Gn({params:p},d)),m=Gn({rawParams:p,params:h},d);try{var _=n==null?void 0:n.apply(this,h);return(0,Bi.isPromise)(_)?_.then(function(v){return r.onSuccess(Gn({result:v},m))}).catch(function(v){return r.onError(Gn({error:v},m))}):r.onSuccess(Gn({result:_},m))}catch(v){r.onError(Gn({error:v},m))}};return o!=null&&o.length&&o.forEach(function(u){var d=Reflect.getMetadata(u,n);d!==void 0&&Reflect.defineMetadata(u,d,l)}),l[this.decoratedKey]=!0,l}}]),e}(),ME=sn.ClassMethodDecorator=function(){function e(t){var n=t.methodName,r=t.descriptor,i=t.config,s=t.target;Nm(this,e),this.methods=["value","initializer"],this.methodName=n,this.descriptor=r,this.config=i,this.target=s,this.functionDecorator=new this.constructor.FunctionDecorator({config:this.getFunctionDecoratorConfig()})}return Pm(e,[{key:"getFunctionDecoratorConfig",value:function(){return Gn(Gn({},this.config),{},{methodName:this.methodName})}},{key:"handle_initializer",value:function(n){var r=this.functionDecorator,i=this.target;return function(){return r.run(n.call(i))}}},{key:"handle",value:function(n){return this.functionDecorator.run(n)}},{key:"run",value:function(){var n=this,r=this.methods.filter(function(c){return n.descriptor[c]&&(0,Bi.isFunction)(n.descriptor[c])}),i=fh(r),s;try{for(i.s();!(s=i.n()).done;){var o=s.value,a=this.descriptor[o];this.descriptor[o]=(0,Bi.isFunction)(this["handle_".concat(o)])?this["handle_".concat(o)](a):this.handle(a)}}catch(c){i.e(c)}finally{i.f()}return this.descriptor}}]),e}();za(ME,"FunctionDecorator",zU);var qU=sn.ClassDecorator=function(){function e(t){var n=t.config;Nm(this,e),za(this,"_unsafeFunctionProps",["caller","callee","arguments"]),this.config=n}return Pm(e,[{key:"decorate",value:function(n){return(0,Bi.isClass)(n)?this.decorateClass(n):(0,Bi.isFunction)(n)?this.decorateFunction(n):this.decorateClass(n)}},{key:"getFunctionDecoratorConfig",value:function(n){var r=n.target;return Gn(Gn({},this.config),{},{methodName:r.name})}},{key:"decorateFunction",value:function(n){var r=new this.constructor.ClassMethodDecorator.FunctionDecorator({config:this.getFunctionDecoratorConfig({target:n})}),i=r.run(n),s=fh(mh(n)),o;try{for(s.s();!(o=s.n()).done;){var a=o.value;this._unsafeFunctionProps.includes(a)||(this.filterMethodName(a)?i[a]=r.run(n[a]):i[a]=n[a])}}catch(c){s.e(c)}finally{s.f()}return i}},{key:"filterMethodName",value:function(n){return!this._unsafeFunctionProps.includes(n)}},{key:"getClassMethodDecoratorConfig",value:function(){return this.config}},{key:"decorateClass",value:function(n){var r=this,i=mh(n).filter(function(u){return r.filterMethodName(u)}),s=fh(i),o;try{for(s.s();!(o=s.n()).done;){var a=o.value,c=DE(a,n);if(c){var l=new this.constructor.ClassMethodDecorator({methodName:a,descriptor:c,target:n,config:this.getClassMethodDecoratorConfig({methodName:a,descriptor:c,target:n})});Object.defineProperty(n,a,l.run())}}}catch(u){s.e(u)}finally{s.f()}return n}}]),e}();za(qU,"ClassMethodDecorator",ME);var Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.mean=LE;Zs.quantile=jU;Zs.std=WU;Zs.sum=Dm;function Dm(e){return e.reduce(function(t,n){return t+n},0)}function LE(e){return Dm(e)/e.length}function WU(e){var t=LE(e),n=e.map(function(r){return Math.pow(r-t,2)});return Math.sqrt(Dm(n)/e.length)}function jU(e,t){var n=e.sort(function(o,a){return o-a}),r=(n.length-1)*t,i=Math.floor(r),s=r-i;return n[i+1]!==void 0?n[i]+s*(n[i+1]-n[i]):n[i]}var qu={};Object.defineProperty(qu,"__esModule",{value:!0});qu.InclusiveFilter=void 0;function ca(e){"@babel/helpers - typeof";return ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ca(e)}function VU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GU(r.key),r)}}function HU(e,t,n){return t&&Kg(e.prototype,t),n&&Kg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function GU(e){var t=YU(e,"string");return ca(t)=="symbol"?t:String(t)}function YU(e,t){if(ca(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ca(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}qu.InclusiveFilter=function(){function e(t){var n=t.include,r=t.exclude,i=t.pass,s=i===void 0?!0:i,o=t.conflict,a=o===void 0?!0:o,c=t.neither,l=c===void 0?!1:c;VU(this,e),this._include=n,this._exclude=r,this._conflict=a,this._neither=l,this._pass=s}return HU(e,[{key:"run",value:function(n){if(!this._include&&!this._exclude)return this._pass;if(!this._include)return!this._exclude.includes(n);if(!this._exclude)return this._include.includes(n);var r=this._include.includes(n),i=this._exclude.includes(n);return r&&!i?!0:i&&!r?!1:r&&i?this._conflict:this._neither}}]),e}();(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Qs;Object.keys(t).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===t[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return t[d]}})});var n=mt;Object.keys(n).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===n[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return n[d]}})});var r=Dt;Object.keys(r).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===r[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return r[d]}})});var i=Ba;Object.keys(i).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===i[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return i[d]}})});var s=Vr;Object.keys(s).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===s[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return s[d]}})});var o=Ui;Object.keys(o).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===o[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return o[d]}})});var a=Xi;Object.keys(a).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===a[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return a[d]}})});var c=sn;Object.keys(c).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===c[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return c[d]}})});var l=Zs;Object.keys(l).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===l[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return l[d]}})});var u=qu;Object.keys(u).forEach(function(d){d==="default"||d==="__esModule"||d in e&&e[d]===u[d]||Object.defineProperty(e,d,{enumerable:!0,get:function(){return u[d]}})})})($E);(function(e){function t(o){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t(o)}Object.defineProperty(e,"__esModule",{value:!0});var n={};e.default=void 0;var r=s($E);Object.keys(r).forEach(function(o){o==="default"||o==="__esModule"||Object.prototype.hasOwnProperty.call(n,o)||o in e&&e[o]===r[o]||Object.defineProperty(e,o,{enumerable:!0,get:function(){return r[o]}})});function i(o){if(typeof WeakMap!="function")return null;var a=new WeakMap,c=new WeakMap;return(i=function(u){return u?c:a})(o)}function s(o,a){if(!a&&o&&o.__esModule)return o;if(o===null||t(o)!="object"&&typeof o!="function")return{default:o};var c=i(a);if(c&&c.has(o))return c.get(o);var l={__proto__:null},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in o)if(d!=="default"&&Object.prototype.hasOwnProperty.call(o,d)){var f=u?Object.getOwnPropertyDescriptor(o,d):null;f&&(f.get||f.set)?Object.defineProperty(l,d,f):l[d]=o[d]}return l.default=o,c&&c.set(o,l),l}e.default=r})(Rm);var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.default=void 0;const KU=["debug","verbose","info","error"],XU=!1,QU="simple",ZU={breakLength:Number.POSITIVE_INFINITY,depth:4,maxArrayLength:10,compact:!0,sorted:!1},JU={},eB={colorMode:!1,inspectOptions:ZU};Js.default={levels:KU,native:XU,format:QU,formatter:JU,console:eB};var Wu={},Mm={};Object.defineProperty(Mm,"__esModule",{value:!0});Mm.default=yc;var is=Rm;function tB(e){return(0,is.isValue)(e)&&Object.prototype.toString.call(e)==="[object Set]"}function yc(e,{root:t=!0,cache:n=[]}={}){if((0,is.isStream)(e))return"[Stream]";if((0,is.isFunction)(e))return"[Function]";if((0,is.isArray)(e)){const r=e.map(i=>yc(i,{cache:n,root:!1}));return t?r.join(" "):`[ ${r.join(", ")} ]`}if((0,is.isObject)(e)){if(~n.indexOf(e))return"[Circular]";n.push(e);const r=[];for(const[i,s]of Object.entries(e)){const o=`${i}: ${yc(s,{cache:n,root:!1})}`;r.push(o)}return`{ ${r.join(", ")} }`}return(0,is.isNumber)(e)?e:e===null?"null":e===void 0?"undefined":tB(e)?`Set { ${[...e].map(i=>yc(i,{cache:n,root:!1})).join(", ")} }`:e.toString()}Object.defineProperty(Wu,"__esModule",{value:!0});Wu.default=void 0;var nB=FE(Js),rB=FE(Mm);function FE(e){return e&&e.__esModule?e:{default:e}}function iB(e,t,n){return t=sB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sB(e){var t=oB(e,"string");return typeof t=="symbol"?t:String(t)}function oB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aB(e,t){return(0,rB.default)(t)}function cB(e,t){return t.length>1?JSON.stringify(t):JSON.stringify(t[0])}class lB{constructor(t={}){iB(this,"_init",i=>{switch(this.type){case"simple":return this.format=aB.bind(this,i);case"json":return this.format=cB.bind(this,i);default:throw new Error(`Unrecognized formatter type: ${this.type}`)}});const{type:n,...r}=t;this.type=n||nB.default.format,this._init(r)}}Wu.default=lB;Object.defineProperty(zu,"__esModule",{value:!0});zu.default=void 0;var uB=Rm,dB=UE(Js),fB=UE(Wu);function UE(e){return e&&e.__esModule?e:{default:e}}function hB(e,t,n){return t=pB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pB(e){var t=mB(e,"string");return typeof t=="symbol"?t:String(t)}function mB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}let _B=class{constructor(t={}){hB(this,"log",(r,...i)=>{if(this.levels.includes(r))return this[r](...i);const s=this.format([r,...i]);this._console.log(s)}),this.levels=t.levels||dB.default.levels,this.level=t.level||this.levels[0],this._console=t.console||console,this._init();const n=new fB.default({type:t.format,...t.formatter});this.format=n.format}_init(){const t=this.levels.indexOf(this.level);this.levels.forEach((n,r)=>{if(r<t)return this[n]=()=>{};const i=this._getConsoleLevel(n);this[n]=(...s)=>{const o=this.format(s);this._console[i](o)}})}_getConsoleLevel(t){return(0,uB.isFunction)(this._console[t])?t:"log"}};zu.default=_B;Object.defineProperty(Xs,"__esModule",{value:!0});Xs.Logger=void 0;Xs.consoleConfig=bB;var BE=Xs.default=void 0,gB=zE(zu),vB=zE(Js);function zE(e){return e&&e.__esModule?e:{default:e}}const yB=Xs.Logger=gB.default;BE=Xs.default=new yB;function bB(e){const t={...vB.default.console,...e};return{...t,inspectOptions:{...t.inspectOptions}}}const Eo=BE;function wB(e,t){const n=t.updatedAt,r=e.updatedAt;return qF(n,r)?{type:"KEEP",recipe:t}:qg(n,r)?{type:"UPDATE_REMOTE",recipe:t}:qg(r,n)?{type:"UPDATE_LOCAL",recipe:e}:{type:"CANT_COMPARE",recipe:t}}async function EB(e,t){const n=`${e}_${Date.now()}`;try{Eo.info(`RECIPES_SYNC_STARTED ${n}`);const r=vc(),i=us(r,`recipes/${e}`),o=(await gc(i)).val(),a=[],c=new Set;for(const u of t){const d=o[u.id];d?a.push(wB(d,u)):u.deletedAt||a.push({type:"ADD_REMOTE",recipe:u}),c.add(u.id)}for(const u of Object.values(o))c.has(u.id)||a.push({type:"ADD_LOCAL",recipe:u});const l=a.map(u=>{if(["ADD_REMOTE","UPDATE_REMOTE"].includes(u.type)){const d=us(r,`recipes/${e}/${u.recipe.id}`);return Gf(d,u.recipe)}return null});return await Promise.all(l),Eo.info(`RECIPES_SYNC_FINISHED ${n}`),a}catch(r){return Eo.error(`RECIPES_SYNC_FAILED ${n}`),Eo.error(r),[]}}const $B=async({json:e,cookie:t,parseBody:n})=>{const r=t.get("tastoria.session"),i=r==null?void 0:r.json();if(!i)return e(401,{code:"SESSION_NOT_FOUND"});const s=await n(),a=(await EB(i.id,s)).filter(c=>["UPDATE_LOCAL","ADD_LOCAL"].includes(c.type));e(200,{implement:a})},SB=Object.freeze(Object.defineProperty({__proto__:null,onPost:$B},Symbol.toStringTag,{value:"Module"})),IB='"../variables.css"',TB="#1a602e",xB="#c00026",AB="#134741",RB="_container_zpfdt_4",CB="_disabled_zpfdt_8",OB="_input_zpfdt_18",kB="_error_zpfdt_44",Dd={colors:IB,primary_2:TB,error_1:xB,primary_3:AB,container:RB,disabled:CB,input:OB,error:kB},NB=e=>W("div",{class:[Dd.container,e.class]},null,e.type==="multiline"?W("textarea",{onBlur$:e.onBlur,onFocus$:e.onFocus,onInput$:Yt("s_NLhljWjkoRM",[e])},{class:Dd.input,placeholder:xt(t=>t.label,[e],"p0.label"),value:e.value},null,2,"1c_0"):W("input",{onBlur$:e.onBlur,onFocus$:e.onFocus,onInput$:Yt("s_Un1uxNQ4y6o",[e])},{class:Dd.input,placeholder:xt(t=>t.label,[e],"p0.label"),type:xt(t=>t.type,[e],"p0.type"),value:e.value},null,2,null),1,"1c_1"),Es=Re(ue(NB,"s_Xg7VptVxStE")),PB='"../../variables.css"',DB="#00b27c",MB="#1a602e",LB="#134741",FB="#2e2d32",UB="_content_cc470_9",BB="_item_cc470_10",zB="_itemLabel_cc470_16",qB="_input_cc470_26",WB="_footer_cc470_43",jB="_saveButton_cc470_48",Rr={colors:PB,primary_1:DB,primary_2:MB,primary_3:LB,text_1:FB,content:UB,item:BB,itemLabel:zB,input:qB,footer:WB,saveButton:jB},VB='"../variables.css"',HB="#00b27c",GB="#1a602e",YB="#134741",KB="#c00026",XB="_button_1ksce_4",QB="_isLoading_1ksce_17",ZB="_disabled_1ksce_21",JB="_inline_1ksce_31",ez="_error_1ksce_41",tz="_icon_1ksce_50",nz="_loader_1ksce_57",hi={colors:VB,primary_1:HB,primary_2:GB,primary_3:YB,error_1:KB,button:XB,isLoading:QB,disabled:ZB,inline:JB,error:ez,icon:tz,loader:nz},rz='"../variables.css"',iz="#c00026",sz="#FFF",oz="_loader_13sqj_4",az="_rotation_13sqj_1",Xg={colors:rz,error_1:iz,white_1:sz,loader:oz,rotation:az},cz=e=>W("div",{class:[e.class,Xg.component]},null,W("span",null,{class:Xg.loader},null,3,null),3,"mt_0"),qE=Re(ue(cz,"s_7WRD905W4Mc")),lz=async()=>{const[e,t,n]=Ze();try{e.value=!1,t.value=!0,await n.onClick(),t.value=!1}catch(r){e.value=!0,t.value=!1,Eo.error(r)}},uz=e=>{const t=Et(!1),n=Et(!1),r=ue(lz,"s_FYaMuzbc1xo",[n,t,e]);return W("button",{class:[hi.button,e.class,{[hi.inline]:e.inline,[hi.icon]:e.icon,[hi.isLoading]:t.value,[hi.error]:n.value}]},{onClick$:r},[de(qE,{class:[hi.loader,{[hi.isLoading]:t.value}]},3,"RF_0"),de(Jr,null,3,"RF_1")],1,"RF_2")},si=Re(ue(uz,"s_R5Lnjr1VGrI"));var dz={DATE:"2024-02-05T22:24:46.171Z",VERSION:"1.23.0"};const WE=dz.VERSION,fz=[{key:"title",label:$localize`component.RecipePage_EditPage.titleLabel`,type:"text"},{key:"description",label:$localize`component.RecipePage_EditPage.descriptionLabel`,type:"multiline"},{key:"url",label:$localize`component.RecipePage_EditPage.urlLabel`,type:"text"},{key:"quantity",label:$localize`component.RecipePage_EditPage.quantityLabel`,type:"number"},{key:"comment",label:$localize`component.RecipePage_EditPage.commentLabel`,type:"multiline"},{key:"ingredients",label:$localize`component.RecipePage_EditPage.ingredientsLabel`,type:"multiline",linesToArray:!0},{key:"steps",label:$localize`component.RecipePage_EditPage.stepsLabel`,type:"multiline",linesToArray:!0},{key:"rating",label:$localize`component.RecipePage_EditPage.ratingLabel`,type:"number"}];function hz(){return{id:gE(),title:"",description:"",categories:[],tags:[],language:"en",quantity:"",comment:"",ingredients:[],steps:[],time:{total:"",prepare:"",cook:""},version:WE,favorite:!1,visits:0,rating:0,updatedAt:new Date().toISOString(),createdAt:new Date().toISOString()}}const pz=async()=>{const[e,t,n,r]=Ze(),i={...n,version:WE,deletedAt:void 0,updatedAt:new Date().toISOString()};e.forEach(s=>{i[s.key]=s.linesToArray?s.signal.value.split(`
`):s.signal.value}),r.all[i.id]=i,await t.onSave.submit(i)},mz=e=>{const t=!e.recipe,n=e.recipe||hz(),r=fz.map(a=>({...a,signal:Et(a.linesToArray?n[a.key].join(`
`):n[a.key])})),i=qe(Hi),s=ue(pz,"s_xWAcIfTnMLY",[r,e,n,i]);wr(Yt("s_Xx0JExj9X3c",[t,n]));const o=t?$localize`component.RecipePage_EditPage.create_title`:$localize`component.RecipePage_EditPage.title`;return W("div",null,{class:Rr.component},[W("div",null,{class:Rr.preview},W("div",null,{class:Rr.content},[W("h1",null,null,o,1,null),...r.map(a=>W("div",null,{class:Rr.item},[W("span",null,{class:Rr.itemLabel},Mn(a,"label"),1,null),de(Es,{get type(){return a.type},get value(){return a.signal},get label(){return a.label},get class(){return Rr.input},[H]:{class:H,label:Cn(a,"label"),type:Cn(a,"type"),value:Cn(a,"signal")}},3,"EF_0")],1,a.key))],1,null),1,null),W("div",null,{class:Rr.footer},de(si,{get class(){return Rr.saveButton},children:$localize`component.RecipePage_EditPage.save_btn`,onClick:s,[H]:{class:H,onClick:H}},1,"EF_1"),1,null)],1,"EF_2")},jE=Re(ue(mz,"s_zkLy9j1L0TE")),_z=(e,{redirect:t})=>{throw t(302,`/recipes/${e.id}`)},VE=Bn(ue(_z,"s_0aLHZe6KKIY")),gz=()=>{qe(Hi);const e=VE();return de(jE,{onSave:e,[H]:{onSave:H}},3,"6W_0")},vz=Re(ue(gz,"s_q0qZrjjkaxw")),yz={title:$localize`pages.recipeCreate.head_title`},bz=Object.freeze(Object.defineProperty({__proto__:null,default:vz,head:yz,useCreate:VE},Symbol.toStringTag,{value:"Module"}));var _h={exports:{}};(function(e,t){(function(n,r){var i="1.0.37",s="",o="?",a="function",c="undefined",l="object",u="string",d="major",f="model",p="name",g="type",h="vendor",m="version",_="architecture",v="console",y="mobile",b="tablet",$="smarttv",S="wearable",I="embedded",x=500,A="Amazon",C="Apple",N="ASUS",T="BlackBerry",k="Browser",E="Chrome",M="Edge",Y="Firefox",q="Google",ae="Huawei",Z="LG",J="Microsoft",F="Motorola",P="Opera",ie="Samsung",ce="Sharp",te="Sony",be="Xiaomi",He="Zebra",we="Facebook",Se="Chromium OS",Me="Mac OS",Le=function(G,se){var le={};for(var pe in G)se[pe]&&se[pe].length%2===0?le[pe]=se[pe].concat(G[pe]):le[pe]=G[pe];return le},Je=function(G){for(var se={},le=0;le<G.length;le++)se[G[le].toUpperCase()]=G[le];return se},it=function(G,se){return typeof G===u?w(se).indexOf(w(G))!==-1:!1},w=function(G){return G.toLowerCase()},j=function(G){return typeof G===u?G.replace(/[^\d\.]/g,s).split(".")[0]:r},U=function(G,se){if(typeof G===u)return G=G.replace(/^\s\s*/,s),typeof se===c?G:G.substring(0,x)},O=function(G,se){for(var le=0,pe,Qe,ct,Ee,_e,Ce;le<se.length&&!_e;){var V=se[le],ee=se[le+1];for(pe=Qe=0;pe<V.length&&!_e&&V[pe];)if(_e=V[pe++].exec(G),_e)for(ct=0;ct<ee.length;ct++)Ce=_e[++Qe],Ee=ee[ct],typeof Ee===l&&Ee.length>0?Ee.length===2?typeof Ee[1]==a?this[Ee[0]]=Ee[1].call(this,Ce):this[Ee[0]]=Ee[1]:Ee.length===3?typeof Ee[1]===a&&!(Ee[1].exec&&Ee[1].test)?this[Ee[0]]=Ce?Ee[1].call(this,Ce,Ee[2]):r:this[Ee[0]]=Ce?Ce.replace(Ee[1],Ee[2]):r:Ee.length===4&&(this[Ee[0]]=Ce?Ee[3].call(this,Ce.replace(Ee[1],Ee[2])):r):this[Ee]=Ce||r;le+=2}},R=function(G,se){for(var le in se)if(typeof se[le]===l&&se[le].length>0){for(var pe=0;pe<se[le].length;pe++)if(it(se[le][pe],G))return le===o?r:le}else if(it(se[le],G))return le===o?r:le;return G},D={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,m],[/opios[\/ ]+([\w\.]+)/i],[m,[p,P+" Mini"]],[/\bopr\/([\w\.]+)/i],[m,[p,P]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,m],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[p,"UC"+k]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[p,"Smart Lenovo "+k]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+k],m],[/\bfocus\/([\w\.]+)/i],[m,[p,Y+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[p,P+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[p,P+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[p,"MIUI "+k]],[/fxios\/([-\w\.]+)/i],[m,[p,Y]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+k]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+k],m],[/samsungbrowser\/([\w\.]+)/i],[m,[p,ie+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,m],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,we],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[p,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,E+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[p,"Android "+k]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[m,R,D]],[/(webkit|khtml)\/([\w\.]+)/i],[p,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[p,Y+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,m],[/(cobalt)\/([\w\.]+)/i],[p,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[_,"amd64"]],[/(ia32(?=;))/i],[[_,w]],[/((?:i[346]|x)86)[;\)]/i],[[_,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[_,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[_,"armhf"]],[/windows (ce|mobile); ppc;/i],[[_,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[_,/ower/,s,w]],[/(sun4\w)[;\)]/i],[[_,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[_,w]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[h,ie],[g,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[h,ie],[g,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[h,C],[g,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[h,C],[g,b]],[/(macintosh);/i],[f,[h,C]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[h,ce],[g,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[h,ae],[g,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[h,ae],[g,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[h,be],[g,y]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[h,be],[g,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[h,"OPPO"],[g,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[h,"Vivo"],[g,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[h,"Realme"],[g,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[h,F],[g,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[h,F],[g,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[h,Z],[g,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[h,Z],[g,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[h,"Lenovo"],[g,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[h,"Nokia"],[g,y]],[/(pixel c)\b/i],[f,[h,q],[g,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[h,q],[g,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[h,te],[g,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[h,te],[g,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[h,"OnePlus"],[g,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[h,A],[g,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[h,A],[g,y]],[/(playbook);[-\w\),; ]+(rim)/i],[f,h,[g,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[h,T],[g,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[h,N],[g,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[h,N],[g,y]],[/(nexus 9)/i],[f,[h,"HTC"],[g,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[f,/_/g," "],[g,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[h,"Acer"],[g,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[h,"Meizu"],[g,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[h,"Ulefone"],[g,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,f,[g,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,f,[g,b]],[/(surface duo)/i],[f,[h,J],[g,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[h,"Fairphone"],[g,y]],[/(u304aa)/i],[f,[h,"AT&T"],[g,y]],[/\bsie-(\w*)/i],[f,[h,"Siemens"],[g,y]],[/\b(rct\w+) b/i],[f,[h,"RCA"],[g,b]],[/\b(venue[\d ]{2,7}) b/i],[f,[h,"Dell"],[g,b]],[/\b(q(?:mv|ta)\w+) b/i],[f,[h,"Verizon"],[g,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[h,"Barnes & Noble"],[g,b]],[/\b(tm\d{3}\w+) b/i],[f,[h,"NuVision"],[g,b]],[/\b(k88) b/i],[f,[h,"ZTE"],[g,b]],[/\b(nx\d{3}j) b/i],[f,[h,"ZTE"],[g,y]],[/\b(gen\d{3}) b.+49h/i],[f,[h,"Swiss"],[g,y]],[/\b(zur\d{3}) b/i],[f,[h,"Swiss"],[g,b]],[/\b((zeki)?tb.*\b) b/i],[f,[h,"Zeki"],[g,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],f,[g,b]],[/\b(ns-?\w{0,9}) b/i],[f,[h,"Insignia"],[g,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[h,"NextBook"],[g,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],f,[g,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],f,[g,y]],[/\b(ph-1) /i],[f,[h,"Essential"],[g,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[h,"Envizen"],[g,b]],[/\b(trio[-\w\. ]+) b/i],[f,[h,"MachSpeed"],[g,b]],[/\btu_(1491) b/i],[f,[h,"Rotor"],[g,b]],[/(shield[\w ]+) b/i],[f,[h,"Nvidia"],[g,b]],[/(sprint) (\w+)/i],[h,f,[g,y]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[h,J],[g,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[h,He],[g,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[h,He],[g,y]],[/smart-tv.+(samsung)/i],[h,[g,$]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[h,ie],[g,$]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,Z],[g,$]],[/(apple) ?tv/i],[h,[f,C+" TV"],[g,$]],[/crkey/i],[[f,E+"cast"],[h,q],[g,$]],[/droid.+aft(\w+)( bui|\))/i],[f,[h,A],[g,$]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[h,ce],[g,$]],[/(bravia[\w ]+)( bui|\))/i],[f,[h,te],[g,$]],[/(mitv-\w{5}) bui/i],[f,[h,be],[g,$]],[/Hbbtv.*(technisat) (.*);/i],[h,f,[g,$]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,U],[f,U],[g,$]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,$]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,f,[g,v]],[/droid.+; (shield) bui/i],[f,[h,"Nvidia"],[g,v]],[/(playstation [345portablevi]+)/i],[f,[h,te],[g,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[h,J],[g,v]],[/((pebble))app/i],[h,f,[g,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[h,C],[g,S]],[/droid.+; (glass) \d/i],[f,[h,q],[g,S]],[/droid.+; (wt63?0{2,3})\)/i],[f,[h,He],[g,S]],[/(quest( 2| pro)?)/i],[f,[h,we],[g,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[g,I]],[/(aeobc)\b/i],[f,[h,A],[g,I]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[g,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[g,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,y]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[p,M+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[m,R,X]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,R,X],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,Me],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,m],[/\(bb(10);/i],[m,[p,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[p,Y+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[p,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,Se],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,m],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,m]]},L=function(G,se){if(typeof G===l&&(se=G,G=r),!(this instanceof L))return new L(G,se).getResult();var le=typeof n!==c&&n.navigator?n.navigator:r,pe=G||(le&&le.userAgent?le.userAgent:s),Qe=le&&le.userAgentData?le.userAgentData:r,ct=se?Le(Q,se):Q,Ee=le&&le.userAgent==pe;return this.getBrowser=function(){var _e={};return _e[p]=r,_e[m]=r,O.call(_e,pe,ct.browser),_e[d]=j(_e[m]),Ee&&le&&le.brave&&typeof le.brave.isBrave==a&&(_e[p]="Brave"),_e},this.getCPU=function(){var _e={};return _e[_]=r,O.call(_e,pe,ct.cpu),_e},this.getDevice=function(){var _e={};return _e[h]=r,_e[f]=r,_e[g]=r,O.call(_e,pe,ct.device),Ee&&!_e[g]&&Qe&&Qe.mobile&&(_e[g]=y),Ee&&_e[f]=="Macintosh"&&le&&typeof le.standalone!==c&&le.maxTouchPoints&&le.maxTouchPoints>2&&(_e[f]="iPad",_e[g]=b),_e},this.getEngine=function(){var _e={};return _e[p]=r,_e[m]=r,O.call(_e,pe,ct.engine),_e},this.getOS=function(){var _e={};return _e[p]=r,_e[m]=r,O.call(_e,pe,ct.os),Ee&&!_e[p]&&Qe&&Qe.platform!="Unknown"&&(_e[p]=Qe.platform.replace(/chrome os/i,Se).replace(/macos/i,Me)),_e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return pe},this.setUA=function(_e){return pe=typeof _e===u&&_e.length>x?U(_e,x):_e,this},this.setUA(pe),this};L.VERSION=i,L.BROWSER=Je([p,m,d]),L.CPU=Je([_]),L.DEVICE=Je([f,h,g,v,y,$,b,S,I]),L.ENGINE=L.OS=Je([p,m]),e.exports&&(t=e.exports=L),t.UAParser=L;var ne=typeof n!==c&&(n.jQuery||n.Zepto);if(ne&&!ne.ua){var fe=new L;ne.ua=fe.getResult(),ne.ua.get=function(){return fe.getUA()},ne.ua.set=function(G){fe.setUA(G);var se=fe.getResult();for(var le in se)ne.ua[le]=se[le]}}})(typeof window=="object"?window:wo)})(_h,_h.exports);var wz=_h.exports;const Ez=n2(wz),$z="MIT",Sz="_page_1mw4f_1",Iz="_image_1mw4f_10",Tz="_paper_1mw4f_18",xz="_content_1mw4f_32",Az="_infoBox_1mw4f_38",Rz="_infoName_1mw4f_45",Cz="_infoValue_1mw4f_49",Oz="_header_1mw4f_53",kz="_footer_1mw4f_58",Yn={page:Sz,image:Iz,paper:Tz,content:xz,infoBox:Az,infoName:Rz,infoValue:Cz,header:Oz,footer:kz},Nz="/build/q-ncWs4irB.webp 200w, /build/q-FTGTsork.webp 400w, /build/q-eI_OfbIP.webp 600w, /build/q-R3OAhY0A.webp 760w",Pz=760,Dz=696,Mz={srcSet:Nz,width:Pz,height:Dz};function Lz(e,t,n,r){return W("img",{decoding:"async",loading:"lazy",...e},Mz,void 0,3,t)}var Fz={DATE:"2024-02-05T22:24:46.171Z",VERSION:"1.23.0"};const HE=Fz.VERSION,Uz=async e=>{const t=e.request.headers.get("user-agent");return Ez(t)},GE=ji(ue(Uz,"s_3Pd7rNFAnHk")),Bz=e=>W("div",null,{class:Yn.infoBox},[W("span",null,{class:Yn.infoName},xt(t=>t.name,[e],"p0.name"),3,null),e.value&&W("span",null,{class:Yn.infoValue},xt(t=>t.value,[e],"p0.value"),3,"OE_0")],1,e.label+e.name),gh=Re(ue(Bz,"s_Nsh9S0Su4Jw")),zz=()=>W("div",null,{class:Yn.separator},null,3,"OE_1"),YE=Re(ue(zz,"s_yMuYnsHcpkU")),qz=()=>{const e=GE(),t=Kn({availWidth:0,availHeight:0}),n=["browser","engine","os"].filter(r=>e.value[r]).map(r=>{const i=e.value[r].name,s=e.value[r].version;return{label:r,name:i,value:s}});return t.availWidth&&n.push({name:$localize`pages.about.widthLabel`,value:t.availWidth.toFixed(0)}),t.availHeight&&n.push({name:$localize`pages.about.heightLabel`,value:t.availHeight.toFixed(0)}),e.value.device.vendor&&n.push({label:$localize`pages.about.deviceLabel`,name:e.value.device.vendor,value:e.value.device.model}),n.push({label:$localize`pages.about.architectureLabel`,name:e.value.cpu.architecture}),wr(Yt("s_l5W5JXP0y9Q",[t])),de(St,{children:W("div",null,{class:Yn.page},[W("div",null,{class:Yn.paper},[W("div",null,{class:Yn.header},"Tastoria",3,null),W("div",null,{class:Yn.content},[de(gh,{name:$localize`pages.about.LicenseLabel`,value:$z,[H]:{value:H}},3,"OE_2"),de(YE,null,3,"OE_3"),...n.map(r=>de(gh,{get label(){return r.label},get name(){return r.name},get value(){return r.value},[H]:{label:Cn(r,"label"),name:Cn(r,"name"),value:Cn(r,"value")}},3,r.label))],1,null),W("div",null,{class:Yn.footer},["v.",HE],3,null)],1,null),de(Lz,{get class(){return Yn.image},[H]:{class:H}},3,"OE_4")],1,null)},1,"OE_5")},Wz=Re(ue(qz,"s_ViycXRQlp0Q")),jz={title:$localize`pages.about.head_title`},Vz=Object.freeze(Object.defineProperty({__proto__:null,_auto_InfoBox:gh,_auto_Separator:YE,_auto_version:HE,default:Wz,head:jz,useUserAgentDetails:GE},Symbol.toStringTag,{value:"Module"})),la=15,vh=30,yh=19,Hz=29,rl=256,Lm=rl+1+Hz,Qg=2*Lm+1,fo=256,Gz=7,Zg=16,Jg=17,ev=18,Md=8*2,il=-1,Yz=1,nc=2,Kz=0,ss=0,tv=1,Xz=3,Wt=4,xn=0,KE=1,rc=2,An=-2,Qz=-3,Ji=-5;function ju(e){return Vu(e.map(([t,n])=>new Array(t).fill(n,0,t)))}function Vu(e){return e.reduce((t,n)=>t.concat(Array.isArray(n)?Vu(n):n),[])}const nv=[0,1,2,3].concat(...ju([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function We(){const e=this;function t(i){const s=e.dyn_tree,o=e.stat_desc.static_tree,a=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,l=e.stat_desc.max_length;let u,d,f,p,g,h,m=0;for(p=0;p<=la;p++)i.bl_count[p]=0;for(s[i.heap[i.heap_max]*2+1]=0,u=i.heap_max+1;u<Qg;u++)d=i.heap[u],p=s[s[d*2+1]*2+1]+1,p>l&&(p=l,m++),s[d*2+1]=p,!(d>e.max_code)&&(i.bl_count[p]++,g=0,d>=c&&(g=a[d-c]),h=s[d*2],i.opt_len+=h*(p+g),o&&(i.static_len+=h*(o[d*2+1]+g)));if(m!==0){do{for(p=l-1;i.bl_count[p]===0;)p--;i.bl_count[p]--,i.bl_count[p+1]+=2,i.bl_count[l]--,m-=2}while(m>0);for(p=l;p!==0;p--)for(d=i.bl_count[p];d!==0;)f=i.heap[--u],!(f>e.max_code)&&(s[f*2+1]!=p&&(i.opt_len+=(p-s[f*2+1])*s[f*2],s[f*2+1]=p),d--)}}function n(i,s){let o=0;do o|=i&1,i>>>=1,o<<=1;while(--s>0);return o>>>1}function r(i,s,o){const a=[];let c=0,l,u,d;for(l=1;l<=la;l++)a[l]=c=c+o[l-1]<<1;for(u=0;u<=s;u++)d=i[u*2+1],d!==0&&(i[u*2]=n(a[d]++,d))}e.build_tree=function(i){const s=e.dyn_tree,o=e.stat_desc.static_tree,a=e.stat_desc.elems;let c,l,u=-1,d;for(i.heap_len=0,i.heap_max=Qg,c=0;c<a;c++)s[c*2]!==0?(i.heap[++i.heap_len]=u=c,i.depth[c]=0):s[c*2+1]=0;for(;i.heap_len<2;)d=i.heap[++i.heap_len]=u<2?++u:0,s[d*2]=1,i.depth[d]=0,i.opt_len--,o&&(i.static_len-=o[d*2+1]);for(e.max_code=u,c=Math.floor(i.heap_len/2);c>=1;c--)i.pqdownheap(s,c);d=a;do c=i.heap[1],i.heap[1]=i.heap[i.heap_len--],i.pqdownheap(s,1),l=i.heap[1],i.heap[--i.heap_max]=c,i.heap[--i.heap_max]=l,s[d*2]=s[c*2]+s[l*2],i.depth[d]=Math.max(i.depth[c],i.depth[l])+1,s[c*2+1]=s[l*2+1]=d,i.heap[1]=d++,i.pqdownheap(s,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],t(i),r(s,e.max_code,i.bl_count)}}We._length_code=[0,1,2,3,4,5,6,7].concat(...ju([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]]));We.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];We.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];We.d_code=function(e){return e<256?nv[e]:nv[256+(e>>>7)]};We.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];We.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];We.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];We.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function At(e,t,n,r,i){const s=this;s.static_tree=e,s.extra_bits=t,s.extra_base=n,s.elems=r,s.max_length=i}const Zz=[12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227],Jz=ju([[144,8],[112,9],[24,7],[8,8]]);At.static_ltree=Vu(Zz.map((e,t)=>[e,Jz[t]]));const eq=[0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23],tq=ju([[30,5]]);At.static_dtree=Vu(eq.map((e,t)=>[e,tq[t]]));At.static_l_desc=new At(At.static_ltree,We.extra_lbits,rl+1,Lm,la);At.static_d_desc=new At(At.static_dtree,We.extra_dbits,0,vh,la);At.static_bl_desc=new At(null,We.extra_blbits,0,yh,Gz);const nq=9,rq=8;function qn(e,t,n,r,i){const s=this;s.good_length=e,s.max_lazy=t,s.nice_length=n,s.max_chain=r,s.func=i}const XE=0,bc=1,vi=2,In=[new qn(0,0,0,0,XE),new qn(4,4,8,4,bc),new qn(4,5,16,8,bc),new qn(4,6,32,32,bc),new qn(4,4,16,16,vi),new qn(8,16,32,32,vi),new qn(8,16,128,128,vi),new qn(8,32,128,256,vi),new qn(32,128,258,1024,vi),new qn(32,258,258,4096,vi)],ic=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],un=0,sc=1,ho=2,oc=3,iq=32,Ld=42,ac=113,po=666,Fd=8,sq=0,Ud=1,oq=2,Ge=3,wc=258,Xt=wc+Ge+1;function rv(e,t,n,r){const i=e[t*2],s=e[n*2];return i<s||i==s&&r[t]<=r[n]}function aq(){const e=this;let t,n,r,i,s,o,a,c,l,u,d,f,p,g,h,m,_,v,y,b,$,S,I,x,A,C,N,T,k,E,M,Y,q;const ae=new We,Z=new We,J=new We;e.depth=[];let F,P,ie,ce,te,be;e.bl_count=[],e.heap=[],M=[],Y=[],q=[];function He(){l=2*s,d[p-1]=0;for(let V=0;V<p-1;V++)d[V]=0;C=In[N].max_lazy,k=In[N].good_length,E=In[N].nice_length,A=In[N].max_chain,$=0,_=0,I=0,v=x=Ge-1,b=0,f=0}function we(){let V;for(V=0;V<Lm;V++)M[V*2]=0;for(V=0;V<vh;V++)Y[V*2]=0;for(V=0;V<yh;V++)q[V*2]=0;M[fo*2]=1,e.opt_len=e.static_len=0,P=ie=0}function Se(){ae.dyn_tree=M,ae.stat_desc=At.static_l_desc,Z.dyn_tree=Y,Z.stat_desc=At.static_d_desc,J.dyn_tree=q,J.stat_desc=At.static_bl_desc,te=0,be=0,ce=8,we()}e.pqdownheap=function(V,ee){const K=e.heap,re=K[ee];let he=ee<<1;for(;he<=e.heap_len&&(he<e.heap_len&&rv(V,K[he+1],K[he],e.depth)&&he++,!rv(V,re,K[he],e.depth));)K[ee]=K[he],ee=he,he<<=1;K[ee]=re};function Me(V,ee){let K=-1,re,he=V[0*2+1],ge=0,xe=7,_t=4;he===0&&(xe=138,_t=3),V[(ee+1)*2+1]=65535;for(let It=0;It<=ee;It++)re=he,he=V[(It+1)*2+1],!(++ge<xe&&re==he)&&(ge<_t?q[re*2]+=ge:re!==0?(re!=K&&q[re*2]++,q[Zg*2]++):ge<=10?q[Jg*2]++:q[ev*2]++,ge=0,K=re,he===0?(xe=138,_t=3):re==he?(xe=6,_t=3):(xe=7,_t=4))}function Le(){let V;for(Me(M,ae.max_code),Me(Y,Z.max_code),J.build_tree(e),V=yh-1;V>=3&&q[We.bl_order[V]*2+1]===0;V--);return e.opt_len+=3*(V+1)+5+5+4,V}function Je(V){e.pending_buf[e.pending++]=V}function it(V){Je(V&255),Je(V>>>8&255)}function w(V){Je(V>>8&255),Je(V&255&255)}function j(V,ee){let K;const re=ee;be>Md-re?(K=V,te|=K<<be&65535,it(te),te=K>>>Md-be,be+=re-Md):(te|=V<<be&65535,be+=re)}function U(V,ee){const K=V*2;j(ee[K]&65535,ee[K+1]&65535)}function O(V,ee){let K,re=-1,he,ge=V[0*2+1],xe=0,_t=7,It=4;for(ge===0&&(_t=138,It=3),K=0;K<=ee;K++)if(he=ge,ge=V[(K+1)*2+1],!(++xe<_t&&he==ge)){if(xe<It)do U(he,q);while(--xe!==0);else he!==0?(he!=re&&(U(he,q),xe--),U(Zg,q),j(xe-3,2)):xe<=10?(U(Jg,q),j(xe-3,3)):(U(ev,q),j(xe-11,7));xe=0,re=he,ge===0?(_t=138,It=3):he==ge?(_t=6,It=3):(_t=7,It=4)}}function R(V,ee,K){let re;for(j(V-257,5),j(ee-1,5),j(K-4,4),re=0;re<K;re++)j(q[We.bl_order[re]*2+1],3);O(M,V-1),O(Y,ee-1)}function D(){be==16?(it(te),te=0,be=0):be>=8&&(Je(te&255),te>>>=8,be-=8)}function X(){j(Ud<<1,3),U(fo,At.static_ltree),D(),1+ce+10-be<9&&(j(Ud<<1,3),U(fo,At.static_ltree),D()),ce=7}function Q(V,ee){let K,re,he;if(e.dist_buf[P]=V,e.lc_buf[P]=ee&255,P++,V===0?M[ee*2]++:(ie++,V--,M[(We._length_code[ee]+rl+1)*2]++,Y[We.d_code(V)*2]++),!(P&8191)&&N>2){for(K=P*8,re=$-_,he=0;he<vh;he++)K+=Y[he*2]*(5+We.extra_dbits[he]);if(K>>>=3,ie<Math.floor(P/2)&&K<Math.floor(re/2))return!0}return P==F-1}function L(V,ee){let K,re,he=0,ge,xe;if(P!==0)do K=e.dist_buf[he],re=e.lc_buf[he],he++,K===0?U(re,V):(ge=We._length_code[re],U(ge+rl+1,V),xe=We.extra_lbits[ge],xe!==0&&(re-=We.base_length[ge],j(re,xe)),K--,ge=We.d_code(K),U(ge,ee),xe=We.extra_dbits[ge],xe!==0&&(K-=We.base_dist[ge],j(K,xe)));while(he<P);U(fo,V),ce=V[fo*2+1]}function ne(){be>8?it(te):be>0&&Je(te&255),te=0,be=0}function fe(V,ee,K){ne(),ce=8,K&&(it(ee),it(~ee)),e.pending_buf.set(c.subarray(V,V+ee),e.pending),e.pending+=ee}function G(V,ee,K){j((sq<<1)+(K?1:0),3),fe(V,ee,!0)}function se(V,ee,K){let re,he,ge=0;N>0?(ae.build_tree(e),Z.build_tree(e),ge=Le(),re=e.opt_len+3+7>>>3,he=e.static_len+3+7>>>3,he<=re&&(re=he)):re=he=ee+5,ee+4<=re&&V!=-1?G(V,ee,K):he==re?(j((Ud<<1)+(K?1:0),3),L(At.static_ltree,At.static_dtree)):(j((oq<<1)+(K?1:0),3),R(ae.max_code+1,Z.max_code+1,ge+1),L(M,Y)),we(),K&&ne()}function le(V){se(_>=0?_:-1,$-_,V),_=$,t.flush_pending()}function pe(){let V,ee,K,re;do{if(re=l-I-$,re===0&&$===0&&I===0)re=s;else if(re==-1)re--;else if($>=s+s-Xt){c.set(c.subarray(s,s+s),0),S-=s,$-=s,_-=s,V=p,K=V;do ee=d[--K]&65535,d[K]=ee>=s?ee-s:0;while(--V!==0);V=s,K=V;do ee=u[--K]&65535,u[K]=ee>=s?ee-s:0;while(--V!==0);re+=s}if(t.avail_in===0)return;V=t.read_buf(c,$+I,re),I+=V,I>=Ge&&(f=c[$]&255,f=(f<<m^c[$+1]&255)&h)}while(I<Xt&&t.avail_in!==0)}function Qe(V){let ee=65535,K;for(ee>r-5&&(ee=r-5);;){if(I<=1){if(pe(),I===0&&V==ss)return un;if(I===0)break}if($+=I,I=0,K=_+ee,($===0||$>=K)&&(I=$-K,$=K,le(!1),t.avail_out===0)||$-_>=s-Xt&&(le(!1),t.avail_out===0))return un}return le(V==Wt),t.avail_out===0?V==Wt?ho:un:V==Wt?oc:sc}function ct(V){let ee=A,K=$,re,he,ge=x;const xe=$>s-Xt?$-(s-Xt):0;let _t=E;const It=a,xr=$+wc;let Km=c[K+ge-1],Xm=c[K+ge];x>=k&&(ee>>=2),_t>I&&(_t=I);do if(re=V,!(c[re+ge]!=Xm||c[re+ge-1]!=Km||c[re]!=c[K]||c[++re]!=c[K+1])){K+=2,re++;do;while(c[++K]==c[++re]&&c[++K]==c[++re]&&c[++K]==c[++re]&&c[++K]==c[++re]&&c[++K]==c[++re]&&c[++K]==c[++re]&&c[++K]==c[++re]&&c[++K]==c[++re]&&K<xr);if(he=wc-(xr-K),K=xr-wc,he>ge){if(S=V,ge=he,he>=_t)break;Km=c[K+ge-1],Xm=c[K+ge]}}while((V=u[V&It]&65535)>xe&&--ee!==0);return ge<=I?ge:I}function Ee(V){let ee=0,K;for(;;){if(I<Xt){if(pe(),I<Xt&&V==ss)return un;if(I===0)break}if(I>=Ge&&(f=(f<<m^c[$+(Ge-1)]&255)&h,ee=d[f]&65535,u[$&a]=d[f],d[f]=$),ee!==0&&($-ee&65535)<=s-Xt&&T!=nc&&(v=ct(ee)),v>=Ge)if(K=Q($-S,v-Ge),I-=v,v<=C&&I>=Ge){v--;do $++,f=(f<<m^c[$+(Ge-1)]&255)&h,ee=d[f]&65535,u[$&a]=d[f],d[f]=$;while(--v!==0);$++}else $+=v,v=0,f=c[$]&255,f=(f<<m^c[$+1]&255)&h;else K=Q(0,c[$]&255),I--,$++;if(K&&(le(!1),t.avail_out===0))return un}return le(V==Wt),t.avail_out===0?V==Wt?ho:un:V==Wt?oc:sc}function _e(V){let ee=0,K,re;for(;;){if(I<Xt){if(pe(),I<Xt&&V==ss)return un;if(I===0)break}if(I>=Ge&&(f=(f<<m^c[$+(Ge-1)]&255)&h,ee=d[f]&65535,u[$&a]=d[f],d[f]=$),x=v,y=S,v=Ge-1,ee!==0&&x<C&&($-ee&65535)<=s-Xt&&(T!=nc&&(v=ct(ee)),v<=5&&(T==Yz||v==Ge&&$-S>4096)&&(v=Ge-1)),x>=Ge&&v<=x){re=$+I-Ge,K=Q($-1-y,x-Ge),I-=x-1,x-=2;do++$<=re&&(f=(f<<m^c[$+(Ge-1)]&255)&h,ee=d[f]&65535,u[$&a]=d[f],d[f]=$);while(--x!==0);if(b=0,v=Ge-1,$++,K&&(le(!1),t.avail_out===0))return un}else if(b!==0){if(K=Q(0,c[$-1]&255),K&&le(!1),$++,I--,t.avail_out===0)return un}else b=1,$++,I--}return b!==0&&(K=Q(0,c[$-1]&255),b=0),le(V==Wt),t.avail_out===0?V==Wt?ho:un:V==Wt?oc:sc}function Ce(V){return V.total_in=V.total_out=0,V.msg=null,e.pending=0,e.pending_out=0,n=ac,i=ss,Se(),He(),xn}e.deflateInit=function(V,ee,K,re,he,ge){return re||(re=Fd),he||(he=rq),ge||(ge=Kz),V.msg=null,ee==il&&(ee=6),he<1||he>nq||re!=Fd||K<9||K>15||ee<0||ee>9||ge<0||ge>nc?An:(V.dstate=e,o=K,s=1<<o,a=s-1,g=he+7,p=1<<g,h=p-1,m=Math.floor((g+Ge-1)/Ge),c=new Uint8Array(s*2),u=[],d=[],F=1<<he+6,e.pending_buf=new Uint8Array(F*4),r=F*4,e.dist_buf=new Uint16Array(F),e.lc_buf=new Uint8Array(F),N=ee,T=ge,Ce(V))},e.deflateEnd=function(){return n!=Ld&&n!=ac&&n!=po?An:(e.lc_buf=null,e.dist_buf=null,e.pending_buf=null,d=null,u=null,c=null,e.dstate=null,n==ac?Qz:xn)},e.deflateParams=function(V,ee,K){let re=xn;return ee==il&&(ee=6),ee<0||ee>9||K<0||K>nc?An:(In[N].func!=In[ee].func&&V.total_in!==0&&(re=V.deflate(tv)),N!=ee&&(N=ee,C=In[N].max_lazy,k=In[N].good_length,E=In[N].nice_length,A=In[N].max_chain),T=K,re)},e.deflateSetDictionary=function(V,ee,K){let re=K,he,ge=0;if(!ee||n!=Ld)return An;if(re<Ge)return xn;for(re>s-Xt&&(re=s-Xt,ge=K-re),c.set(ee.subarray(ge,ge+re),0),$=re,_=re,f=c[0]&255,f=(f<<m^c[1]&255)&h,he=0;he<=re-Ge;he++)f=(f<<m^c[he+(Ge-1)]&255)&h,u[he&a]=d[f],d[f]=he;return xn},e.deflate=function(V,ee){let K,re,he,ge,xe;if(ee>Wt||ee<0)return An;if(!V.next_out||!V.next_in&&V.avail_in!==0||n==po&&ee!=Wt)return V.msg=ic[rc-An],An;if(V.avail_out===0)return V.msg=ic[rc-Ji],Ji;if(t=V,ge=i,i=ee,n==Ld&&(re=Fd+(o-8<<4)<<8,he=(N-1&255)>>1,he>3&&(he=3),re|=he<<6,$!==0&&(re|=iq),re+=31-re%31,n=ac,w(re)),e.pending!==0){if(t.flush_pending(),t.avail_out===0)return i=-1,xn}else if(t.avail_in===0&&ee<=ge&&ee!=Wt)return t.msg=ic[rc-Ji],Ji;if(n==po&&t.avail_in!==0)return V.msg=ic[rc-Ji],Ji;if(t.avail_in!==0||I!==0||ee!=ss&&n!=po){switch(xe=-1,In[N].func){case XE:xe=Qe(ee);break;case bc:xe=Ee(ee);break;case vi:xe=_e(ee);break}if((xe==ho||xe==oc)&&(n=po),xe==un||xe==ho)return t.avail_out===0&&(i=-1),xn;if(xe==sc){if(ee==tv)X();else if(G(0,0,!1),ee==Xz)for(K=0;K<p;K++)d[K]=0;if(t.flush_pending(),t.avail_out===0)return i=-1,xn}}return ee!=Wt?xn:KE}}function QE(){const e=this;e.next_in_index=0,e.next_out_index=0,e.avail_in=0,e.total_in=0,e.avail_out=0,e.total_out=0}QE.prototype={deflateInit(e,t){const n=this;return n.dstate=new aq,t||(t=la),n.dstate.deflateInit(n,e,t)},deflate(e){const t=this;return t.dstate?t.dstate.deflate(t,e):An},deflateEnd(){const e=this;if(!e.dstate)return An;const t=e.dstate.deflateEnd();return e.dstate=null,t},deflateParams(e,t){const n=this;return n.dstate?n.dstate.deflateParams(n,e,t):An},deflateSetDictionary(e,t){const n=this;return n.dstate?n.dstate.deflateSetDictionary(n,e,t):An},read_buf(e,t,n){const r=this;let i=r.avail_in;return i>n&&(i=n),i===0?0:(r.avail_in-=i,e.set(r.next_in.subarray(r.next_in_index,r.next_in_index+i),t),r.next_in_index+=i,r.total_in+=i,i)},flush_pending(){const e=this;let t=e.dstate.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(e.next_out.set(e.dstate.pending_buf.subarray(e.dstate.pending_out,e.dstate.pending_out+t),e.next_out_index),e.next_out_index+=t,e.dstate.pending_out+=t,e.total_out+=t,e.avail_out-=t,e.dstate.pending-=t,e.dstate.pending===0&&(e.dstate.pending_out=0))}};function cq(e){const t=this,n=new QE,r=lq(e&&e.chunkSize?e.chunkSize:64*1024),i=ss,s=new Uint8Array(r);let o=e?e.level:il;typeof o>"u"&&(o=il),n.deflateInit(o),n.next_out=s,t.append=function(a,c){let l,u,d=0,f=0,p=0;const g=[];if(a.length){n.next_in_index=0,n.next_in=a,n.avail_in=a.length;do{if(n.next_out_index=0,n.avail_out=r,l=n.deflate(i),l!=xn)throw new Error("deflating: "+n.msg);n.next_out_index&&(n.next_out_index==r?g.push(new Uint8Array(s)):g.push(s.subarray(0,n.next_out_index))),p+=n.next_out_index,c&&n.next_in_index>0&&n.next_in_index!=d&&(c(n.next_in_index),d=n.next_in_index)}while(n.avail_in>0||n.avail_out===0);return g.length>1?(u=new Uint8Array(p),g.forEach(function(h){u.set(h,f),f+=h.length})):u=g[0]?new Uint8Array(g[0]):new Uint8Array,u}},t.flush=function(){let a,c,l=0,u=0;const d=[];do{if(n.next_out_index=0,n.avail_out=r,a=n.deflate(Wt),a!=KE&&a!=xn)throw new Error("deflating: "+n.msg);r-n.avail_out>0&&d.push(s.slice(0,n.next_out_index)),u+=n.next_out_index}while(n.avail_in>0||n.avail_out===0);return n.deflateEnd(),c=new Uint8Array(u),d.forEach(function(f){c.set(f,l),l+=f.length}),c}}function lq(e){return e+5*(Math.floor(e/16383)+1)}const uq=15,Oe=0,pr=1,dq=2,jt=-2,Ve=-3,iv=-4,mr=-5,Zt=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],ZE=1440,fq=0,hq=4,pq=9,mq=5,_q=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],gq=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],vq=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],yq=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],bq=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],wq=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Cr=15;function bh(){const e=this;let t,n,r,i,s,o;function a(l,u,d,f,p,g,h,m,_,v,y){let b,$,S,I,x,A,C,N,T,k,E,M,Y,q,ae;k=0,x=d;do r[l[u+k]]++,k++,x--;while(x!==0);if(r[0]==d)return h[0]=-1,m[0]=0,Oe;for(N=m[0],A=1;A<=Cr&&r[A]===0;A++);for(C=A,N<A&&(N=A),x=Cr;x!==0&&r[x]===0;x--);for(S=x,N>x&&(N=x),m[0]=N,q=1<<A;A<x;A++,q<<=1)if((q-=r[A])<0)return Ve;if((q-=r[x])<0)return Ve;for(r[x]+=q,o[1]=A=0,k=1,Y=2;--x!==0;)o[Y]=A+=r[k],Y++,k++;x=0,k=0;do(A=l[u+k])!==0&&(y[o[A]++]=x),k++;while(++x<d);for(d=o[S],o[0]=x=0,k=0,I=-1,M=-N,s[0]=0,E=0,ae=0;C<=S;C++)for(b=r[C];b--!==0;){for(;C>M+N;){if(I++,M+=N,ae=S-M,ae=ae>N?N:ae,($=1<<(A=C-M))>b+1&&($-=b+1,Y=C,A<ae))for(;++A<ae&&!(($<<=1)<=r[++Y]);)$-=r[Y];if(ae=1<<A,v[0]+ae>ZE)return Ve;s[I]=E=v[0],v[0]+=ae,I!==0?(o[I]=x,i[0]=A,i[1]=N,A=x>>>M-N,i[2]=E-s[I-1]-A,_.set(i,(s[I-1]+A)*3)):h[0]=E}for(i[1]=C-M,k>=d?i[0]=192:y[k]<f?(i[0]=y[k]<256?0:96,i[2]=y[k++]):(i[0]=g[y[k]-f]+16+64,i[2]=p[y[k++]-f]),$=1<<C-M,A=x>>>M;A<ae;A+=$)_.set(i,(E+A)*3);for(A=1<<C-1;x&A;A>>>=1)x^=A;for(x^=A,T=(1<<M)-1;(x&T)!=o[I];)I--,M-=N,T=(1<<M)-1}return q!==0&&S!=1?mr:Oe}function c(l){let u;for(t||(t=[],n=[],r=new Int32Array(Cr+1),i=[],s=new Int32Array(Cr),o=new Int32Array(Cr+1)),n.length<l&&(n=[]),u=0;u<l;u++)n[u]=0;for(u=0;u<Cr+1;u++)r[u]=0;for(u=0;u<3;u++)i[u]=0;s.set(r.subarray(0,Cr),0),o.set(r.subarray(0,Cr+1),0)}e.inflate_trees_bits=function(l,u,d,f,p){let g;return c(19),t[0]=0,g=a(l,0,19,19,null,null,d,u,f,t,n),g==Ve?p.msg="oversubscribed dynamic bit lengths tree":(g==mr||u[0]===0)&&(p.msg="incomplete dynamic bit lengths tree",g=Ve),g},e.inflate_trees_dynamic=function(l,u,d,f,p,g,h,m,_){let v;return c(288),t[0]=0,v=a(d,0,l,257,vq,yq,g,f,m,t,n),v!=Oe||f[0]===0?(v==Ve?_.msg="oversubscribed literal/length tree":v!=iv&&(_.msg="incomplete literal/length tree",v=Ve),v):(c(288),v=a(d,l,u,0,bq,wq,h,p,m,t,n),v!=Oe||p[0]===0&&l>257?(v==Ve?_.msg="oversubscribed distance tree":v==mr?(_.msg="incomplete distance tree",v=Ve):v!=iv&&(_.msg="empty distance tree with lengths",v=Ve),v):Oe)}}bh.inflate_trees_fixed=function(e,t,n,r){return e[0]=pq,t[0]=mq,n[0]=_q,r[0]=gq,Oe};const cc=0,sv=1,ov=2,av=3,cv=4,lv=5,uv=6,Bd=7,dv=8,lc=9;function Eq(){const e=this;let t,n=0,r,i=0,s=0,o=0,a=0,c=0,l=0,u=0,d,f=0,p,g=0;function h(m,_,v,y,b,$,S,I){let x,A,C,N,T,k,E,M,Y,q,ae,Z,J,F,P,ie;E=I.next_in_index,M=I.avail_in,T=S.bitb,k=S.bitk,Y=S.write,q=Y<S.read?S.read-Y-1:S.end-Y,ae=Zt[m],Z=Zt[_];do{for(;k<20;)M--,T|=(I.read_byte(E++)&255)<<k,k+=8;if(x=T&ae,A=v,C=y,ie=(C+x)*3,(N=A[ie])===0){T>>=A[ie+1],k-=A[ie+1],S.win[Y++]=A[ie+2],q--;continue}do{if(T>>=A[ie+1],k-=A[ie+1],N&16){for(N&=15,J=A[ie+2]+(T&Zt[N]),T>>=N,k-=N;k<15;)M--,T|=(I.read_byte(E++)&255)<<k,k+=8;x=T&Z,A=b,C=$,ie=(C+x)*3,N=A[ie];do if(T>>=A[ie+1],k-=A[ie+1],N&16){for(N&=15;k<N;)M--,T|=(I.read_byte(E++)&255)<<k,k+=8;if(F=A[ie+2]+(T&Zt[N]),T>>=N,k-=N,q-=J,Y>=F)P=Y-F,Y-P>0&&2>Y-P?(S.win[Y++]=S.win[P++],S.win[Y++]=S.win[P++],J-=2):(S.win.set(S.win.subarray(P,P+2),Y),Y+=2,P+=2,J-=2);else{P=Y-F;do P+=S.end;while(P<0);if(N=S.end-P,J>N){if(J-=N,Y-P>0&&N>Y-P)do S.win[Y++]=S.win[P++];while(--N!==0);else S.win.set(S.win.subarray(P,P+N),Y),Y+=N,P+=N,N=0;P=0}}if(Y-P>0&&J>Y-P)do S.win[Y++]=S.win[P++];while(--J!==0);else S.win.set(S.win.subarray(P,P+J),Y),Y+=J,P+=J,J=0;break}else if(!(N&64))x+=A[ie+2],x+=T&Zt[N],ie=(C+x)*3,N=A[ie];else return I.msg="invalid distance code",J=I.avail_in-M,J=k>>3<J?k>>3:J,M+=J,E-=J,k-=J<<3,S.bitb=T,S.bitk=k,I.avail_in=M,I.total_in+=E-I.next_in_index,I.next_in_index=E,S.write=Y,Ve;while(!0);break}if(N&64)return N&32?(J=I.avail_in-M,J=k>>3<J?k>>3:J,M+=J,E-=J,k-=J<<3,S.bitb=T,S.bitk=k,I.avail_in=M,I.total_in+=E-I.next_in_index,I.next_in_index=E,S.write=Y,pr):(I.msg="invalid literal/length code",J=I.avail_in-M,J=k>>3<J?k>>3:J,M+=J,E-=J,k-=J<<3,S.bitb=T,S.bitk=k,I.avail_in=M,I.total_in+=E-I.next_in_index,I.next_in_index=E,S.write=Y,Ve);if(x+=A[ie+2],x+=T&Zt[N],ie=(C+x)*3,(N=A[ie])===0){T>>=A[ie+1],k-=A[ie+1],S.win[Y++]=A[ie+2],q--;break}}while(!0)}while(q>=258&&M>=10);return J=I.avail_in-M,J=k>>3<J?k>>3:J,M+=J,E-=J,k-=J<<3,S.bitb=T,S.bitk=k,I.avail_in=M,I.total_in+=E-I.next_in_index,I.next_in_index=E,S.write=Y,Oe}e.init=function(m,_,v,y,b,$){t=cc,l=m,u=_,d=v,f=y,p=b,g=$,r=null},e.proc=function(m,_,v){let y,b,$,S=0,I=0,x=0,A,C,N,T;for(x=_.next_in_index,A=_.avail_in,S=m.bitb,I=m.bitk,C=m.write,N=C<m.read?m.read-C-1:m.end-C;;)switch(t){case cc:if(N>=258&&A>=10&&(m.bitb=S,m.bitk=I,_.avail_in=A,_.total_in+=x-_.next_in_index,_.next_in_index=x,m.write=C,v=h(l,u,d,f,p,g,m,_),x=_.next_in_index,A=_.avail_in,S=m.bitb,I=m.bitk,C=m.write,N=C<m.read?m.read-C-1:m.end-C,v!=Oe)){t=v==pr?Bd:lc;break}s=l,r=d,i=f,t=sv;case sv:for(y=s;I<y;){if(A!==0)v=Oe;else return m.bitb=S,m.bitk=I,_.avail_in=A,_.total_in+=x-_.next_in_index,_.next_in_index=x,m.write=C,m.inflate_flush(_,v);A--,S|=(_.read_byte(x++)&255)<<I,I+=8}if(b=(i+(S&Zt[y]))*3,S>>>=r[b+1],I-=r[b+1],$=r[b],$===0){o=r[b+2],t=uv;break}if($&16){a=$&15,n=r[b+2],t=ov;break}if(!($&64)){s=$,i=b/3+r[b+2];break}if($&32){t=Bd;break}return t=lc,_.msg="invalid literal/length code",v=Ve,m.bitb=S,m.bitk=I,_.avail_in=A,_.total_in+=x-_.next_in_index,_.next_in_index=x,m.write=C,m.inflate_flush(_,v);case ov:for(y=a;I<y;){if(A!==0)v=Oe;else return m.bitb=S,m.bitk=I,_.avail_in=A,_.total_in+=x-_.next_in_index,_.next_in_index=x,m.write=C,m.inflate_flush(_,v);A--,S|=(_.read_byte(x++)&255)<<I,I+=8}n+=S&Zt[y],S>>=y,I-=y,s=u,r=p,i=g,t=av;case av:for(y=s;I<y;){if(A!==0)v=Oe;else return m.bitb=S,m.bitk=I,_.avail_in=A,_.total_in+=x-_.next_in_index,_.next_in_index=x,m.write=C,m.inflate_flush(_,v);A--,S|=(_.read_byte(x++)&255)<<I,I+=8}if(b=(i+(S&Zt[y]))*3,S>>=r[b+1],I-=r[b+1],$=r[b],$&16){a=$&15,c=r[b+2],t=cv;break}if(!($&64)){s=$,i=b/3+r[b+2];break}return t=lc,_.msg="invalid distance code",v=Ve,m.bitb=S,m.bitk=I,_.avail_in=A,_.total_in+=x-_.next_in_index,_.next_in_index=x,m.write=C,m.inflate_flush(_,v);case cv:for(y=a;I<y;){if(A!==0)v=Oe;else return m.bitb=S,m.bitk=I,_.avail_in=A,_.total_in+=x-_.next_in_index,_.next_in_index=x,m.write=C,m.inflate_flush(_,v);A--,S|=(_.read_byte(x++)&255)<<I,I+=8}c+=S&Zt[y],S>>=y,I-=y,t=lv;case lv:for(T=C-c;T<0;)T+=m.end;for(;n!==0;){if(N===0&&(C==m.end&&m.read!==0&&(C=0,N=C<m.read?m.read-C-1:m.end-C),N===0&&(m.write=C,v=m.inflate_flush(_,v),C=m.write,N=C<m.read?m.read-C-1:m.end-C,C==m.end&&m.read!==0&&(C=0,N=C<m.read?m.read-C-1:m.end-C),N===0)))return m.bitb=S,m.bitk=I,_.avail_in=A,_.total_in+=x-_.next_in_index,_.next_in_index=x,m.write=C,m.inflate_flush(_,v);m.win[C++]=m.win[T++],N--,T==m.end&&(T=0),n--}t=cc;break;case uv:if(N===0&&(C==m.end&&m.read!==0&&(C=0,N=C<m.read?m.read-C-1:m.end-C),N===0&&(m.write=C,v=m.inflate_flush(_,v),C=m.write,N=C<m.read?m.read-C-1:m.end-C,C==m.end&&m.read!==0&&(C=0,N=C<m.read?m.read-C-1:m.end-C),N===0)))return m.bitb=S,m.bitk=I,_.avail_in=A,_.total_in+=x-_.next_in_index,_.next_in_index=x,m.write=C,m.inflate_flush(_,v);v=Oe,m.win[C++]=o,N--,t=cc;break;case Bd:if(I>7&&(I-=8,A++,x--),m.write=C,v=m.inflate_flush(_,v),C=m.write,N=C<m.read?m.read-C-1:m.end-C,m.read!=m.write)return m.bitb=S,m.bitk=I,_.avail_in=A,_.total_in+=x-_.next_in_index,_.next_in_index=x,m.write=C,m.inflate_flush(_,v);t=dv;case dv:return v=pr,m.bitb=S,m.bitk=I,_.avail_in=A,_.total_in+=x-_.next_in_index,_.next_in_index=x,m.write=C,m.inflate_flush(_,v);case lc:return v=Ve,m.bitb=S,m.bitk=I,_.avail_in=A,_.total_in+=x-_.next_in_index,_.next_in_index=x,m.write=C,m.inflate_flush(_,v);default:return v=jt,m.bitb=S,m.bitk=I,_.avail_in=A,_.total_in+=x-_.next_in_index,_.next_in_index=x,m.write=C,m.inflate_flush(_,v)}},e.free=function(){}}const fv=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],es=0,zd=1,hv=2,pv=3,mv=4,_v=5,uc=6,dc=7,gv=8,pi=9;function $q(e,t){const n=this;let r=es,i=0,s=0,o=0,a;const c=[0],l=[0],u=new Eq;let d=0,f=new Int32Array(ZE*3);const p=0,g=new bh;n.bitk=0,n.bitb=0,n.win=new Uint8Array(t),n.end=t,n.read=0,n.write=0,n.reset=function(h,m){m&&(m[0]=p),r==uc&&u.free(h),r=es,n.bitk=0,n.bitb=0,n.read=n.write=0},n.reset(e,null),n.inflate_flush=function(h,m){let _,v,y;return v=h.next_out_index,y=n.read,_=(y<=n.write?n.write:n.end)-y,_>h.avail_out&&(_=h.avail_out),_!==0&&m==mr&&(m=Oe),h.avail_out-=_,h.total_out+=_,h.next_out.set(n.win.subarray(y,y+_),v),v+=_,y+=_,y==n.end&&(y=0,n.write==n.end&&(n.write=0),_=n.write-y,_>h.avail_out&&(_=h.avail_out),_!==0&&m==mr&&(m=Oe),h.avail_out-=_,h.total_out+=_,h.next_out.set(n.win.subarray(y,y+_),v),v+=_,y+=_),h.next_out_index=v,n.read=y,m},n.proc=function(h,m){let _,v,y,b,$,S,I,x;for(b=h.next_in_index,$=h.avail_in,v=n.bitb,y=n.bitk,S=n.write,I=S<n.read?n.read-S-1:n.end-S;;){let A,C,N,T,k,E,M,Y;switch(r){case es:for(;y<3;){if($!==0)m=Oe;else return n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m);$--,v|=(h.read_byte(b++)&255)<<y,y+=8}switch(_=v&7,d=_&1,_>>>1){case 0:v>>>=3,y-=3,_=y&7,v>>>=_,y-=_,r=zd;break;case 1:A=[],C=[],N=[[]],T=[[]],bh.inflate_trees_fixed(A,C,N,T),u.init(A[0],C[0],N[0],0,T[0],0),v>>>=3,y-=3,r=uc;break;case 2:v>>>=3,y-=3,r=pv;break;case 3:return v>>>=3,y-=3,r=pi,h.msg="invalid block type",m=Ve,n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m)}break;case zd:for(;y<32;){if($!==0)m=Oe;else return n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m);$--,v|=(h.read_byte(b++)&255)<<y,y+=8}if((~v>>>16&65535)!=(v&65535))return r=pi,h.msg="invalid stored block lengths",m=Ve,n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m);i=v&65535,v=y=0,r=i!==0?hv:d!==0?dc:es;break;case hv:if($===0||I===0&&(S==n.end&&n.read!==0&&(S=0,I=S<n.read?n.read-S-1:n.end-S),I===0&&(n.write=S,m=n.inflate_flush(h,m),S=n.write,I=S<n.read?n.read-S-1:n.end-S,S==n.end&&n.read!==0&&(S=0,I=S<n.read?n.read-S-1:n.end-S),I===0)))return n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m);if(m=Oe,_=i,_>$&&(_=$),_>I&&(_=I),n.win.set(h.read_buf(b,_),S),b+=_,$-=_,S+=_,I-=_,(i-=_)!==0)break;r=d!==0?dc:es;break;case pv:for(;y<14;){if($!==0)m=Oe;else return n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m);$--,v|=(h.read_byte(b++)&255)<<y,y+=8}if(s=_=v&16383,(_&31)>29||(_>>5&31)>29)return r=pi,h.msg="too many length or distance symbols",m=Ve,n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m);if(_=258+(_&31)+(_>>5&31),!a||a.length<_)a=[];else for(x=0;x<_;x++)a[x]=0;v>>>=14,y-=14,o=0,r=mv;case mv:for(;o<4+(s>>>10);){for(;y<3;){if($!==0)m=Oe;else return n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m);$--,v|=(h.read_byte(b++)&255)<<y,y+=8}a[fv[o++]]=v&7,v>>>=3,y-=3}for(;o<19;)a[fv[o++]]=0;if(c[0]=7,_=g.inflate_trees_bits(a,c,l,f,h),_!=Oe)return m=_,m==Ve&&(a=null,r=pi),n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m);o=0,r=_v;case _v:for(;_=s,!(o>=258+(_&31)+(_>>5&31));){let q,ae;for(_=c[0];y<_;){if($!==0)m=Oe;else return n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m);$--,v|=(h.read_byte(b++)&255)<<y,y+=8}if(_=f[(l[0]+(v&Zt[_]))*3+1],ae=f[(l[0]+(v&Zt[_]))*3+2],ae<16)v>>>=_,y-=_,a[o++]=ae;else{for(x=ae==18?7:ae-14,q=ae==18?11:3;y<_+x;){if($!==0)m=Oe;else return n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m);$--,v|=(h.read_byte(b++)&255)<<y,y+=8}if(v>>>=_,y-=_,q+=v&Zt[x],v>>>=x,y-=x,x=o,_=s,x+q>258+(_&31)+(_>>5&31)||ae==16&&x<1)return a=null,r=pi,h.msg="invalid bit length repeat",m=Ve,n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m);ae=ae==16?a[x-1]:0;do a[x++]=ae;while(--q!==0);o=x}}if(l[0]=-1,k=[],E=[],M=[],Y=[],k[0]=9,E[0]=6,_=s,_=g.inflate_trees_dynamic(257+(_&31),1+(_>>5&31),a,k,E,M,Y,f,h),_!=Oe)return _==Ve&&(a=null,r=pi),m=_,n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m);u.init(k[0],E[0],f,M[0],f,Y[0]),r=uc;case uc:if(n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,(m=u.proc(n,h,m))!=pr)return n.inflate_flush(h,m);if(m=Oe,u.free(h),b=h.next_in_index,$=h.avail_in,v=n.bitb,y=n.bitk,S=n.write,I=S<n.read?n.read-S-1:n.end-S,d===0){r=es;break}r=dc;case dc:if(n.write=S,m=n.inflate_flush(h,m),S=n.write,I=S<n.read?n.read-S-1:n.end-S,n.read!=n.write)return n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m);r=gv;case gv:return m=pr,n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m);case pi:return m=Ve,n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m);default:return m=jt,n.bitb=v,n.bitk=y,h.avail_in=$,h.total_in+=b-h.next_in_index,h.next_in_index=b,n.write=S,n.inflate_flush(h,m)}}},n.free=function(h){n.reset(h,null),n.win=null,f=null},n.set_dictionary=function(h,m,_){n.win.set(h.subarray(m,m+_),0),n.read=n.write=_},n.sync_point=function(){return r==zd?1:0}}const Sq=32,Iq=8,Tq=0,vv=1,yv=2,bv=3,wv=4,Ev=5,qd=6,mo=7,$v=12,Or=13,xq=[0,0,255,255];function Aq(){const e=this;e.mode=0,e.method=0,e.was=[0],e.need=0,e.marker=0,e.wbits=0;function t(n){return!n||!n.istate?jt:(n.total_in=n.total_out=0,n.msg=null,n.istate.mode=mo,n.istate.blocks.reset(n,null),Oe)}e.inflateEnd=function(n){return e.blocks&&e.blocks.free(n),e.blocks=null,Oe},e.inflateInit=function(n,r){return n.msg=null,e.blocks=null,r<8||r>15?(e.inflateEnd(n),jt):(e.wbits=r,n.istate.blocks=new $q(n,1<<r),t(n),Oe)},e.inflate=function(n,r){let i,s;if(!n||!n.istate||!n.next_in)return jt;const o=n.istate;for(r=r==hq?mr:Oe,i=mr;;)switch(o.mode){case Tq:if(n.avail_in===0)return i;if(i=r,n.avail_in--,n.total_in++,((o.method=n.read_byte(n.next_in_index++))&15)!=Iq){o.mode=Or,n.msg="unknown compression method",o.marker=5;break}if((o.method>>4)+8>o.wbits){o.mode=Or,n.msg="invalid win size",o.marker=5;break}o.mode=vv;case vv:if(n.avail_in===0)return i;if(i=r,n.avail_in--,n.total_in++,s=n.read_byte(n.next_in_index++)&255,((o.method<<8)+s)%31!==0){o.mode=Or,n.msg="incorrect header check",o.marker=5;break}if(!(s&Sq)){o.mode=mo;break}o.mode=yv;case yv:if(n.avail_in===0)return i;i=r,n.avail_in--,n.total_in++,o.need=(n.read_byte(n.next_in_index++)&255)<<24&4278190080,o.mode=bv;case bv:if(n.avail_in===0)return i;i=r,n.avail_in--,n.total_in++,o.need+=(n.read_byte(n.next_in_index++)&255)<<16&16711680,o.mode=wv;case wv:if(n.avail_in===0)return i;i=r,n.avail_in--,n.total_in++,o.need+=(n.read_byte(n.next_in_index++)&255)<<8&65280,o.mode=Ev;case Ev:return n.avail_in===0?i:(i=r,n.avail_in--,n.total_in++,o.need+=n.read_byte(n.next_in_index++)&255,o.mode=qd,dq);case qd:return o.mode=Or,n.msg="need dictionary",o.marker=0,jt;case mo:if(i=o.blocks.proc(n,i),i==Ve){o.mode=Or,o.marker=0;break}if(i==Oe&&(i=r),i!=pr)return i;i=r,o.blocks.reset(n,o.was),o.mode=$v;case $v:return n.avail_in=0,pr;case Or:return Ve;default:return jt}},e.inflateSetDictionary=function(n,r,i){let s=0,o=i;if(!n||!n.istate||n.istate.mode!=qd)return jt;const a=n.istate;return o>=1<<a.wbits&&(o=(1<<a.wbits)-1,s=i-o),a.blocks.set_dictionary(r,s,o),a.mode=mo,Oe},e.inflateSync=function(n){let r,i,s,o,a;if(!n||!n.istate)return jt;const c=n.istate;if(c.mode!=Or&&(c.mode=Or,c.marker=0),(r=n.avail_in)===0)return mr;for(i=n.next_in_index,s=c.marker;r!==0&&s<4;)n.read_byte(i)==xq[s]?s++:n.read_byte(i)!==0?s=0:s=4-s,i++,r--;return n.total_in+=i-n.next_in_index,n.next_in_index=i,n.avail_in=r,c.marker=s,s!=4?Ve:(o=n.total_in,a=n.total_out,t(n),n.total_in=o,n.total_out=a,c.mode=mo,Oe)},e.inflateSyncPoint=function(n){return!n||!n.istate||!n.istate.blocks?jt:n.istate.blocks.sync_point()}}function JE(){}JE.prototype={inflateInit(e){const t=this;return t.istate=new Aq,e||(e=uq),t.istate.inflateInit(t,e)},inflate(e){const t=this;return t.istate?t.istate.inflate(t,e):jt},inflateEnd(){const e=this;if(!e.istate)return jt;const t=e.istate.inflateEnd(e);return e.istate=null,t},inflateSync(){const e=this;return e.istate?e.istate.inflateSync(e):jt},inflateSetDictionary(e,t){const n=this;return n.istate?n.istate.inflateSetDictionary(n,e,t):jt},read_byte(e){return this.next_in[e]},read_buf(e,t){return this.next_in.subarray(e,e+t)}};function Rq(e){const t=this,n=new JE,r=e&&e.chunkSize?Math.floor(e.chunkSize*2):128*1024,i=fq,s=new Uint8Array(r);let o=!1;n.inflateInit(),n.next_out=s,t.append=function(a,c){const l=[];let u,d,f=0,p=0,g=0;if(a.length!==0){n.next_in_index=0,n.next_in=a,n.avail_in=a.length;do{if(n.next_out_index=0,n.avail_out=r,n.avail_in===0&&!o&&(n.next_in_index=0,o=!0),u=n.inflate(i),o&&u===mr){if(n.avail_in!==0)throw new Error("inflating: bad input")}else if(u!==Oe&&u!==pr)throw new Error("inflating: "+n.msg);if((o||u===pr)&&n.avail_in===a.length)throw new Error("inflating: bad input");n.next_out_index&&(n.next_out_index===r?l.push(new Uint8Array(s)):l.push(s.subarray(0,n.next_out_index))),g+=n.next_out_index,c&&n.next_in_index>0&&n.next_in_index!=f&&(c(n.next_in_index),f=n.next_in_index)}while(n.avail_in>0||n.avail_out===0);return l.length>1?(d=new Uint8Array(g),l.forEach(function(h){d.set(h,p),p+=h.length})):d=l[0]?new Uint8Array(l[0]):new Uint8Array,d}},t.flush=function(){n.inflateEnd()}}const Ti=4294967295,Pr=65535,Cq=8,Oq=0,kq=99,Nq=67324752,Pq=134695760,Sv=33639248,Dq=101010256,Iv=101075792,Mq=117853008,ts=22,Wd=20,jd=56,Lq=1,Fq=39169,Uq=10,Bq=1,zq=21589,qq=28789,Wq=25461,jq=6534,Tv=1,Vq=6,xv=8,Av=2048,Rv=16,Hq="/",Dn=void 0,sl="undefined",e$="function";class Cv{constructor(t){return class extends TransformStream{constructor(n,r){const i=new t(r);super({transform(s,o){o.enqueue(i.append(s))},flush(s){const o=i.flush();o&&s.enqueue(o)}})}}}}const Gq=64;let t$=2;try{typeof navigator!=sl&&navigator.hardwareConcurrency&&(t$=navigator.hardwareConcurrency)}catch{}const Yq={chunkSize:512*1024,maxWorkers:t$,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,workerScripts:Dn,CompressionStreamNative:typeof CompressionStream!=sl&&CompressionStream,DecompressionStreamNative:typeof DecompressionStream!=sl&&DecompressionStream},Dr=Object.assign({},Yq);function Kq(){return Dr}function Xq(e){return Math.max(e.chunkSize,Gq)}function Fm(e){const{baseURL:t,chunkSize:n,maxWorkers:r,terminateWorkerTimeout:i,useCompressionStream:s,useWebWorkers:o,Deflate:a,Inflate:c,CompressionStream:l,DecompressionStream:u,workerScripts:d}=e;if(kr("baseURL",t),kr("chunkSize",n),kr("maxWorkers",r),kr("terminateWorkerTimeout",i),kr("useCompressionStream",s),kr("useWebWorkers",o),a&&(Dr.CompressionStream=new Cv(a)),c&&(Dr.DecompressionStream=new Cv(c)),kr("CompressionStream",l),kr("DecompressionStream",u),d!==Dn){const{deflate:f,inflate:p}=d;if((f||p)&&(Dr.workerScripts||(Dr.workerScripts={})),f){if(!Array.isArray(f))throw new Error("workerScripts.deflate must be an array");Dr.workerScripts.deflate=f}if(p){if(!Array.isArray(p))throw new Error("workerScripts.inflate must be an array");Dr.workerScripts.inflate=p}}}function kr(e,t){t!==Dn&&(Dr[e]=t)}const Vd={application:{"andrew-inset":"ez",annodex:"anx","atom+xml":"atom","atomcat+xml":"atomcat","atomserv+xml":"atomsrv",bbolin:"lin","cu-seeme":"cu","davmount+xml":"davmount",dsptype:"tsp",ecmascript:["es","ecma"],futuresplash:"spl",hta:"hta","java-archive":"jar","java-serialized-object":"ser","java-vm":"class",m3g:"m3g","mac-binhex40":"hqx",mathematica:["nb","ma","mb"],msaccess:"mdb",msword:["doc","dot","wiz"],mxf:"mxf",oda:"oda",ogg:"ogx",pdf:"pdf","pgp-keys":"key","pgp-signature":["asc","sig"],"pics-rules":"prf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],rar:"rar","rdf+xml":"rdf","rss+xml":"rss",rtf:"rtf","xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","xpdl"],"xspf+xml":"xspf",zip:"zip","vnd.android.package-archive":"apk","vnd.cinderella":"cdy","vnd.google-earth.kml+xml":"kml","vnd.google-earth.kmz":"kmz","vnd.mozilla.xul+xml":"xul","vnd.ms-excel":["xls","xlb","xlt","xlm","xla","xlc","xlw"],"vnd.ms-pki.seccat":"cat","vnd.ms-pki.stl":"stl","vnd.ms-powerpoint":["ppt","pps","pot","ppa","pwz"],"vnd.oasis.opendocument.chart":"odc","vnd.oasis.opendocument.database":"odb","vnd.oasis.opendocument.formula":"odf","vnd.oasis.opendocument.graphics":"odg","vnd.oasis.opendocument.graphics-template":"otg","vnd.oasis.opendocument.image":"odi","vnd.oasis.opendocument.presentation":"odp","vnd.oasis.opendocument.presentation-template":"otp","vnd.oasis.opendocument.spreadsheet":"ods","vnd.oasis.opendocument.spreadsheet-template":"ots","vnd.oasis.opendocument.text":"odt","vnd.oasis.opendocument.text-master":["odm","otm"],"vnd.oasis.opendocument.text-template":"ott","vnd.oasis.opendocument.text-web":"oth","vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","vnd.openxmlformats-officedocument.presentationml.template":"potx","vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","vnd.smaf":"mmf","vnd.stardivision.calc":"sdc","vnd.stardivision.chart":"sds","vnd.stardivision.draw":"sda","vnd.stardivision.impress":"sdd","vnd.stardivision.math":["sdf","smf"],"vnd.stardivision.writer":["sdw","vor"],"vnd.stardivision.writer-global":"sgl","vnd.sun.xml.calc":"sxc","vnd.sun.xml.calc.template":"stc","vnd.sun.xml.draw":"sxd","vnd.sun.xml.draw.template":"std","vnd.sun.xml.impress":"sxi","vnd.sun.xml.impress.template":"sti","vnd.sun.xml.math":"sxm","vnd.sun.xml.writer":"sxw","vnd.sun.xml.writer.global":"sxg","vnd.sun.xml.writer.template":"stw","vnd.symbian.install":["sis","sisx"],"vnd.visio":["vsd","vst","vss","vsw","vsdx","vssx","vstx","vssm","vstm"],"vnd.wap.wbxml":"wbxml","vnd.wap.wmlc":"wmlc","vnd.wap.wmlscriptc":"wmlsc","vnd.wordperfect":"wpd","vnd.wordperfect5.1":"wp5","x-123":"wk","x-7z-compressed":"7z","x-abiword":"abw","x-apple-diskimage":"dmg","x-bcpio":"bcpio","x-bittorrent":"torrent","x-cbr":["cbr","cba","cbt","cb7"],"x-cbz":"cbz","x-cdf":["cdf","cda"],"x-cdlink":"vcd","x-chess-pgn":"pgn","x-cpio":"cpio","x-csh":"csh","x-director":["dir","dxr","cst","cct","cxt","w3d","fgd","swa"],"x-dms":"dms","x-doom":"wad","x-dvi":"dvi","x-httpd-eruby":"rhtml","x-font":"pcf.Z","x-freemind":"mm","x-gnumeric":"gnumeric","x-go-sgf":"sgf","x-graphing-calculator":"gcf","x-gtar":["gtar","taz"],"x-hdf":"hdf","x-httpd-php":["phtml","pht","php"],"x-httpd-php-source":"phps","x-httpd-php3":"php3","x-httpd-php3-preprocessed":"php3p","x-httpd-php4":"php4","x-httpd-php5":"php5","x-ica":"ica","x-info":"info","x-internet-signup":["ins","isp"],"x-iphone":"iii","x-iso9660-image":"iso","x-java-jnlp-file":"jnlp","x-jmol":"jmz","x-killustrator":"kil","x-latex":"latex","x-lyx":"lyx","x-lzx":"lzx","x-maker":["frm","fb","fbdoc"],"x-ms-wmd":"wmd","x-msdos-program":["com","exe","bat","dll"],"x-netcdf":["nc"],"x-ns-proxy-autoconfig":["pac","dat"],"x-nwc":"nwc","x-object":"o","x-oz-application":"oza","x-pkcs7-certreqresp":"p7r","x-python-code":["pyc","pyo"],"x-qgis":["qgs","shp","shx"],"x-quicktimeplayer":"qtl","x-redhat-package-manager":["rpm","rpa"],"x-ruby":"rb","x-sh":"sh","x-shar":"shar","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","x-stuffit":"sit","x-sv4cpio":"sv4cpio","x-sv4crc":"sv4crc","x-tar":"tar","x-tex-gf":"gf","x-tex-pk":"pk","x-texinfo":["texinfo","texi"],"x-trash":["~","%","bak","old","sik"],"x-ustar":"ustar","x-wais-source":"src","x-wingz":"wz","x-x509-ca-cert":["crt","der","cer"],"x-xcf":"xcf","x-xfig":"fig","x-xpinstall":"xpi",applixware:"aw","atomsvc+xml":"atomsvc","ccxml+xml":"ccxml","cdmi-capability":"cdmia","cdmi-container":"cdmic","cdmi-domain":"cdmid","cdmi-object":"cdmio","cdmi-queue":"cdmiq","docbook+xml":"dbk","dssc+der":"dssc","dssc+xml":"xdssc","emma+xml":"emma","epub+zip":"epub",exi:"exi","font-tdpfr":"pfr","gml+xml":"gml","gpx+xml":"gpx",gxf:"gxf",hyperstudio:"stk","inkml+xml":["ink","inkml"],ipfix:"ipfix","jsonml+json":"jsonml","lost+xml":"lostxml","mads+xml":"mads",marc:"mrc","marcxml+xml":"mrcx","mathml+xml":["mathml","mml"],mbox:"mbox","mediaservercontrol+xml":"mscml","metalink+xml":"metalink","metalink4+xml":"meta4","mets+xml":"mets","mods+xml":"mods",mp21:["m21","mp21"],mp4:"mp4s","oebps-package+xml":"opf","omdoc+xml":"omdoc",onenote:["onetoc","onetoc2","onetmp","onepkg"],oxps:"oxps","patch-ops-error+xml":"xer","pgp-encrypted":"pgp",pkcs10:"p10","pkcs7-mime":["p7m","p7c"],"pkcs7-signature":"p7s",pkcs8:"p8","pkix-attr-cert":"ac","pkix-crl":"crl","pkix-pkipath":"pkipath",pkixcmp:"pki","pls+xml":"pls","prs.cww":"cww","pskc+xml":"pskcxml","reginfo+xml":"rif","relax-ng-compact-syntax":"rnc","resource-lists+xml":"rl","resource-lists-diff+xml":"rld","rls-services+xml":"rs","rpki-ghostbusters":"gbr","rpki-manifest":"mft","rpki-roa":"roa","rsd+xml":"rsd","sbml+xml":"sbml","scvp-cv-request":"scq","scvp-cv-response":"scs","scvp-vp-request":"spq","scvp-vp-response":"spp",sdp:"sdp","set-payment-initiation":"setpay","set-registration-initiation":"setreg","shf+xml":"shf","sparql-query":"rq","sparql-results+xml":"srx",srgs:"gram","srgs+xml":"grxml","sru+xml":"sru","ssdl+xml":"ssdl","ssml+xml":"ssml","tei+xml":["tei","teicorpus"],"thraud+xml":"tfi","timestamped-data":"tsd","vnd.3gpp.pic-bw-large":"plb","vnd.3gpp.pic-bw-small":"psb","vnd.3gpp.pic-bw-var":"pvb","vnd.3gpp2.tcap":"tcap","vnd.3m.post-it-notes":"pwn","vnd.accpac.simply.aso":"aso","vnd.accpac.simply.imp":"imp","vnd.acucobol":"acu","vnd.acucorp":["atc","acutc"],"vnd.adobe.air-application-installer-package+zip":"air","vnd.adobe.formscentral.fcdt":"fcdt","vnd.adobe.fxp":["fxp","fxpl"],"vnd.adobe.xdp+xml":"xdp","vnd.adobe.xfdf":"xfdf","vnd.ahead.space":"ahead","vnd.airzip.filesecure.azf":"azf","vnd.airzip.filesecure.azs":"azs","vnd.amazon.ebook":"azw","vnd.americandynamics.acc":"acc","vnd.amiga.ami":"ami","vnd.anser-web-certificate-issue-initiation":"cii","vnd.anser-web-funds-transfer-initiation":"fti","vnd.antix.game-component":"atx","vnd.apple.installer+xml":"mpkg","vnd.apple.mpegurl":"m3u8","vnd.aristanetworks.swi":"swi","vnd.astraea-software.iota":"iota","vnd.audiograph":"aep","vnd.blueice.multipass":"mpm","vnd.bmi":"bmi","vnd.businessobjects":"rep","vnd.chemdraw+xml":"cdxml","vnd.chipnuts.karaoke-mmd":"mmd","vnd.claymore":"cla","vnd.cloanto.rp9":"rp9","vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"vnd.cluetrust.cartomobile-config":"c11amc","vnd.cluetrust.cartomobile-config-pkg":"c11amz","vnd.commonspace":"csp","vnd.contact.cmsg":"cdbcmsg","vnd.cosmocaller":"cmc","vnd.crick.clicker":"clkx","vnd.crick.clicker.keyboard":"clkk","vnd.crick.clicker.palette":"clkp","vnd.crick.clicker.template":"clkt","vnd.crick.clicker.wordbank":"clkw","vnd.criticaltools.wbs+xml":"wbs","vnd.ctc-posml":"pml","vnd.cups-ppd":"ppd","vnd.curl.car":"car","vnd.curl.pcurl":"pcurl","vnd.dart":"dart","vnd.data-vision.rdz":"rdz","vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"vnd.dece.ttml+xml":["uvt","uvvt"],"vnd.dece.unspecified":["uvx","uvvx"],"vnd.dece.zip":["uvz","uvvz"],"vnd.denovo.fcselayout-link":"fe_launch","vnd.dna":"dna","vnd.dolby.mlp":"mlp","vnd.dpgraph":"dpg","vnd.dreamfactory":"dfac","vnd.ds-keypoint":"kpxx","vnd.dvb.ait":"ait","vnd.dvb.service":"svc","vnd.dynageo":"geo","vnd.ecowin.chart":"mag","vnd.enliven":"nml","vnd.epson.esf":"esf","vnd.epson.msf":"msf","vnd.epson.quickanime":"qam","vnd.epson.salt":"slt","vnd.epson.ssf":"ssf","vnd.eszigno3+xml":["es3","et3"],"vnd.ezpix-album":"ez2","vnd.ezpix-package":"ez3","vnd.fdf":"fdf","vnd.fdsn.mseed":"mseed","vnd.fdsn.seed":["seed","dataless"],"vnd.flographit":"gph","vnd.fluxtime.clip":"ftc","vnd.framemaker":["fm","frame","maker","book"],"vnd.frogans.fnc":"fnc","vnd.frogans.ltf":"ltf","vnd.fsc.weblaunch":"fsc","vnd.fujitsu.oasys":"oas","vnd.fujitsu.oasys2":"oa2","vnd.fujitsu.oasys3":"oa3","vnd.fujitsu.oasysgp":"fg5","vnd.fujitsu.oasysprs":"bh2","vnd.fujixerox.ddd":"ddd","vnd.fujixerox.docuworks":"xdw","vnd.fujixerox.docuworks.binder":"xbd","vnd.fuzzysheet":"fzs","vnd.genomatix.tuxedo":"txd","vnd.geogebra.file":"ggb","vnd.geogebra.tool":"ggt","vnd.geometry-explorer":["gex","gre"],"vnd.geonext":"gxt","vnd.geoplan":"g2w","vnd.geospace":"g3w","vnd.gmx":"gmx","vnd.grafeq":["gqf","gqs"],"vnd.groove-account":"gac","vnd.groove-help":"ghf","vnd.groove-identity-message":"gim","vnd.groove-injector":"grv","vnd.groove-tool-message":"gtm","vnd.groove-tool-template":"tpl","vnd.groove-vcard":"vcg","vnd.hal+xml":"hal","vnd.handheld-entertainment+xml":"zmm","vnd.hbci":"hbci","vnd.hhe.lesson-player":"les","vnd.hp-hpgl":"hpgl","vnd.hp-hpid":"hpid","vnd.hp-hps":"hps","vnd.hp-jlyt":"jlt","vnd.hp-pcl":"pcl","vnd.hp-pclxl":"pclxl","vnd.hydrostatix.sof-data":"sfd-hdstx","vnd.ibm.minipay":"mpy","vnd.ibm.modcap":["afp","listafp","list3820"],"vnd.ibm.rights-management":"irm","vnd.ibm.secure-container":"sc","vnd.iccprofile":["icc","icm"],"vnd.igloader":"igl","vnd.immervision-ivp":"ivp","vnd.immervision-ivu":"ivu","vnd.insors.igm":"igm","vnd.intercon.formnet":["xpw","xpx"],"vnd.intergeo":"i2g","vnd.intu.qbo":"qbo","vnd.intu.qfx":"qfx","vnd.ipunplugged.rcprofile":"rcprofile","vnd.irepository.package+xml":"irp","vnd.is-xpr":"xpr","vnd.isac.fcs":"fcs","vnd.jam":"jam","vnd.jcp.javame.midlet-rms":"rms","vnd.jisp":"jisp","vnd.joost.joda-archive":"joda","vnd.kahootz":["ktz","ktr"],"vnd.kde.karbon":"karbon","vnd.kde.kchart":"chrt","vnd.kde.kformula":"kfo","vnd.kde.kivio":"flw","vnd.kde.kontour":"kon","vnd.kde.kpresenter":["kpr","kpt"],"vnd.kde.kspread":"ksp","vnd.kde.kword":["kwd","kwt"],"vnd.kenameaapp":"htke","vnd.kidspiration":"kia","vnd.kinar":["kne","knp"],"vnd.koan":["skp","skd","skt","skm"],"vnd.kodak-descriptor":"sse","vnd.las.las+xml":"lasxml","vnd.llamagraphics.life-balance.desktop":"lbd","vnd.llamagraphics.life-balance.exchange+xml":"lbe","vnd.lotus-1-2-3":"123","vnd.lotus-approach":"apr","vnd.lotus-freelance":"pre","vnd.lotus-notes":"nsf","vnd.lotus-organizer":"org","vnd.lotus-screencam":"scm","vnd.lotus-wordpro":"lwp","vnd.macports.portpkg":"portpkg","vnd.mcd":"mcd","vnd.medcalcdata":"mc1","vnd.mediastation.cdkey":"cdkey","vnd.mfer":"mwf","vnd.mfmp":"mfm","vnd.micrografx.flo":"flo","vnd.micrografx.igx":"igx","vnd.mif":"mif","vnd.mobius.daf":"daf","vnd.mobius.dis":"dis","vnd.mobius.mbk":"mbk","vnd.mobius.mqy":"mqy","vnd.mobius.msl":"msl","vnd.mobius.plc":"plc","vnd.mobius.txf":"txf","vnd.mophun.application":"mpn","vnd.mophun.certificate":"mpc","vnd.ms-artgalry":"cil","vnd.ms-cab-compressed":"cab","vnd.ms-excel.addin.macroenabled.12":"xlam","vnd.ms-excel.sheet.binary.macroenabled.12":"xlsb","vnd.ms-excel.sheet.macroenabled.12":"xlsm","vnd.ms-excel.template.macroenabled.12":"xltm","vnd.ms-fontobject":"eot","vnd.ms-htmlhelp":"chm","vnd.ms-ims":"ims","vnd.ms-lrm":"lrm","vnd.ms-officetheme":"thmx","vnd.ms-powerpoint.addin.macroenabled.12":"ppam","vnd.ms-powerpoint.presentation.macroenabled.12":"pptm","vnd.ms-powerpoint.slide.macroenabled.12":"sldm","vnd.ms-powerpoint.slideshow.macroenabled.12":"ppsm","vnd.ms-powerpoint.template.macroenabled.12":"potm","vnd.ms-project":["mpp","mpt"],"vnd.ms-word.document.macroenabled.12":"docm","vnd.ms-word.template.macroenabled.12":"dotm","vnd.ms-works":["wps","wks","wcm","wdb"],"vnd.ms-wpl":"wpl","vnd.ms-xpsdocument":"xps","vnd.mseq":"mseq","vnd.musician":"mus","vnd.muvee.style":"msty","vnd.mynfc":"taglet","vnd.neurolanguage.nlu":"nlu","vnd.nitf":["ntf","nitf"],"vnd.noblenet-directory":"nnd","vnd.noblenet-sealer":"nns","vnd.noblenet-web":"nnw","vnd.nokia.n-gage.data":"ngdat","vnd.nokia.n-gage.symbian.install":"n-gage","vnd.nokia.radio-preset":"rpst","vnd.nokia.radio-presets":"rpss","vnd.novadigm.edm":"edm","vnd.novadigm.edx":"edx","vnd.novadigm.ext":"ext","vnd.oasis.opendocument.chart-template":"otc","vnd.oasis.opendocument.formula-template":"odft","vnd.oasis.opendocument.image-template":"oti","vnd.olpc-sugar":"xo","vnd.oma.dd2+xml":"dd2","vnd.openofficeorg.extension":"oxt","vnd.openxmlformats-officedocument.presentationml.slide":"sldx","vnd.osgeo.mapguide.package":"mgp","vnd.osgi.dp":"dp","vnd.osgi.subsystem":"esa","vnd.palm":["pdb","pqa","oprc"],"vnd.pawaafile":"paw","vnd.pg.format":"str","vnd.pg.osasli":"ei6","vnd.picsel":"efif","vnd.pmi.widget":"wg","vnd.pocketlearn":"plf","vnd.powerbuilder6":"pbd","vnd.previewsystems.box":"box","vnd.proteus.magazine":"mgz","vnd.publishare-delta-tree":"qps","vnd.pvi.ptid1":"ptid","vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"vnd.realvnc.bed":"bed","vnd.recordare.musicxml":"mxl","vnd.recordare.musicxml+xml":"musicxml","vnd.rig.cryptonote":"cryptonote","vnd.rn-realmedia":"rm","vnd.rn-realmedia-vbr":"rmvb","vnd.route66.link66+xml":"link66","vnd.sailingtracker.track":"st","vnd.seemail":"see","vnd.sema":"sema","vnd.semd":"semd","vnd.semf":"semf","vnd.shana.informed.formdata":"ifm","vnd.shana.informed.formtemplate":"itp","vnd.shana.informed.interchange":"iif","vnd.shana.informed.package":"ipk","vnd.simtech-mindmapper":["twd","twds"],"vnd.smart.teacher":"teacher","vnd.solent.sdkm+xml":["sdkm","sdkd"],"vnd.spotfire.dxp":"dxp","vnd.spotfire.sfs":"sfs","vnd.stepmania.package":"smzip","vnd.stepmania.stepchart":"sm","vnd.sus-calendar":["sus","susp"],"vnd.svd":"svd","vnd.syncml+xml":"xsm","vnd.syncml.dm+wbxml":"bdm","vnd.syncml.dm+xml":"xdm","vnd.tao.intent-module-archive":"tao","vnd.tcpdump.pcap":["pcap","cap","dmp"],"vnd.tmobile-livetv":"tmo","vnd.trid.tpt":"tpt","vnd.triscape.mxs":"mxs","vnd.trueapp":"tra","vnd.ufdl":["ufd","ufdl"],"vnd.uiq.theme":"utz","vnd.umajin":"umj","vnd.unity":"unityweb","vnd.uoml+xml":"uoml","vnd.vcx":"vcx","vnd.visionary":"vis","vnd.vsf":"vsf","vnd.webturbo":"wtb","vnd.wolfram.player":"nbp","vnd.wqd":"wqd","vnd.wt.stf":"stf","vnd.xara":"xar","vnd.xfdl":"xfdl","vnd.yamaha.hv-dic":"hvd","vnd.yamaha.hv-script":"hvs","vnd.yamaha.hv-voice":"hvp","vnd.yamaha.openscoreformat":"osf","vnd.yamaha.openscoreformat.osfpvg+xml":"osfpvg","vnd.yamaha.smaf-audio":"saf","vnd.yamaha.smaf-phrase":"spf","vnd.yellowriver-custom-menu":"cmp","vnd.zul":["zir","zirz"],"vnd.zzazz.deck+xml":"zaz","voicexml+xml":"vxml",widget:"wgt",winhlp:"hlp","wsdl+xml":"wsdl","wspolicy+xml":"wspolicy","x-ace-compressed":"ace","x-authorware-bin":["aab","x32","u32","vox"],"x-authorware-map":"aam","x-authorware-seg":"aas","x-blorb":["blb","blorb"],"x-bzip":"bz","x-bzip2":["bz2","boz"],"x-cfs-compressed":"cfs","x-chat":"chat","x-conference":"nsc","x-dgc-compressed":"dgc","x-dtbncx+xml":"ncx","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-eva":"eva","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-freearc":"arc","x-gca-compressed":"gca","x-glulx":"ulx","x-gramps-xml":"gramps","x-install-instructions":"install","x-lzh-compressed":["lzh","lha"],"x-mie":"mie","x-mobipocket-ebook":["prc","mobi"],"x-ms-application":"application","x-ms-shortcut":"lnk","x-ms-xbap":"xbap","x-msbinder":"obd","x-mscardfile":"crd","x-msclip":"clp","application/x-ms-installer":"msi","x-msmediaview":["mvb","m13","m14"],"x-msmetafile":["wmf","wmz","emf","emz"],"x-msmoney":"mny","x-mspublisher":"pub","x-msschedule":"scd","x-msterminal":"trm","x-mswrite":"wri","x-nzb":"nzb","x-pkcs12":["p12","pfx"],"x-pkcs7-certificates":["p7b","spc"],"x-research-info-systems":"ris","x-silverlight-app":"xap","x-sql":"sql","x-stuffitx":"sitx","x-subrip":"srt","x-t3vm-image":"t3","x-tex-tfm":"tfm","x-tgif":"obj","x-xliff+xml":"xlf","x-xz":"xz","x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"xaml+xml":"xaml","xcap-diff+xml":"xdf","xenc+xml":"xenc","xml-dtd":"dtd","xop+xml":"xop","xproc+xml":"xpl","xslt+xml":"xslt","xv+xml":["mxml","xhvml","xvml","xvm"],yang:"yang","yin+xml":"yin",envoy:"evy",fractals:"fif","internet-property-stream":"acx",olescript:"axs","vnd.ms-outlook":"msg","vnd.ms-pkicertstore":"sst","x-compress":"z","x-perfmon":["pma","pmc","pmr","pmw"],"ynd.ms-pkipko":"pko",gzip:["gz","tgz"],"smil+xml":["smi","smil"],"vnd.debian.binary-package":["deb","udeb"],"vnd.hzn-3d-crossword":"x3d","vnd.sqlite3":["db","sqlite","sqlite3","db-wal","sqlite-wal","db-shm","sqlite-shm"],"vnd.wap.sic":"sic","vnd.wap.slc":"slc","x-krita":["kra","krz"],"x-perl":["pm","pl"],yaml:["yaml","yml"]},audio:{amr:"amr","amr-wb":"awb",annodex:"axa",basic:["au","snd"],flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"prs.sid":"sid","x-aiff":"aifc","x-gsm":"gsm","x-ms-wma":"wma","x-ms-wax":"wax","x-pn-realaudio":"ram","x-realaudio":"ra","x-sd2":"sd2",adpcm:"adp",mp4:"mp4a",s3m:"s3m",silk:"sil","vnd.dece.audio":["uva","uvva"],"vnd.digital-winds":"eol","vnd.dra":"dra","vnd.dts":"dts","vnd.dts.hd":"dtshd","vnd.lucent.voice":"lvp","vnd.ms-playready.media.pya":"pya","vnd.nuera.ecelp4800":"ecelp4800","vnd.nuera.ecelp7470":"ecelp7470","vnd.nuera.ecelp9600":"ecelp9600","vnd.rip":"rip",webm:"weba","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",aac:"aac",aiff:["aiff","aif","aff"],opus:"opus",wav:"wav"},chemical:{"x-alchemy":"alc","x-cache":["cac","cache"],"x-cache-csf":"csf","x-cactvs-binary":["cbin","cascii","ctab"],"x-cdx":"cdx","x-chem3d":"c3d","x-cif":"cif","x-cmdf":"cmdf","x-cml":"cml","x-compass":"cpa","x-crossfire":"bsd","x-csml":["csml","csm"],"x-ctx":"ctx","x-cxf":["cxf","cef"],"x-embl-dl-nucleotide":["emb","embl"],"x-gamess-input":["inp","gam","gamin"],"x-gaussian-checkpoint":["fch","fchk"],"x-gaussian-cube":"cub","x-gaussian-input":["gau","gjc","gjf"],"x-gaussian-log":"gal","x-gcg8-sequence":"gcg","x-genbank":"gen","x-hin":"hin","x-isostar":["istr","ist"],"x-jcamp-dx":["jdx","dx"],"x-kinemage":"kin","x-macmolecule":"mcm","x-macromodel-input":"mmod","x-mdl-molfile":"mol","x-mdl-rdfile":"rd","x-mdl-rxnfile":"rxn","x-mdl-sdfile":"sd","x-mdl-tgf":"tgf","x-mmcif":"mcif","x-mol2":"mol2","x-molconn-Z":"b","x-mopac-graph":"gpt","x-mopac-input":["mop","mopcrt","zmt"],"x-mopac-out":"moo","x-ncbi-asn1":"asn","x-ncbi-asn1-ascii":["prt","ent"],"x-ncbi-asn1-binary":"val","x-rosdal":"ros","x-swissprot":"sw","x-vamas-iso14976":"vms","x-vmd":"vmd","x-xtel":"xtel","x-xyz":"xyz"},font:{otf:"otf",woff:"woff",woff2:"woff2"},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe","jfif","jfif-tbnl","jif"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"vnd.djvu":["djvu","djv"],"vnd.wap.wbmp":"wbmp","x-canon-cr2":"cr2","x-canon-crw":"crw","x-cmu-raster":"ras","x-coreldraw":"cdr","x-coreldrawpattern":"pat","x-coreldrawtemplate":"cdt","x-corelphotopaint":"cpt","x-epson-erf":"erf","x-icon":"ico","x-jg":"art","x-jng":"jng","x-nikon-nef":"nef","x-olympus-orf":"orf","x-portable-anymap":"pnm","x-portable-bitmap":"pbm","x-portable-graymap":"pgm","x-portable-pixmap":"ppm","x-rgb":"rgb","x-xbitmap":"xbm","x-xpixmap":"xpm","x-xwindowdump":"xwd",bmp:"bmp",cgm:"cgm",g3fax:"g3",ktx:"ktx","prs.btif":"btif",sgi:"sgi","vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"vnd.dwg":"dwg","vnd.dxf":"dxf","vnd.fastbidsheet":"fbs","vnd.fpx":"fpx","vnd.fst":"fst","vnd.fujixerox.edmics-mmr":"mmr","vnd.fujixerox.edmics-rlc":"rlc","vnd.ms-modi":"mdi","vnd.ms-photo":"wdp","vnd.net-fpx":"npx","vnd.xiff":"xif",webp:"webp","x-3ds":"3ds","x-cmx":"cmx","x-freehand":["fh","fhc","fh4","fh5","fh7"],"x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod",avif:"avifs",heic:["heif","heic"],pjpeg:["pjpg"],"vnd.adobe.photoshop":"psd","x-adobe-dng":"dng","x-fuji-raf":"raf","x-icns":"icns","x-kodak-dcr":"dcr","x-kodak-k25":"k25","x-kodak-kdc":"kdc","x-minolta-mrw":"mrw","x-panasonic-raw":["raw","rw2","rwl"],"x-pentax-pef":["pef","ptx"],"x-sigma-x3f":"x3f","x-sony-arw":"arw","x-sony-sr2":"sr2","x-sony-srf":"srf"},message:{rfc822:["eml","mime","mht","mhtml","nws"]},model:{iges:["igs","iges"],mesh:["msh","mesh","silo"],vrml:["wrl","vrml"],"x3d+vrml":["x3dv","x3dvz"],"x3d+xml":"x3dz","x3d+binary":["x3db","x3dbz"],"vnd.collada+xml":"dae","vnd.dwf":"dwf","vnd.gdl":"gdl","vnd.gtw":"gtw","vnd.mts":"mts","vnd.usdz+zip":"usdz","vnd.vtu":"vtu"},text:{"cache-manifest":["manifest","appcache"],calendar:["ics","icz","ifb"],css:"css",csv:"csv",h323:"323",html:["html","htm","shtml","stm"],iuls:"uls",plain:["txt","text","brf","conf","def","list","log","in","bas","diff","ksh"],richtext:"rtx",scriptlet:["sct","wsc"],texmacs:"tm","tab-separated-values":"tsv","vnd.sun.j2me.app-descriptor":"jad","vnd.wap.wml":"wml","vnd.wap.wmlscript":"wmls","x-bibtex":"bib","x-boo":"boo","x-c++hdr":["h++","hpp","hxx","hh"],"x-c++src":["c++","cpp","cxx","cc"],"x-component":"htc","x-dsrc":"d","x-diff":"patch","x-haskell":"hs","x-java":"java","x-literate-haskell":"lhs","x-moc":"moc","x-pascal":["p","pas","pp","inc"],"x-pcs-gcd":"gcd","x-python":"py","x-scala":"scala","x-setext":"etx","x-tcl":["tcl","tk"],"x-tex":["tex","ltx","sty","cls"],"x-vcalendar":"vcs","x-vcard":"vcf",n3:"n3","prs.lines.tag":"dsc",sgml:["sgml","sgm"],troff:["t","tr","roff","man","me","ms"],turtle:"ttl","uri-list":["uri","uris","urls"],vcard:"vcard","vnd.curl":"curl","vnd.curl.dcurl":"dcurl","vnd.curl.scurl":"scurl","vnd.curl.mcurl":"mcurl","vnd.dvb.subtitle":"sub","vnd.fly":"fly","vnd.fmi.flexstor":"flx","vnd.graphviz":"gv","vnd.in3d.3dml":"3dml","vnd.in3d.spot":"spot","x-asm":["s","asm"],"x-c":["c","h","dic"],"x-fortran":["f","for","f77","f90"],"x-opml":"opml","x-nfo":"nfo","x-sfv":"sfv","x-uuencode":"uu",webviewhtml:"htt",javascript:"js",json:"json",markdown:["md","markdown","mdown","markdn"],"vnd.wap.si":"si","vnd.wap.sl":"sl"},video:{avif:"avif","3gpp":"3gp",annodex:"axv",dl:"dl",dv:["dif","dv"],fli:"fli",gl:"gl",mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.dece.hd":["uvh","uvvh"],"vnd.dece.mobile":["uvm","uvvm"],"vnd.dece.pd":["uvp","uvvp"],"vnd.dece.sd":["uvs","uvvs"],"vnd.dece.video":["uvv","uvvv"],"vnd.dvb.file":"dvb","vnd.fvt":"fvt","vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv",mp2t:"ts"},"x-conference":{"x-cooltalk":"ice"},"x-world":{"x-vrml":["vrm","flr","wrz","xaf","xof"]}};(()=>{const e={};for(const t of Object.keys(Vd))for(const n of Object.keys(Vd[t])){const r=Vd[t][n];if(typeof r=="string")e[r]=t+"/"+n;else for(let i=0;i<r.length;i++)e[r[i]]=t+"/"+n}return e})();const n$=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=t>>>1^3988292384:t=t>>>1;n$[e]=t}class ol{constructor(t){this.crc=t||-1}append(t){let n=this.crc|0;for(let r=0,i=t.length|0;r<i;r++)n=n>>>8^n$[(n^t[r])&255];this.crc=n}get(){return~this.crc}}class r$ extends TransformStream{constructor(){let t;const n=new ol;super({transform(r,i){n.append(r),i.enqueue(r)},flush(){const r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,n.get()),t.value=r}}),t=this}}function Qq(e){if(typeof TextEncoder>"u"){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}else return new TextEncoder().encode(e)}const Ut={concat(e,t){if(e.length===0||t.length===0)return e.concat(t);const n=e[e.length-1],r=Ut.getPartial(n);return r===32?e.concat(t):Ut._shiftRight(t,r,n|0,e.slice(0,e.length-1))},bitLength(e){const t=e.length;if(t===0)return 0;const n=e[t-1];return(t-1)*32+Ut.getPartial(n)},clamp(e,t){if(e.length*32<t)return e;e=e.slice(0,Math.ceil(t/32));const n=e.length;return t=t&31,n>0&&t&&(e[n-1]=Ut.partial(t,e[n-1]&2147483648>>t-1,1)),e},partial(e,t,n){return e===32?t:(n?t|0:t<<32-e)+e*1099511627776},getPartial(e){return Math.round(e/1099511627776)||32},_shiftRight(e,t,n,r){for(r===void 0&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(t===0)return r.concat(e);for(let o=0;o<e.length;o++)r.push(n|e[o]>>>t),n=e[o]<<32-t;const i=e.length?e[e.length-1]:0,s=Ut.getPartial(i);return r.push(Ut.partial(t+s&31,t+s>32?n:r.pop(),1)),r}},al={bytes:{fromBits(e){const n=Ut.bitLength(e)/8,r=new Uint8Array(n);let i;for(let s=0;s<n;s++)s&3||(i=e[s/4]),r[s]=i>>>24,i<<=8;return r},toBits(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],(n&3)===3&&(t.push(r),r=0);return n&3&&t.push(Ut.partial(8*(n&3),r)),t}}},i$={};i$.sha1=class{constructor(e){const t=this;t.blockSize=512,t._init=[1732584193,4023233417,2562383102,271733878,3285377520],t._key=[1518500249,1859775393,2400959708,3395469782],e?(t._h=e._h.slice(0),t._buffer=e._buffer.slice(0),t._length=e._length):t.reset()}reset(){const e=this;return e._h=e._init.slice(0),e._buffer=[],e._length=0,e}update(e){const t=this;typeof e=="string"&&(e=al.utf8String.toBits(e));const n=t._buffer=Ut.concat(t._buffer,e),r=t._length,i=t._length=r+Ut.bitLength(e);if(i>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const s=new Uint32Array(n);let o=0;for(let a=t.blockSize+r-(t.blockSize+r&t.blockSize-1);a<=i;a+=t.blockSize)t._block(s.subarray(16*o,16*(o+1))),o+=1;return n.splice(0,16*o),t}finalize(){const e=this;let t=e._buffer;const n=e._h;t=Ut.concat(t,[Ut.partial(1,1)]);for(let r=t.length+2;r&15;r++)t.push(0);for(t.push(Math.floor(e._length/4294967296)),t.push(e._length|0);t.length;)e._block(t.splice(0,16));return e.reset(),n}_f(e,t,n,r){if(e<=19)return t&n|~t&r;if(e<=39)return t^n^r;if(e<=59)return t&n|t&r|n&r;if(e<=79)return t^n^r}_S(e,t){return t<<e|t>>>32-e}_block(e){const t=this,n=t._h,r=Array(80);for(let l=0;l<16;l++)r[l]=e[l];let i=n[0],s=n[1],o=n[2],a=n[3],c=n[4];for(let l=0;l<=79;l++){l>=16&&(r[l]=t._S(1,r[l-3]^r[l-8]^r[l-14]^r[l-16]));const u=t._S(5,i)+t._f(l,s,o,a)+c+r[l]+t._key[Math.floor(l/20)]|0;c=a,a=o,o=t._S(30,s),s=i,i=u}n[0]=n[0]+i|0,n[1]=n[1]+s|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0}};const s$={};s$.aes=class{constructor(e){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const n=t._tables[0][4],r=t._tables[1],i=e.length;let s,o,a,c=1;if(i!==4&&i!==6&&i!==8)throw new Error("invalid aes key size");for(t._key=[o=e.slice(0),a=[]],s=i;s<4*i+28;s++){let l=o[s-1];(s%i===0||i===8&&s%i===4)&&(l=n[l>>>24]<<24^n[l>>16&255]<<16^n[l>>8&255]<<8^n[l&255],s%i===0&&(l=l<<8^l>>>24^c<<24,c=c<<1^(c>>7)*283)),o[s]=o[s-i]^l}for(let l=0;s;l++,s--){const u=o[l&3?s:s-4];s<=4||l<4?a[l]=u:a[l]=r[0][n[u>>>24]]^r[1][n[u>>16&255]]^r[2][n[u>>8&255]]^r[3][n[u&255]]}}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){const e=this._tables[0],t=this._tables[1],n=e[4],r=t[4],i=[],s=[];let o,a,c,l;for(let u=0;u<256;u++)s[(i[u]=u<<1^(u>>7)*283)^u]=u;for(let u=o=0;!n[u];u^=a||1,o=s[o]||1){let d=o^o<<1^o<<2^o<<3^o<<4;d=d>>8^d&255^99,n[u]=d,r[d]=u,l=i[c=i[a=i[u]]];let f=l*16843009^c*65537^a*257^u*16843008,p=i[d]*257^d*16843008;for(let g=0;g<4;g++)e[g][u]=p=p<<24^p>>>8,t[g][d]=f=f<<24^f>>>8}for(let u=0;u<5;u++)e[u]=e[u].slice(0),t[u]=t[u].slice(0)}_crypt(e,t){if(e.length!==4)throw new Error("invalid aes block size");const n=this._key[t],r=n.length/4-2,i=[0,0,0,0],s=this._tables[t],o=s[0],a=s[1],c=s[2],l=s[3],u=s[4];let d=e[0]^n[0],f=e[t?3:1]^n[1],p=e[2]^n[2],g=e[t?1:3]^n[3],h=4,m,_,v;for(let y=0;y<r;y++)m=o[d>>>24]^a[f>>16&255]^c[p>>8&255]^l[g&255]^n[h],_=o[f>>>24]^a[p>>16&255]^c[g>>8&255]^l[d&255]^n[h+1],v=o[p>>>24]^a[g>>16&255]^c[d>>8&255]^l[f&255]^n[h+2],g=o[g>>>24]^a[d>>16&255]^c[f>>8&255]^l[p&255]^n[h+3],h+=4,d=m,f=_,p=v;for(let y=0;y<4;y++)i[t?3&-y:y]=u[d>>>24]<<24^u[f>>16&255]<<16^u[p>>8&255]<<8^u[g&255]^n[h++],m=d,d=f,f=p,p=g,g=m;return i}};const Zq={getRandomValues(e){const t=new Uint32Array(e.buffer),n=r=>{let i=987654321;const s=4294967295;return function(){return i=36969*(i&65535)+(i>>16)&s,r=18e3*(r&65535)+(r>>16)&s,(((i<<16)+r&s)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let r=0,i;r<e.length;r+=4){const s=n((i||Math.random())*4294967296);i=s()*987654071,t[r/4]=s()*4294967296|0}return e}},o$={};o$.ctrGladman=class{constructor(e,t){this._prf=e,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(e){return this.calculate(this._prf,e,this._iv)}incWord(e){if((e>>24&255)===255){let t=e>>16&255,n=e>>8&255,r=e&255;t===255?(t=0,n===255?(n=0,r===255?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}incCounter(e){(e[0]=this.incWord(e[0]))===0&&(e[1]=this.incWord(e[1]))}calculate(e,t,n){let r;if(!(r=t.length))return[];const i=Ut.bitLength(t);for(let s=0;s<r;s+=4){this.incCounter(n);const o=e.encrypt(n);t[s]^=o[0],t[s+1]^=o[1],t[s+2]^=o[2],t[s+3]^=o[3]}return Ut.clamp(t,i)}};const zi={importKey(e){return new zi.hmacSha1(al.bytes.toBits(e))},pbkdf2(e,t,n,r){if(n=n||1e4,r<0||n<0)throw new Error("invalid params to pbkdf2");const i=(r>>5)+1<<2;let s,o,a,c,l;const u=new ArrayBuffer(i),d=new DataView(u);let f=0;const p=Ut;for(t=al.bytes.toBits(t),l=1;f<(i||1);l++){for(s=o=e.encrypt(p.concat(t,[l])),a=1;a<n;a++)for(o=e.encrypt(o),c=0;c<o.length;c++)s[c]^=o[c];for(a=0;f<(i||1)&&a<s.length;a++)d.setInt32(f,s[a]),f+=4}return u.slice(0,r/8)}};zi.hmacSha1=class{constructor(e){const t=this,n=t._hash=i$.sha1,r=[[],[]];t._baseHash=[new n,new n];const i=t._baseHash[0].blockSize/32;e.length>i&&(e=new n().update(e).finalize());for(let s=0;s<i;s++)r[0][s]=e[s]^909522486,r[1][s]=e[s]^1549556828;t._baseHash[0].update(r[0]),t._baseHash[1].update(r[1]),t._resultHash=new n(t._baseHash[0])}reset(){const e=this;e._resultHash=new e._hash(e._baseHash[0]),e._updated=!1}update(e){const t=this;t._updated=!0,t._resultHash.update(e)}digest(){const e=this,t=e._resultHash.finalize(),n=new e._hash(e._baseHash[1]).update(t).finalize();return e.reset(),n}encrypt(e){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}};const Jq=typeof crypto<"u"&&typeof crypto.getRandomValues=="function",a$="Invalid password",c$="Invalid signature",Um="zipjs-abort-check-password";function l$(e){return Jq?crypto.getRandomValues(e):Zq.getRandomValues(e)}const ds=16,eW="raw",u$={name:"PBKDF2"},tW={name:"HMAC"},nW="SHA-1",rW=Object.assign({hash:tW},u$),wh=Object.assign({iterations:1e3,hash:{name:nW}},u$),iW=["deriveBits"],ua=[8,12,16],_o=[16,24,32],Nr=10,sW=[0,0,0,0],d$="undefined",f$="function",Hu=typeof crypto!=d$,qa=Hu&&crypto.subtle,h$=Hu&&typeof qa!=d$,er=al.bytes,oW=s$.aes,aW=o$.ctrGladman,cW=zi.hmacSha1;let Ov=Hu&&h$&&typeof qa.importKey==f$,kv=Hu&&h$&&typeof qa.deriveBits==f$;class lW extends TransformStream{constructor({password:t,signed:n,encryptionStrength:r,checkPasswordOnly:i}){super({start(){Object.assign(this,{ready:new Promise(s=>this.resolveReady=s),password:t,signed:n,strength:r-1,pending:new Uint8Array})},async transform(s,o){const a=this,{password:c,strength:l,resolveReady:u,ready:d}=a;c?(await dW(a,l,c,mn(s,0,ua[l]+2)),s=mn(s,ua[l]+2),i?o.error(new Error(Um)):u()):await d;const f=new Uint8Array(s.length-Nr-(s.length-Nr)%ds);o.enqueue(p$(a,s,f,0,Nr,!0))},async flush(s){const{signed:o,ctr:a,hmac:c,pending:l,ready:u}=this;if(c&&a){await u;const d=mn(l,0,l.length-Nr),f=mn(l,l.length-Nr);let p=new Uint8Array;if(d.length){const g=fa(er,d);c.update(g);const h=a.update(g);p=da(er,h)}if(o){const g=mn(da(er,c.digest()),0,Nr);for(let h=0;h<Nr;h++)if(g[h]!=f[h])throw new Error(c$)}s.enqueue(p)}}})}}class uW extends TransformStream{constructor({password:t,encryptionStrength:n}){let r;super({start(){Object.assign(this,{ready:new Promise(i=>this.resolveReady=i),password:t,strength:n-1,pending:new Uint8Array})},async transform(i,s){const o=this,{password:a,strength:c,resolveReady:l,ready:u}=o;let d=new Uint8Array;a?(d=await fW(o,c,a),l()):await u;const f=new Uint8Array(d.length+i.length-i.length%ds);f.set(d,0),s.enqueue(p$(o,i,f,d.length,0))},async flush(i){const{ctr:s,hmac:o,pending:a,ready:c}=this;if(o&&s){await c;let l=new Uint8Array;if(a.length){const u=s.update(fa(er,a));o.update(u),l=da(er,u)}r.signature=da(er,o.digest()).slice(0,Nr),i.enqueue(Bm(l,r.signature))}}}),r=this}}function p$(e,t,n,r,i,s){const{ctr:o,hmac:a,pending:c}=e,l=t.length-i;c.length&&(t=Bm(c,t),n=mW(n,l-l%ds));let u;for(u=0;u<=l-ds;u+=ds){const d=fa(er,mn(t,u,u+ds));s&&a.update(d);const f=o.update(d);s||a.update(f),n.set(da(er,f),u+r)}return e.pending=mn(t,u),n}async function dW(e,t,n,r){const i=await m$(e,t,n,mn(r,0,ua[t])),s=mn(r,ua[t]);if(i[0]!=s[0]||i[1]!=s[1])throw new Error(a$)}async function fW(e,t,n){const r=l$(new Uint8Array(ua[t])),i=await m$(e,t,n,r);return Bm(r,i)}async function m$(e,t,n,r){e.password=null;const i=Qq(n),s=await hW(eW,i,rW,!1,iW),o=await pW(Object.assign({salt:r},wh),s,8*(_o[t]*2+2)),a=new Uint8Array(o),c=fa(er,mn(a,0,_o[t])),l=fa(er,mn(a,_o[t],_o[t]*2)),u=mn(a,_o[t]*2);return Object.assign(e,{keys:{key:c,authentication:l,passwordVerification:u},ctr:new aW(new oW(c),Array.from(sW)),hmac:new cW(l)}),u}async function hW(e,t,n,r,i){if(Ov)try{return await qa.importKey(e,t,n,r,i)}catch{return Ov=!1,zi.importKey(t)}else return zi.importKey(t)}async function pW(e,t,n){if(kv)try{return await qa.deriveBits(e,t,n)}catch{return kv=!1,zi.pbkdf2(t,e.salt,wh.iterations,n)}else return zi.pbkdf2(t,e.salt,wh.iterations,n)}function Bm(e,t){let n=e;return e.length+t.length&&(n=new Uint8Array(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function mW(e,t){if(t&&t>e.length){const n=e;e=new Uint8Array(t),e.set(n,0)}return e}function mn(e,t,n){return e.subarray(t,n)}function da(e,t){return e.fromBits(t)}function fa(e,t){return e.toBits(t)}const $s=12;class _W extends TransformStream{constructor({password:t,passwordVerification:n,checkPasswordOnly:r}){super({start(){Object.assign(this,{password:t,passwordVerification:n}),_$(this,t)},transform(i,s){const o=this;if(o.password){const a=Nv(o,i.subarray(0,$s));if(o.password=null,a[$s-1]!=o.passwordVerification)throw new Error(a$);i=i.subarray($s)}r?s.error(new Error(Um)):s.enqueue(Nv(o,i))}})}}class gW extends TransformStream{constructor({password:t,passwordVerification:n}){super({start(){Object.assign(this,{password:t,passwordVerification:n}),_$(this,t)},transform(r,i){const s=this;let o,a;if(s.password){s.password=null;const c=l$(new Uint8Array($s));c[$s-1]=s.passwordVerification,o=new Uint8Array(r.length+c.length),o.set(Pv(s,c),0),a=$s}else o=new Uint8Array(r.length),a=0;o.set(Pv(s,r),a),i.enqueue(o)}})}}function Nv(e,t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=g$(e)^t[r],zm(e,n[r]);return n}function Pv(e,t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=g$(e)^t[r],zm(e,t[r]);return n}function _$(e,t){const n=[305419896,591751049,878082192];Object.assign(e,{keys:n,crcKey0:new ol(n[0]),crcKey2:new ol(n[2])});for(let r=0;r<t.length;r++)zm(e,t.charCodeAt(r))}function zm(e,t){let[n,r,i]=e.keys;e.crcKey0.append([t]),n=~e.crcKey0.get(),r=Dv(Math.imul(Dv(r+v$(n)),134775813)+1),e.crcKey2.append([r>>>24]),i=~e.crcKey2.get(),e.keys=[n,r,i]}function g$(e){const t=e.keys[2]|2;return v$(Math.imul(t,t^1)>>>8)}function v$(e){return e&255}function Dv(e){return e&4294967295}const Mv="deflate-raw";class vW extends TransformStream{constructor(t,{chunkSize:n,CompressionStream:r,CompressionStreamNative:i}){super({});const{compressed:s,encrypted:o,useCompressionStream:a,zipCrypto:c,signed:l,level:u}=t,d=this;let f,p,g=y$(super.readable);(!o||c)&&l&&(f=new r$,g=tr(g,f)),s&&(g=w$(g,a,{level:u,chunkSize:n},i,r)),o&&(c?g=tr(g,new gW(t)):(p=new uW(t),g=tr(g,p))),b$(d,g,()=>{let h;o&&!c&&(h=p.signature),(!o||c)&&l&&(h=new DataView(f.value.buffer).getUint32(0)),d.signature=h})}}class yW extends TransformStream{constructor(t,{chunkSize:n,DecompressionStream:r,DecompressionStreamNative:i}){super({});const{zipCrypto:s,encrypted:o,signed:a,signature:c,compressed:l,useCompressionStream:u}=t;let d,f,p=y$(super.readable);o&&(s?p=tr(p,new _W(t)):(f=new lW(t),p=tr(p,f))),l&&(p=w$(p,u,{chunkSize:n},i,r)),(!o||s)&&a&&(d=new r$,p=tr(p,d)),b$(this,p,()=>{if((!o||s)&&a){const g=new DataView(d.value.buffer);if(c!=g.getUint32(0,!1))throw new Error(c$)}})}}function y$(e){return tr(e,new TransformStream({transform(t,n){t&&t.length&&n.enqueue(t)}}))}function b$(e,t,n){t=tr(t,new TransformStream({flush:n})),Object.defineProperty(e,"readable",{get(){return t}})}function w$(e,t,n,r,i){try{const s=t&&r?r:i;e=tr(e,new s(Mv,n))}catch(s){if(t)e=tr(e,new i(Mv,n));else throw s}return e}function tr(e,t){return e.pipeThrough(t)}const bW="message",wW="start",EW="pull",Lv="data",$W="ack",SW="close",IW="deflate",E$="inflate";class TW extends TransformStream{constructor(t,n){super({});const r=this,{codecType:i}=t;let s;i.startsWith(IW)?s=vW:i.startsWith(E$)&&(s=yW);let o=0;const a=new s(t,n),c=super.readable,l=new TransformStream({transform(u,d){u&&u.length&&(o+=u.length,d.enqueue(u))},flush(){const{signature:u}=a;Object.assign(r,{signature:u,size:o})}});Object.defineProperty(r,"readable",{get(){return c.pipeThrough(a).pipeThrough(l)}})}}const xW=typeof Worker!=sl;class Hd{constructor(t,{readable:n,writable:r},{options:i,config:s,streamOptions:o,useWebWorkers:a,transferStreams:c,scripts:l},u){const{signal:d}=o;return Object.assign(t,{busy:!0,readable:n.pipeThrough(new AW(n,o,s),{signal:d}),writable:r,options:Object.assign({},i),scripts:l,transferStreams:c,terminate(){const{worker:f,busy:p}=t;f&&!p&&(f.terminate(),t.interface=null)},onTaskFinished(){t.busy=!1,u(t)}}),(a&&xW?CW:RW)(t,s)}}class AW extends TransformStream{constructor(t,{onstart:n,onprogress:r,size:i,onend:s},{chunkSize:o}){let a=0;super({start(){n&&Gd(n,i)},async transform(c,l){a+=c.length,r&&await Gd(r,a,i),l.enqueue(c)},flush(){t.size=a,s&&Gd(s,a)}},{highWaterMark:1,size:()=>o})}}async function Gd(e,...t){try{await e(...t)}catch{}}function RW(e,t){return{run:()=>OW(e,t)}}function CW(e,{baseURL:t,chunkSize:n}){return e.interface||Object.assign(e,{worker:PW(e.scripts[0],t,e),interface:{run:()=>kW(e,{chunkSize:n})}}),e.interface}async function OW({options:e,readable:t,writable:n,onTaskFinished:r},i){const s=new TW(e,i);try{await t.pipeThrough(s).pipeTo(n,{preventClose:!0,preventAbort:!0});const{signature:o,size:a}=s;return{signature:o,size:a}}finally{r()}}async function kW(e,t){let n,r;const i=new Promise((f,p)=>{n=f,r=p});Object.assign(e,{reader:null,writer:null,resolveResult:n,rejectResult:r,result:i});const{readable:s,options:o,scripts:a}=e,{writable:c,closed:l}=NW(e.writable);Eh({type:wW,scripts:a.slice(1),options:o,config:t,readable:s,writable:c},e)||Object.assign(e,{reader:s.getReader(),writer:c.getWriter()});const d=await i;try{await c.getWriter().close()}catch{}return await l,d}function NW(e){const t=e.getWriter();let n;const r=new Promise(s=>n=s);return{writable:new WritableStream({async write(s){await t.ready,await t.write(s)},close(){t.releaseLock(),n()},abort(s){return t.abort(s)}}),closed:r}}let Fv=!0,Uv=!0;function PW(e,t,n){const r={type:"module"};let i,s;typeof e==e$&&(e=e());try{i=new URL(e,t)}catch{i=e}if(Fv)try{s=new Worker(i)}catch{Fv=!1,s=new Worker(i,r)}else s=new Worker(i,r);return s.addEventListener(bW,o=>DW(o,n)),s}function Eh(e,{worker:t,writer:n,onTaskFinished:r,transferStreams:i}){try{let{value:s,readable:o,writable:a}=e;const c=[];if(s&&(e.value=s.buffer,c.push(e.value)),i&&Uv?(o&&c.push(o),a&&c.push(a)):e.readable=e.writable=null,c.length)try{return t.postMessage(e,c),!0}catch{Uv=!1,e.readable=e.writable=null,t.postMessage(e)}else t.postMessage(e)}catch(s){throw n&&n.releaseLock(),r(),s}}async function DW({data:e},t){const{type:n,value:r,messageId:i,result:s,error:o}=e,{reader:a,writer:c,resolveResult:l,rejectResult:u,onTaskFinished:d}=t;try{if(o){const{message:p,stack:g,code:h,name:m}=o,_=new Error(p);Object.assign(_,{stack:g,code:h,name:m}),f(_)}else{if(n==EW){const{value:p,done:g}=await a.read();Eh({type:Lv,value:p,done:g,messageId:i},t)}n==Lv&&(await c.ready,await c.write(new Uint8Array(r)),Eh({type:$W,messageId:i},t)),n==SW&&f(null,s)}}catch(p){f(p)}function f(p,g){p?u(p):l(g),c&&c.releaseLock(),d()}}let mi=[];const Yd=[];let Bv=0;async function MW(e,t){const{options:n,config:r}=t,{transferStreams:i,useWebWorkers:s,useCompressionStream:o,codecType:a,compressed:c,signed:l,encrypted:u}=n,{workerScripts:d,maxWorkers:f,terminateWorkerTimeout:p}=r;t.transferStreams=i||i===Dn;const g=!c&&!l&&!u&&!t.transferStreams;t.useWebWorkers=!g&&(s||s===Dn&&r.useWebWorkers),t.scripts=t.useWebWorkers&&d?d[a]:[],n.useCompressionStream=o||o===Dn&&r.useCompressionStream;let h;const m=mi.find(v=>!v.busy);if(m)zv(m),h=new Hd(m,e,t,_);else if(mi.length<f){const v={indexWorker:Bv};Bv++,mi.push(v),h=new Hd(v,e,t,_)}else h=await new Promise(v=>Yd.push({resolve:v,stream:e,workerOptions:t}));return h.run();function _(v){if(Yd.length){const[{resolve:y,stream:b,workerOptions:$}]=Yd.splice(0,1);y(new Hd(v,b,$,_))}else v.worker?(zv(v),Number.isFinite(p)&&p>=0&&(v.terminateTimeout=setTimeout(()=>{mi=mi.filter(y=>y!=v),v.terminate()},p))):mi=mi.filter(y=>y!=v)}}function zv(e){const{terminateTimeout:t}=e;t&&(clearTimeout(t),e.terminateTimeout=null)}function LW(e){const t=()=>URL.createObjectURL(new Blob([`const{Array:e,Object:t,Number:n,Math:r,Error:s,Uint8Array:i,Uint16Array:o,Uint32Array:c,Int32Array:f,Map:a,DataView:l,Promise:u,TextEncoder:w,crypto:h,postMessage:d,TransformStream:p,ReadableStream:y,WritableStream:m,CompressionStream:b,DecompressionStream:g}=self;class k{constructor(e){return class extends p{constructor(t,n){const r=new e(n);super({transform(e,t){t.enqueue(r.append(e))},flush(e){const t=r.flush();t&&e.enqueue(t)}})}}}}const v=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;v[e]=t}class S{constructor(e){this.t=e||-1}append(e){let t=0|this.t;for(let n=0,r=0|e.length;r>n;n++)t=t>>>8^v[255&(t^e[n])];this.t=t}get(){return~this.t}}class z extends p{constructor(){let e;const t=new S;super({transform(e,n){t.append(e),n.enqueue(e)},flush(){const n=new i(4);new l(n.buffer).setUint32(0,t.get()),e.value=n}}),e=this}}const C={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=C.i(n);return 32===r?e.concat(t):C.o(t,r,0|n,e.slice(0,e.length-1))},l(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+C.i(n)},u(e,t){if(32*e.length<t)return e;const n=(e=e.slice(0,r.ceil(t/32))).length;return t&=31,n>0&&t&&(e[n-1]=C.h(t,e[n-1]&2147483648>>t-1,1)),e},h:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,i:e=>r.round(e/1099511627776)||32,o(e,t,n,r){for(void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(let s=0;s<e.length;s++)r.push(n|e[s]>>>t),n=e[s]<<32-t;const s=e.length?e[e.length-1]:0,i=C.i(s);return r.push(C.h(t+i&31,t+i>32?n:r.pop(),1)),r}},x={p:{m(e){const t=C.l(e)/8,n=new i(t);let r;for(let s=0;t>s;s++)0==(3&s)&&(r=e[s/4]),n[s]=r>>>24,r<<=8;return n},g(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3==(3&n)&&(t.push(r),r=0);return 3&n&&t.push(C.h(8*(3&n),r)),t}}},_=class{constructor(e){const t=this;t.blockSize=512,t.k=[1732584193,4023233417,2562383102,271733878,3285377520],t.v=[1518500249,1859775393,2400959708,3395469782],e?(t.S=e.S.slice(0),t.C=e.C.slice(0),t._=e._):t.reset()}reset(){const e=this;return e.S=e.k.slice(0),e.C=[],e._=0,e}update(e){const t=this;"string"==typeof e&&(e=x.A.g(e));const n=t.C=C.concat(t.C,e),r=t._,i=t._=r+C.l(e);if(i>9007199254740991)throw new s("Cannot hash more than 2^53 - 1 bits");const o=new c(n);let f=0;for(let e=t.blockSize+r-(t.blockSize+r&t.blockSize-1);i>=e;e+=t.blockSize)t.I(o.subarray(16*f,16*(f+1))),f+=1;return n.splice(0,16*f),t}D(){const e=this;let t=e.C;const n=e.S;t=C.concat(t,[C.h(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(r.floor(e._/4294967296)),t.push(0|e._);t.length;)e.I(t.splice(0,16));return e.reset(),n}V(e,t,n,r){return e>19?e>39?e>59?e>79?void 0:t^n^r:t&n|t&r|n&r:t^n^r:t&n|~t&r}P(e,t){return t<<e|t>>>32-e}I(t){const n=this,s=n.S,i=e(80);for(let e=0;16>e;e++)i[e]=t[e];let o=s[0],c=s[1],f=s[2],a=s[3],l=s[4];for(let e=0;79>=e;e++){16>e||(i[e]=n.P(1,i[e-3]^i[e-8]^i[e-14]^i[e-16]));const t=n.P(5,o)+n.V(e,c,f,a)+l+i[e]+n.v[r.floor(e/20)]|0;l=a,a=f,f=n.P(30,c),c=o,o=t}s[0]=s[0]+o|0,s[1]=s[1]+c|0,s[2]=s[2]+f|0,s[3]=s[3]+a|0,s[4]=s[4]+l|0}},A={getRandomValues(e){const t=new c(e.buffer),n=e=>{let t=987654321;const n=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&n,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(r.random()>.5?1:-1))};for(let s,i=0;i<e.length;i+=4){const e=n(4294967296*(s||r.random()));s=987654071*e(),t[i/4]=4294967296*e()|0}return e}},I={importKey:e=>new I.R(x.p.g(e)),B(e,t,n,r){if(n=n||1e4,0>r||0>n)throw new s("invalid params to pbkdf2");const i=1+(r>>5)<<2;let o,c,f,a,u;const w=new ArrayBuffer(i),h=new l(w);let d=0;const p=C;for(t=x.p.g(t),u=1;(i||1)>d;u++){for(o=c=e.encrypt(p.concat(t,[u])),f=1;n>f;f++)for(c=e.encrypt(c),a=0;a<c.length;a++)o[a]^=c[a];for(f=0;(i||1)>d&&f<o.length;f++)h.setInt32(d,o[f]),d+=4}return w.slice(0,r/8)},R:class{constructor(e){const t=this,n=t.M=_,r=[[],[]];t.U=[new n,new n];const s=t.U[0].blockSize/32;e.length>s&&(e=(new n).update(e).D());for(let t=0;s>t;t++)r[0][t]=909522486^e[t],r[1][t]=1549556828^e[t];t.U[0].update(r[0]),t.U[1].update(r[1]),t.K=new n(t.U[0])}reset(){const e=this;e.K=new e.M(e.U[0]),e.N=!1}update(e){this.N=!0,this.K.update(e)}digest(){const e=this,t=e.K.D(),n=new e.M(e.U[1]).update(t).D();return e.reset(),n}encrypt(e){if(this.N)throw new s("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},D=void 0!==h&&"function"==typeof h.getRandomValues,V="Invalid password",P="Invalid signature",R="zipjs-abort-check-password";function B(e){return D?h.getRandomValues(e):A.getRandomValues(e)}const E=16,M={name:"PBKDF2"},U=t.assign({hash:{name:"HMAC"}},M),K=t.assign({iterations:1e3,hash:{name:"SHA-1"}},M),N=["deriveBits"],O=[8,12,16],T=[16,24,32],W=10,j=[0,0,0,0],H="undefined",L="function",F=typeof h!=H,q=F&&h.subtle,G=F&&typeof q!=H,J=x.p,Q=class{constructor(e){const t=this;t.O=[[[],[],[],[],[]],[[],[],[],[],[]]],t.O[0][0][0]||t.T();const n=t.O[0][4],r=t.O[1],i=e.length;let o,c,f,a=1;if(4!==i&&6!==i&&8!==i)throw new s("invalid aes key size");for(t.v=[c=e.slice(0),f=[]],o=i;4*i+28>o;o++){let e=c[o-1];(o%i==0||8===i&&o%i==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],o%i==0&&(e=e<<8^e>>>24^a<<24,a=a<<1^283*(a>>7))),c[o]=c[o-i]^e}for(let e=0;o;e++,o--){const t=c[3&e?o:o-4];f[e]=4>=o||4>e?t:r[0][n[t>>>24]]^r[1][n[t>>16&255]]^r[2][n[t>>8&255]]^r[3][n[255&t]]}}encrypt(e){return this.W(e,0)}decrypt(e){return this.W(e,1)}T(){const e=this.O[0],t=this.O[1],n=e[4],r=t[4],s=[],i=[];let o,c,f,a;for(let e=0;256>e;e++)i[(s[e]=e<<1^283*(e>>7))^e]=e;for(let l=o=0;!n[l];l^=c||1,o=i[o]||1){let i=o^o<<1^o<<2^o<<3^o<<4;i=i>>8^255&i^99,n[l]=i,r[i]=l,a=s[f=s[c=s[l]]];let u=16843009*a^65537*f^257*c^16843008*l,w=257*s[i]^16843008*i;for(let n=0;4>n;n++)e[n][l]=w=w<<24^w>>>8,t[n][i]=u=u<<24^u>>>8}for(let n=0;5>n;n++)e[n]=e[n].slice(0),t[n]=t[n].slice(0)}W(e,t){if(4!==e.length)throw new s("invalid aes block size");const n=this.v[t],r=n.length/4-2,i=[0,0,0,0],o=this.O[t],c=o[0],f=o[1],a=o[2],l=o[3],u=o[4];let w,h,d,p=e[0]^n[0],y=e[t?3:1]^n[1],m=e[2]^n[2],b=e[t?1:3]^n[3],g=4;for(let e=0;r>e;e++)w=c[p>>>24]^f[y>>16&255]^a[m>>8&255]^l[255&b]^n[g],h=c[y>>>24]^f[m>>16&255]^a[b>>8&255]^l[255&p]^n[g+1],d=c[m>>>24]^f[b>>16&255]^a[p>>8&255]^l[255&y]^n[g+2],b=c[b>>>24]^f[p>>16&255]^a[y>>8&255]^l[255&m]^n[g+3],g+=4,p=w,y=h,m=d;for(let e=0;4>e;e++)i[t?3&-e:e]=u[p>>>24]<<24^u[y>>16&255]<<16^u[m>>8&255]<<8^u[255&b]^n[g++],w=p,p=y,y=m,m=b,b=w;return i}},X=class{constructor(e,t){this.j=e,this.H=t,this.L=t}reset(){this.L=this.H}update(e){return this.F(this.j,e,this.L)}q(e){if(255==(e>>24&255)){let t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}G(e){0===(e[0]=this.q(e[0]))&&(e[1]=this.q(e[1]))}F(e,t,n){let r;if(!(r=t.length))return[];const s=C.l(t);for(let s=0;r>s;s+=4){this.G(n);const r=e.encrypt(n);t[s]^=r[0],t[s+1]^=r[1],t[s+2]^=r[2],t[s+3]^=r[3]}return C.u(t,s)}},Y=I.R;let Z=F&&G&&typeof q.importKey==L,$=F&&G&&typeof q.deriveBits==L;class ee extends p{constructor({password:e,signed:n,encryptionStrength:r,checkPasswordOnly:o}){super({start(){t.assign(this,{ready:new u((e=>this.J=e)),password:e,signed:n,X:r-1,pending:new i})},async transform(e,t){const n=this,{password:r,X:c,J:f,ready:a}=n;r?(await(async(e,t,n,r)=>{const i=await re(e,t,n,ie(r,0,O[t])),o=ie(r,O[t]);if(i[0]!=o[0]||i[1]!=o[1])throw new s(V)})(n,c,r,ie(e,0,O[c]+2)),e=ie(e,O[c]+2),o?t.error(new s(R)):f()):await a;const l=new i(e.length-W-(e.length-W)%E);t.enqueue(ne(n,e,l,0,W,!0))},async flush(e){const{signed:t,Y:n,Z:r,pending:o,ready:c}=this;if(r&&n){await c;const f=ie(o,0,o.length-W),a=ie(o,o.length-W);let l=new i;if(f.length){const e=ce(J,f);r.update(e);const t=n.update(e);l=oe(J,t)}if(t){const e=ie(oe(J,r.digest()),0,W);for(let t=0;W>t;t++)if(e[t]!=a[t])throw new s(P)}e.enqueue(l)}}})}}class te extends p{constructor({password:e,encryptionStrength:n}){let r;super({start(){t.assign(this,{ready:new u((e=>this.J=e)),password:e,X:n-1,pending:new i})},async transform(e,t){const n=this,{password:r,X:s,J:o,ready:c}=n;let f=new i;r?(f=await(async(e,t,n)=>{const r=B(new i(O[t]));return se(r,await re(e,t,n,r))})(n,s,r),o()):await c;const a=new i(f.length+e.length-e.length%E);a.set(f,0),t.enqueue(ne(n,e,a,f.length,0))},async flush(e){const{Y:t,Z:n,pending:s,ready:o}=this;if(n&&t){await o;let c=new i;if(s.length){const e=t.update(ce(J,s));n.update(e),c=oe(J,e)}r.signature=oe(J,n.digest()).slice(0,W),e.enqueue(se(c,r.signature))}}}),r=this}}function ne(e,t,n,r,s,o){const{Y:c,Z:f,pending:a}=e,l=t.length-s;let u;for(a.length&&(t=se(a,t),n=((e,t)=>{if(t&&t>e.length){const n=e;(e=new i(t)).set(n,0)}return e})(n,l-l%E)),u=0;l-E>=u;u+=E){const e=ce(J,ie(t,u,u+E));o&&f.update(e);const s=c.update(e);o||f.update(s),n.set(oe(J,s),u+r)}return e.pending=ie(t,u),n}async function re(n,r,s,o){n.password=null;const c=(e=>{if(void 0===w){const t=new i((e=unescape(encodeURIComponent(e))).length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new w).encode(e)})(s),f=await(async(e,t,n,r,s)=>{if(!Z)return I.importKey(t);try{return await q.importKey("raw",t,n,!1,s)}catch(e){return Z=!1,I.importKey(t)}})(0,c,U,0,N),a=await(async(e,t,n)=>{if(!$)return I.B(t,e.salt,K.iterations,n);try{return await q.deriveBits(e,t,n)}catch(r){return $=!1,I.B(t,e.salt,K.iterations,n)}})(t.assign({salt:o},K),f,8*(2*T[r]+2)),l=new i(a),u=ce(J,ie(l,0,T[r])),h=ce(J,ie(l,T[r],2*T[r])),d=ie(l,2*T[r]);return t.assign(n,{keys:{key:u,$:h,passwordVerification:d},Y:new X(new Q(u),e.from(j)),Z:new Y(h)}),d}function se(e,t){let n=e;return e.length+t.length&&(n=new i(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function ie(e,t,n){return e.subarray(t,n)}function oe(e,t){return e.m(t)}function ce(e,t){return e.g(t)}class fe extends p{constructor({password:e,passwordVerification:n,checkPasswordOnly:r}){super({start(){t.assign(this,{password:e,passwordVerification:n}),we(this,e)},transform(e,t){const n=this;if(n.password){const t=le(n,e.subarray(0,12));if(n.password=null,t[11]!=n.passwordVerification)throw new s(V);e=e.subarray(12)}r?t.error(new s(R)):t.enqueue(le(n,e))}})}}class ae extends p{constructor({password:e,passwordVerification:n}){super({start(){t.assign(this,{password:e,passwordVerification:n}),we(this,e)},transform(e,t){const n=this;let r,s;if(n.password){n.password=null;const t=B(new i(12));t[11]=n.passwordVerification,r=new i(e.length+t.length),r.set(ue(n,t),0),s=12}else r=new i(e.length),s=0;r.set(ue(n,e),s),t.enqueue(r)}})}}function le(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=de(e)^t[r],he(e,n[r]);return n}function ue(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=de(e)^t[r],he(e,t[r]);return n}function we(e,n){const r=[305419896,591751049,878082192];t.assign(e,{keys:r,ee:new S(r[0]),te:new S(r[2])});for(let t=0;t<n.length;t++)he(e,n.charCodeAt(t))}function he(e,t){let[n,s,i]=e.keys;e.ee.append([t]),n=~e.ee.get(),s=ye(r.imul(ye(s+pe(n)),134775813)+1),e.te.append([s>>>24]),i=~e.te.get(),e.keys=[n,s,i]}function de(e){const t=2|e.keys[2];return pe(r.imul(t,1^t)>>>8)}function pe(e){return 255&e}function ye(e){return 4294967295&e}const me="deflate-raw";class be extends p{constructor(e,{chunkSize:t,CompressionStream:n,CompressionStreamNative:r}){super({});const{compressed:s,encrypted:i,useCompressionStream:o,zipCrypto:c,signed:f,level:a}=e,u=this;let w,h,d=ke(super.readable);i&&!c||!f||(w=new z,d=ze(d,w)),s&&(d=Se(d,o,{level:a,chunkSize:t},r,n)),i&&(c?d=ze(d,new ae(e)):(h=new te(e),d=ze(d,h))),ve(u,d,(()=>{let e;i&&!c&&(e=h.signature),i&&!c||!f||(e=new l(w.value.buffer).getUint32(0)),u.signature=e}))}}class ge extends p{constructor(e,{chunkSize:t,DecompressionStream:n,DecompressionStreamNative:r}){super({});const{zipCrypto:i,encrypted:o,signed:c,signature:f,compressed:a,useCompressionStream:u}=e;let w,h,d=ke(super.readable);o&&(i?d=ze(d,new fe(e)):(h=new ee(e),d=ze(d,h))),a&&(d=Se(d,u,{chunkSize:t},r,n)),o&&!i||!c||(w=new z,d=ze(d,w)),ve(this,d,(()=>{if((!o||i)&&c){const e=new l(w.value.buffer);if(f!=e.getUint32(0,!1))throw new s(P)}}))}}function ke(e){return ze(e,new p({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function ve(e,n,r){n=ze(n,new p({flush:r})),t.defineProperty(e,"readable",{get:()=>n})}function Se(e,t,n,r,s){try{e=ze(e,new(t&&r?r:s)(me,n))}catch(r){if(!t)throw r;e=ze(e,new s(me,n))}return e}function ze(e,t){return e.pipeThrough(t)}const Ce="data";class xe extends p{constructor(e,n){super({});const r=this,{codecType:s}=e;let i;s.startsWith("deflate")?i=be:s.startsWith("inflate")&&(i=ge);let o=0;const c=new i(e,n),f=super.readable,a=new p({transform(e,t){e&&e.length&&(o+=e.length,t.enqueue(e))},flush(){const{signature:e}=c;t.assign(r,{signature:e,size:o})}});t.defineProperty(r,"readable",{get:()=>f.pipeThrough(c).pipeThrough(a)})}}const _e=new a,Ae=new a;let Ie=0;async function De(e){try{const{options:t,scripts:r,config:s}=e;r&&r.length&&importScripts.apply(void 0,r),self.initCodec&&self.initCodec(),s.CompressionStreamNative=self.CompressionStream,s.DecompressionStreamNative=self.DecompressionStream,self.Deflate&&(s.CompressionStream=new k(self.Deflate)),self.Inflate&&(s.DecompressionStream=new k(self.Inflate));const i={highWaterMark:1,size:()=>s.chunkSize},o=e.readable||new y({async pull(e){const t=new u((e=>_e.set(Ie,e)));Ve({type:"pull",messageId:Ie}),Ie=(Ie+1)%n.MAX_SAFE_INTEGER;const{value:r,done:s}=await t;e.enqueue(r),s&&e.close()}},i),c=e.writable||new m({async write(e){let t;const r=new u((e=>t=e));Ae.set(Ie,t),Ve({type:Ce,value:e,messageId:Ie}),Ie=(Ie+1)%n.MAX_SAFE_INTEGER,await r}},i),f=new xe(t,s);await o.pipeThrough(f).pipeTo(c,{preventClose:!0,preventAbort:!0});try{await c.getWriter().close()}catch(e){}const{signature:a,size:l}=f;Ve({type:"close",result:{signature:a,size:l}})}catch(e){Pe(e)}}function Ve(e){let{value:t}=e;if(t)if(t.length)try{t=new i(t),e.value=t.buffer,d(e,[e.value])}catch(t){d(e)}else d(e);else d(e)}function Pe(e=new s("Unknown error")){const{message:t,stack:n,code:r,name:i}=e;d({error:{message:t,stack:n,code:r,name:i}})}addEventListener("message",(({data:e})=>{const{type:t,messageId:n,value:r,done:s}=e;try{if("start"==t&&De(e),t==Ce){const e=_e.get(n);_e.delete(n),e({value:new i(r),done:s})}if("ack"==t){const e=Ae.get(n);Ae.delete(n),e()}}catch(e){Pe(e)}}));const Re=-2;function Be(t){return Ee(t.map((([t,n])=>new e(t).fill(n,0,t))))}function Ee(t){return t.reduce(((t,n)=>t.concat(e.isArray(n)?Ee(n):n)),[])}const Me=[0,1,2,3].concat(...Be([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function Ue(){const e=this;function t(e,t){let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}e.ne=n=>{const s=e.re,i=e.ie.se,o=e.ie.oe;let c,f,a,l=-1;for(n.ce=0,n.fe=573,c=0;o>c;c++)0!==s[2*c]?(n.ae[++n.ce]=l=c,n.le[c]=0):s[2*c+1]=0;for(;2>n.ce;)a=n.ae[++n.ce]=2>l?++l:0,s[2*a]=1,n.le[a]=0,n.ue--,i&&(n.we-=i[2*a+1]);for(e.he=l,c=r.floor(n.ce/2);c>=1;c--)n.de(s,c);a=o;do{c=n.ae[1],n.ae[1]=n.ae[n.ce--],n.de(s,1),f=n.ae[1],n.ae[--n.fe]=c,n.ae[--n.fe]=f,s[2*a]=s[2*c]+s[2*f],n.le[a]=r.max(n.le[c],n.le[f])+1,s[2*c+1]=s[2*f+1]=a,n.ae[1]=a++,n.de(s,1)}while(n.ce>=2);n.ae[--n.fe]=n.ae[1],(t=>{const n=e.re,r=e.ie.se,s=e.ie.pe,i=e.ie.ye,o=e.ie.me;let c,f,a,l,u,w,h=0;for(l=0;15>=l;l++)t.be[l]=0;for(n[2*t.ae[t.fe]+1]=0,c=t.fe+1;573>c;c++)f=t.ae[c],l=n[2*n[2*f+1]+1]+1,l>o&&(l=o,h++),n[2*f+1]=l,f>e.he||(t.be[l]++,u=0,i>f||(u=s[f-i]),w=n[2*f],t.ue+=w*(l+u),r&&(t.we+=w*(r[2*f+1]+u)));if(0!==h){do{for(l=o-1;0===t.be[l];)l--;t.be[l]--,t.be[l+1]+=2,t.be[o]--,h-=2}while(h>0);for(l=o;0!==l;l--)for(f=t.be[l];0!==f;)a=t.ae[--c],a>e.he||(n[2*a+1]!=l&&(t.ue+=(l-n[2*a+1])*n[2*a],n[2*a+1]=l),f--)}})(n),((e,n,r)=>{const s=[];let i,o,c,f=0;for(i=1;15>=i;i++)s[i]=f=f+r[i-1]<<1;for(o=0;n>=o;o++)c=e[2*o+1],0!==c&&(e[2*o]=t(s[c]++,c))})(s,e.he,n.be)}}function Ke(e,t,n,r,s){const i=this;i.se=e,i.pe=t,i.ye=n,i.oe=r,i.me=s}Ue.ge=[0,1,2,3,4,5,6,7].concat(...Be([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]])),Ue.ke=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],Ue.ve=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],Ue.Se=e=>256>e?Me[e]:Me[256+(e>>>7)],Ue.ze=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ue.Ce=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ue.xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ue._e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];const Ne=Be([[144,8],[112,9],[24,7],[8,8]]);Ke.Ae=Ee([12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227].map(((e,t)=>[e,Ne[t]])));const Oe=Be([[30,5]]);function Te(e,t,n,r,s){const i=this;i.Ie=e,i.De=t,i.Ve=n,i.Pe=r,i.Re=s}Ke.Be=Ee([0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23].map(((e,t)=>[e,Oe[t]]))),Ke.Ee=new Ke(Ke.Ae,Ue.ze,257,286,15),Ke.Me=new Ke(Ke.Be,Ue.Ce,0,30,15),Ke.Ue=new Ke(null,Ue.xe,0,19,7);const We=[new Te(0,0,0,0,0),new Te(4,4,8,4,1),new Te(4,5,16,8,1),new Te(4,6,32,32,1),new Te(4,4,16,16,2),new Te(8,16,32,32,2),new Te(8,16,128,128,2),new Te(8,32,128,256,2),new Te(32,128,258,1024,2),new Te(32,258,258,4096,2)],je=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],He=113,Le=666,Fe=262;function qe(e,t,n,r){const s=e[2*t],i=e[2*n];return i>s||s==i&&r[t]<=r[n]}function Ge(){const e=this;let t,n,s,c,f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z,C,x,_,A,I,D,V,P,R,B,E,M,U;const K=new Ue,N=new Ue,O=new Ue;let T,W,j,H,L,F;function q(){let t;for(t=0;286>t;t++)E[2*t]=0;for(t=0;30>t;t++)M[2*t]=0;for(t=0;19>t;t++)U[2*t]=0;E[512]=1,e.ue=e.we=0,W=j=0}function G(e,t){let n,r=-1,s=e[1],i=0,o=7,c=4;0===s&&(o=138,c=3),e[2*(t+1)+1]=65535;for(let f=0;t>=f;f++)n=s,s=e[2*(f+1)+1],++i<o&&n==s||(c>i?U[2*n]+=i:0!==n?(n!=r&&U[2*n]++,U[32]++):i>10?U[36]++:U[34]++,i=0,r=n,0===s?(o=138,c=3):n==s?(o=6,c=3):(o=7,c=4))}function J(t){e.Ke[e.pending++]=t}function Q(e){J(255&e),J(e>>>8&255)}function X(e,t){let n;const r=t;F>16-r?(n=e,L|=n<<F&65535,Q(L),L=n>>>16-F,F+=r-16):(L|=e<<F&65535,F+=r)}function Y(e,t){const n=2*e;X(65535&t[n],65535&t[n+1])}function Z(e,t){let n,r,s=-1,i=e[1],o=0,c=7,f=4;for(0===i&&(c=138,f=3),n=0;t>=n;n++)if(r=i,i=e[2*(n+1)+1],++o>=c||r!=i){if(f>o)do{Y(r,U)}while(0!=--o);else 0!==r?(r!=s&&(Y(r,U),o--),Y(16,U),X(o-3,2)):o>10?(Y(18,U),X(o-11,7)):(Y(17,U),X(o-3,3));o=0,s=r,0===i?(c=138,f=3):r==i?(c=6,f=3):(c=7,f=4)}}function $(){16==F?(Q(L),L=0,F=0):8>F||(J(255&L),L>>>=8,F-=8)}function ee(t,n){let s,i,o;if(e.Ne[W]=t,e.Oe[W]=255&n,W++,0===t?E[2*n]++:(j++,t--,E[2*(Ue.ge[n]+256+1)]++,M[2*Ue.Se(t)]++),0==(8191&W)&&V>2){for(s=8*W,i=C-k,o=0;30>o;o++)s+=M[2*o]*(5+Ue.Ce[o]);if(s>>>=3,j<r.floor(W/2)&&s<r.floor(i/2))return!0}return W==T-1}function te(t,n){let r,s,i,o,c=0;if(0!==W)do{r=e.Ne[c],s=e.Oe[c],c++,0===r?Y(s,t):(i=Ue.ge[s],Y(i+256+1,t),o=Ue.ze[i],0!==o&&(s-=Ue.ke[i],X(s,o)),r--,i=Ue.Se(r),Y(i,n),o=Ue.Ce[i],0!==o&&(r-=Ue.ve[i],X(r,o)))}while(W>c);Y(256,t),H=t[513]}function ne(){F>8?Q(L):F>0&&J(255&L),L=0,F=0}function re(t,n,r){X(0+(r?1:0),3),((t,n)=>{ne(),H=8,Q(n),Q(~n),e.Ke.set(u.subarray(t,t+n),e.pending),e.pending+=n})(t,n)}function se(n){((t,n,r)=>{let s,i,o=0;V>0?(K.ne(e),N.ne(e),o=(()=>{let t;for(G(E,K.he),G(M,N.he),O.ne(e),t=18;t>=3&&0===U[2*Ue._e[t]+1];t--);return e.ue+=14+3*(t+1),t})(),s=e.ue+3+7>>>3,i=e.we+3+7>>>3,i>s||(s=i)):s=i=n+5,n+4>s||-1==t?i==s?(X(2+(r?1:0),3),te(Ke.Ae,Ke.Be)):(X(4+(r?1:0),3),((e,t,n)=>{let r;for(X(e-257,5),X(t-1,5),X(n-4,4),r=0;n>r;r++)X(U[2*Ue._e[r]+1],3);Z(E,e-1),Z(M,t-1)})(K.he+1,N.he+1,o+1),te(E,M)):re(t,n,r),q(),r&&ne()})(0>k?-1:k,C-k,n),k=C,t.Te()}function ie(){let e,n,r,s;do{if(s=w-_-C,0===s&&0===C&&0===_)s=f;else if(-1==s)s--;else if(C>=f+f-Fe){u.set(u.subarray(f,f+f),0),x-=f,C-=f,k-=f,e=y,r=e;do{n=65535&d[--r],d[r]=f>n?0:n-f}while(0!=--e);e=f,r=e;do{n=65535&h[--r],h[r]=f>n?0:n-f}while(0!=--e);s+=f}if(0===t.We)return;e=t.je(u,C+_,s),_+=e,3>_||(p=255&u[C],p=(p<<g^255&u[C+1])&b)}while(Fe>_&&0!==t.We)}function oe(e){let t,n,r=I,s=C,i=A;const o=C>f-Fe?C-(f-Fe):0;let c=B;const a=l,w=C+258;let d=u[s+i-1],p=u[s+i];R>A||(r>>=2),c>_&&(c=_);do{if(t=e,u[t+i]==p&&u[t+i-1]==d&&u[t]==u[s]&&u[++t]==u[s+1]){s+=2,t++;do{}while(u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&w>s);if(n=258-(w-s),s=w-258,n>i){if(x=e,i=n,n>=c)break;d=u[s+i-1],p=u[s+i]}}}while((e=65535&h[e&a])>o&&0!=--r);return i>_?_:i}e.le=[],e.be=[],e.ae=[],E=[],M=[],U=[],e.de=(t,n)=>{const r=e.ae,s=r[n];let i=n<<1;for(;i<=e.ce&&(i<e.ce&&qe(t,r[i+1],r[i],e.le)&&i++,!qe(t,s,r[i],e.le));)r[n]=r[i],n=i,i<<=1;r[n]=s},e.He=(t,S,x,W,j,G)=>(W||(W=8),j||(j=8),G||(G=0),t.Le=null,-1==S&&(S=6),1>j||j>9||8!=W||9>x||x>15||0>S||S>9||0>G||G>2?Re:(t.Fe=e,a=x,f=1<<a,l=f-1,m=j+7,y=1<<m,b=y-1,g=r.floor((m+3-1)/3),u=new i(2*f),h=[],d=[],T=1<<j+6,e.Ke=new i(4*T),s=4*T,e.Ne=new o(T),e.Oe=new i(T),V=S,P=G,(t=>(t.qe=t.Ge=0,t.Le=null,e.pending=0,e.Je=0,n=He,c=0,K.re=E,K.ie=Ke.Ee,N.re=M,N.ie=Ke.Me,O.re=U,O.ie=Ke.Ue,L=0,F=0,H=8,q(),(()=>{w=2*f,d[y-1]=0;for(let e=0;y-1>e;e++)d[e]=0;D=We[V].De,R=We[V].Ie,B=We[V].Ve,I=We[V].Pe,C=0,k=0,_=0,v=A=2,z=0,p=0})(),0))(t))),e.Qe=()=>42!=n&&n!=He&&n!=Le?Re:(e.Oe=null,e.Ne=null,e.Ke=null,d=null,h=null,u=null,e.Fe=null,n==He?-3:0),e.Xe=(e,t,n)=>{let r=0;return-1==t&&(t=6),0>t||t>9||0>n||n>2?Re:(We[V].Re!=We[t].Re&&0!==e.qe&&(r=e.Ye(1)),V!=t&&(V=t,D=We[V].De,R=We[V].Ie,B=We[V].Ve,I=We[V].Pe),P=n,r)},e.Ze=(e,t,r)=>{let s,i=r,o=0;if(!t||42!=n)return Re;if(3>i)return 0;for(i>f-Fe&&(i=f-Fe,o=r-i),u.set(t.subarray(o,o+i),0),C=i,k=i,p=255&u[0],p=(p<<g^255&u[1])&b,s=0;i-3>=s;s++)p=(p<<g^255&u[s+2])&b,h[s&l]=d[p],d[p]=s;return 0},e.Ye=(r,i)=>{let o,w,m,I,R;if(i>4||0>i)return Re;if(!r.$e||!r.et&&0!==r.We||n==Le&&4!=i)return r.Le=je[4],Re;if(0===r.tt)return r.Le=je[7],-5;var B;if(t=r,I=c,c=i,42==n&&(w=8+(a-8<<4)<<8,m=(V-1&255)>>1,m>3&&(m=3),w|=m<<6,0!==C&&(w|=32),w+=31-w%31,n=He,J((B=w)>>8&255),J(255&B)),0!==e.pending){if(t.Te(),0===t.tt)return c=-1,0}else if(0===t.We&&I>=i&&4!=i)return t.Le=je[7],-5;if(n==Le&&0!==t.We)return r.Le=je[7],-5;if(0!==t.We||0!==_||0!=i&&n!=Le){switch(R=-1,We[V].Re){case 0:R=(e=>{let n,r=65535;for(r>s-5&&(r=s-5);;){if(1>=_){if(ie(),0===_&&0==e)return 0;if(0===_)break}if(C+=_,_=0,n=k+r,(0===C||C>=n)&&(_=C-n,C=n,se(!1),0===t.tt))return 0;if(C-k>=f-Fe&&(se(!1),0===t.tt))return 0}return se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i);break;case 1:R=(e=>{let n,r=0;for(;;){if(Fe>_){if(ie(),Fe>_&&0==e)return 0;if(0===_)break}if(3>_||(p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C),0===r||(C-r&65535)>f-Fe||2!=P&&(v=oe(r)),3>v)n=ee(0,255&u[C]),_--,C++;else if(n=ee(C-x,v-3),_-=v,v>D||3>_)C+=v,v=0,p=255&u[C],p=(p<<g^255&u[C+1])&b;else{v--;do{C++,p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C}while(0!=--v);C++}if(n&&(se(!1),0===t.tt))return 0}return se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i);break;case 2:R=(e=>{let n,r,s=0;for(;;){if(Fe>_){if(ie(),Fe>_&&0==e)return 0;if(0===_)break}if(3>_||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C),A=v,S=x,v=2,0!==s&&D>A&&f-Fe>=(C-s&65535)&&(2!=P&&(v=oe(s)),5>=v&&(1==P||3==v&&C-x>4096)&&(v=2)),3>A||v>A)if(0!==z){if(n=ee(0,255&u[C-1]),n&&se(!1),C++,_--,0===t.tt)return 0}else z=1,C++,_--;else{r=C+_-3,n=ee(C-1-S,A-3),_-=A-1,A-=2;do{++C>r||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C)}while(0!=--A);if(z=0,v=2,C++,n&&(se(!1),0===t.tt))return 0}}return 0!==z&&(n=ee(0,255&u[C-1]),z=0),se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i)}if(2!=R&&3!=R||(n=Le),0==R||2==R)return 0===t.tt&&(c=-1),0;if(1==R){if(1==i)X(2,3),Y(256,Ke.Ae),$(),9>1+H+10-F&&(X(2,3),Y(256,Ke.Ae),$()),H=7;else if(re(0,0,!1),3==i)for(o=0;y>o;o++)d[o]=0;if(t.Te(),0===t.tt)return c=-1,0}}return 4!=i?0:1}}function Je(){const e=this;e.nt=0,e.rt=0,e.We=0,e.qe=0,e.tt=0,e.Ge=0}function Qe(e){const t=new Je,n=(o=e&&e.chunkSize?e.chunkSize:65536)+5*(r.floor(o/16383)+1);var o;const c=new i(n);let f=e?e.level:-1;void 0===f&&(f=-1),t.He(f),t.$e=c,this.append=(e,r)=>{let o,f,a=0,l=0,u=0;const w=[];if(e.length){t.nt=0,t.et=e,t.We=e.length;do{if(t.rt=0,t.tt=n,o=t.Ye(0),0!=o)throw new s("deflating: "+t.Le);t.rt&&(t.rt==n?w.push(new i(c)):w.push(c.subarray(0,t.rt))),u+=t.rt,r&&t.nt>0&&t.nt!=a&&(r(t.nt),a=t.nt)}while(t.We>0||0===t.tt);return w.length>1?(f=new i(u),w.forEach((e=>{f.set(e,l),l+=e.length}))):f=w[0]?new i(w[0]):new i,f}},this.flush=()=>{let e,r,o=0,f=0;const a=[];do{if(t.rt=0,t.tt=n,e=t.Ye(4),1!=e&&0!=e)throw new s("deflating: "+t.Le);n-t.tt>0&&a.push(c.slice(0,t.rt)),f+=t.rt}while(t.We>0||0===t.tt);return t.Qe(),r=new i(f),a.forEach((e=>{r.set(e,o),o+=e.length})),r}}Je.prototype={He(e,t){const n=this;return n.Fe=new Ge,t||(t=15),n.Fe.He(n,e,t)},Ye(e){const t=this;return t.Fe?t.Fe.Ye(t,e):Re},Qe(){const e=this;if(!e.Fe)return Re;const t=e.Fe.Qe();return e.Fe=null,t},Xe(e,t){const n=this;return n.Fe?n.Fe.Xe(n,e,t):Re},Ze(e,t){const n=this;return n.Fe?n.Fe.Ze(n,e,t):Re},je(e,t,n){const r=this;let s=r.We;return s>n&&(s=n),0===s?0:(r.We-=s,e.set(r.et.subarray(r.nt,r.nt+s),t),r.nt+=s,r.qe+=s,s)},Te(){const e=this;let t=e.Fe.pending;t>e.tt&&(t=e.tt),0!==t&&(e.$e.set(e.Fe.Ke.subarray(e.Fe.Je,e.Fe.Je+t),e.rt),e.rt+=t,e.Fe.Je+=t,e.Ge+=t,e.tt-=t,e.Fe.pending-=t,0===e.Fe.pending&&(e.Fe.Je=0))}};const Xe=-2,Ye=-3,Ze=-5,$e=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],et=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],tt=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],nt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],rt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],st=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],it=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];function ot(){let e,t,n,r,s,i;function o(e,t,o,c,f,a,l,u,w,h,d){let p,y,m,b,g,k,v,S,z,C,x,_,A,I,D;C=0,g=o;do{n[e[t+C]]++,C++,g--}while(0!==g);if(n[0]==o)return l[0]=-1,u[0]=0,0;for(S=u[0],k=1;15>=k&&0===n[k];k++);for(v=k,k>S&&(S=k),g=15;0!==g&&0===n[g];g--);for(m=g,S>g&&(S=g),u[0]=S,I=1<<k;g>k;k++,I<<=1)if(0>(I-=n[k]))return Ye;if(0>(I-=n[g]))return Ye;for(n[g]+=I,i[1]=k=0,C=1,A=2;0!=--g;)i[A]=k+=n[C],A++,C++;g=0,C=0;do{0!==(k=e[t+C])&&(d[i[k]++]=g),C++}while(++g<o);for(o=i[m],i[0]=g=0,C=0,b=-1,_=-S,s[0]=0,x=0,D=0;m>=v;v++)for(p=n[v];0!=p--;){for(;v>_+S;){if(b++,_+=S,D=m-_,D=D>S?S:D,(y=1<<(k=v-_))>p+1&&(y-=p+1,A=v,D>k))for(;++k<D&&(y<<=1)>n[++A];)y-=n[A];if(D=1<<k,h[0]+D>1440)return Ye;s[b]=x=h[0],h[0]+=D,0!==b?(i[b]=g,r[0]=k,r[1]=S,k=g>>>_-S,r[2]=x-s[b-1]-k,w.set(r,3*(s[b-1]+k))):l[0]=x}for(r[1]=v-_,o>C?d[C]<c?(r[0]=256>d[C]?0:96,r[2]=d[C++]):(r[0]=a[d[C]-c]+16+64,r[2]=f[d[C++]-c]):r[0]=192,y=1<<v-_,k=g>>>_;D>k;k+=y)w.set(r,3*(x+k));for(k=1<<v-1;0!=(g&k);k>>>=1)g^=k;for(g^=k,z=(1<<_)-1;(g&z)!=i[b];)b--,_-=S,z=(1<<_)-1}return 0!==I&&1!=m?Ze:0}function c(o){let c;for(e||(e=[],t=[],n=new f(16),r=[],s=new f(15),i=new f(16)),t.length<o&&(t=[]),c=0;o>c;c++)t[c]=0;for(c=0;16>c;c++)n[c]=0;for(c=0;3>c;c++)r[c]=0;s.set(n.subarray(0,15),0),i.set(n.subarray(0,16),0)}this.st=(n,r,s,i,f)=>{let a;return c(19),e[0]=0,a=o(n,0,19,19,null,null,s,r,i,e,t),a==Ye?f.Le="oversubscribed dynamic bit lengths tree":a!=Ze&&0!==r[0]||(f.Le="incomplete dynamic bit lengths tree",a=Ye),a},this.it=(n,r,s,i,f,a,l,u,w)=>{let h;return c(288),e[0]=0,h=o(s,0,n,257,nt,rt,a,i,u,e,t),0!=h||0===i[0]?(h==Ye?w.Le="oversubscribed literal/length tree":-4!=h&&(w.Le="incomplete literal/length tree",h=Ye),h):(c(288),h=o(s,n,r,0,st,it,l,f,u,e,t),0!=h||0===f[0]&&n>257?(h==Ye?w.Le="oversubscribed distance tree":h==Ze?(w.Le="incomplete distance tree",h=Ye):-4!=h&&(w.Le="empty distance tree with lengths",h=Ye),h):0)}}function ct(){const e=this;let t,n,r,s,i=0,o=0,c=0,f=0,a=0,l=0,u=0,w=0,h=0,d=0;function p(e,t,n,r,s,i,o,c){let f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z;d=c.nt,p=c.We,w=o.ot,h=o.ct,y=o.write,m=y<o.read?o.read-y-1:o.end-y,b=$e[e],g=$e[t];do{for(;20>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;if(f=w&b,a=n,l=r,z=3*(l+f),0!==(u=a[z]))for(;;){if(w>>=a[z+1],h-=a[z+1],0!=(16&u)){for(u&=15,k=a[z+2]+(w&$e[u]),w>>=u,h-=u;15>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;for(f=w&g,a=s,l=i,z=3*(l+f),u=a[z];;){if(w>>=a[z+1],h-=a[z+1],0!=(16&u)){for(u&=15;u>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;if(v=a[z+2]+(w&$e[u]),w>>=u,h-=u,m-=k,v>y){S=y-v;do{S+=o.end}while(0>S);if(u=o.end-S,k>u){if(k-=u,y-S>0&&u>y-S)do{o.lt[y++]=o.lt[S++]}while(0!=--u);else o.lt.set(o.lt.subarray(S,S+u),y),y+=u,S+=u,u=0;S=0}}else S=y-v,y-S>0&&2>y-S?(o.lt[y++]=o.lt[S++],o.lt[y++]=o.lt[S++],k-=2):(o.lt.set(o.lt.subarray(S,S+2),y),y+=2,S+=2,k-=2);if(y-S>0&&k>y-S)do{o.lt[y++]=o.lt[S++]}while(0!=--k);else o.lt.set(o.lt.subarray(S,S+k),y),y+=k,S+=k,k=0;break}if(0!=(64&u))return c.Le="invalid distance code",k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,Ye;f+=a[z+2],f+=w&$e[u],z=3*(l+f),u=a[z]}break}if(0!=(64&u))return 0!=(32&u)?(k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,1):(c.Le="invalid literal/length code",k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,Ye);if(f+=a[z+2],f+=w&$e[u],z=3*(l+f),0===(u=a[z])){w>>=a[z+1],h-=a[z+1],o.lt[y++]=a[z+2],m--;break}}else w>>=a[z+1],h-=a[z+1],o.lt[y++]=a[z+2],m--}while(m>=258&&p>=10);return k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,0}e.init=(e,i,o,c,f,a)=>{t=0,u=e,w=i,r=o,h=c,s=f,d=a,n=null},e.ut=(e,y,m)=>{let b,g,k,v,S,z,C,x=0,_=0,A=0;for(A=y.nt,v=y.We,x=e.ot,_=e.ct,S=e.write,z=S<e.read?e.read-S-1:e.end-S;;)switch(t){case 0:if(z>=258&&v>=10&&(e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,m=p(u,w,r,h,s,d,e,y),A=y.nt,v=y.We,x=e.ot,_=e.ct,S=e.write,z=S<e.read?e.read-S-1:e.end-S,0!=m)){t=1==m?7:9;break}c=u,n=r,o=h,t=1;case 1:for(b=c;b>_;){if(0===v)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(A++))<<_,_+=8}if(g=3*(o+(x&$e[b])),x>>>=n[g+1],_-=n[g+1],k=n[g],0===k){f=n[g+2],t=6;break}if(0!=(16&k)){a=15&k,i=n[g+2],t=2;break}if(0==(64&k)){c=k,o=g/3+n[g+2];break}if(0!=(32&k)){t=7;break}return t=9,y.Le="invalid literal/length code",m=Ye,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);case 2:for(b=a;b>_;){if(0===v)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(A++))<<_,_+=8}i+=x&$e[b],x>>=b,_-=b,c=w,n=s,o=d,t=3;case 3:for(b=c;b>_;){if(0===v)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(A++))<<_,_+=8}if(g=3*(o+(x&$e[b])),x>>=n[g+1],_-=n[g+1],k=n[g],0!=(16&k)){a=15&k,l=n[g+2],t=4;break}if(0==(64&k)){c=k,o=g/3+n[g+2];break}return t=9,y.Le="invalid distance code",m=Ye,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);case 4:for(b=a;b>_;){if(0===v)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(A++))<<_,_+=8}l+=x&$e[b],x>>=b,_-=b,t=5;case 5:for(C=S-l;0>C;)C+=e.end;for(;0!==i;){if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);e.lt[S++]=e.lt[C++],z--,C==e.end&&(C=0),i--}t=0;break;case 6:if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,e.lt[S++]=f,z--,t=0;break;case 7:if(_>7&&(_-=8,v++,A--),e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,e.read!=e.write)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);t=8;case 8:return m=1,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);case 9:return m=Ye,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);default:return m=Xe,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m)}},e.ht=()=>{}}ot.dt=(e,t,n,r)=>(e[0]=9,t[0]=5,n[0]=et,r[0]=tt,0);const ft=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function at(e,t){const n=this;let r,s=0,o=0,c=0,a=0;const l=[0],u=[0],w=new ct;let h=0,d=new f(4320);const p=new ot;n.ct=0,n.ot=0,n.lt=new i(t),n.end=t,n.read=0,n.write=0,n.reset=(e,t)=>{t&&(t[0]=0),6==s&&w.ht(e),s=0,n.ct=0,n.ot=0,n.read=n.write=0},n.reset(e,null),n.wt=(e,t)=>{let r,s,i;return s=e.rt,i=n.read,r=(i>n.write?n.end:n.write)-i,r>e.tt&&(r=e.tt),0!==r&&t==Ze&&(t=0),e.tt-=r,e.Ge+=r,e.$e.set(n.lt.subarray(i,i+r),s),s+=r,i+=r,i==n.end&&(i=0,n.write==n.end&&(n.write=0),r=n.write-i,r>e.tt&&(r=e.tt),0!==r&&t==Ze&&(t=0),e.tt-=r,e.Ge+=r,e.$e.set(n.lt.subarray(i,i+r),s),s+=r,i+=r),e.rt=s,n.read=i,t},n.ut=(e,t)=>{let i,f,y,m,b,g,k,v;for(m=e.nt,b=e.We,f=n.ot,y=n.ct,g=n.write,k=g<n.read?n.read-g-1:n.end-g;;){let S,z,C,x,_,A,I,D;switch(s){case 0:for(;3>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}switch(i=7&f,h=1&i,i>>>1){case 0:f>>>=3,y-=3,i=7&y,f>>>=i,y-=i,s=1;break;case 1:S=[],z=[],C=[[]],x=[[]],ot.dt(S,z,C,x),w.init(S[0],z[0],C[0],0,x[0],0),f>>>=3,y-=3,s=6;break;case 2:f>>>=3,y-=3,s=3;break;case 3:return f>>>=3,y-=3,s=9,e.Le="invalid block type",t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t)}break;case 1:for(;32>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if((~f>>>16&65535)!=(65535&f))return s=9,e.Le="invalid stored block lengths",t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);o=65535&f,f=y=0,s=0!==o?2:0!==h?7:0;break;case 2:if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(0===k&&(g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k&&(n.write=g,t=n.wt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k)))return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(t=0,i=o,i>b&&(i=b),i>k&&(i=k),n.lt.set(e.je(m,i),g),m+=i,b-=i,g+=i,k-=i,0!=(o-=i))break;s=0!==h?7:0;break;case 3:for(;14>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(c=i=16383&f,(31&i)>29||(i>>5&31)>29)return s=9,e.Le="too many length or distance symbols",t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(i=258+(31&i)+(i>>5&31),!r||r.length<i)r=[];else for(v=0;i>v;v++)r[v]=0;f>>>=14,y-=14,a=0,s=4;case 4:for(;4+(c>>>10)>a;){for(;3>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}r[ft[a++]]=7&f,f>>>=3,y-=3}for(;19>a;)r[ft[a++]]=0;if(l[0]=7,i=p.st(r,l,u,d,e),0!=i)return(t=i)==Ye&&(r=null,s=9),n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);a=0,s=5;case 5:for(;i=c,258+(31&i)+(i>>5&31)>a;){let o,w;for(i=l[0];i>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(i=d[3*(u[0]+(f&$e[i]))+1],w=d[3*(u[0]+(f&$e[i]))+2],16>w)f>>>=i,y-=i,r[a++]=w;else{for(v=18==w?7:w-14,o=18==w?11:3;i+v>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(f>>>=i,y-=i,o+=f&$e[v],f>>>=v,y-=v,v=a,i=c,v+o>258+(31&i)+(i>>5&31)||16==w&&1>v)return r=null,s=9,e.Le="invalid bit length repeat",t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);w=16==w?r[v-1]:0;do{r[v++]=w}while(0!=--o);a=v}}if(u[0]=-1,_=[],A=[],I=[],D=[],_[0]=9,A[0]=6,i=c,i=p.it(257+(31&i),1+(i>>5&31),r,_,A,I,D,d,e),0!=i)return i==Ye&&(r=null,s=9),t=i,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);w.init(_[0],A[0],d,I[0],d,D[0]),s=6;case 6:if(n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,1!=(t=w.ut(n,e,t)))return n.wt(e,t);if(t=0,w.ht(e),m=e.nt,b=e.We,f=n.ot,y=n.ct,g=n.write,k=g<n.read?n.read-g-1:n.end-g,0===h){s=0;break}s=7;case 7:if(n.write=g,t=n.wt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,n.read!=n.write)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);s=8;case 8:return t=1,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);case 9:return t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);default:return t=Xe,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t)}}},n.ht=e=>{n.reset(e,null),n.lt=null,d=null},n.yt=(e,t,r)=>{n.lt.set(e.subarray(t,t+r),0),n.read=n.write=r},n.bt=()=>1==s?1:0}const lt=13,ut=[0,0,255,255];function wt(){const e=this;function t(e){return e&&e.gt?(e.qe=e.Ge=0,e.Le=null,e.gt.mode=7,e.gt.kt.reset(e,null),0):Xe}e.mode=0,e.method=0,e.vt=[0],e.St=0,e.marker=0,e.zt=0,e.Ct=t=>(e.kt&&e.kt.ht(t),e.kt=null,0),e.xt=(n,r)=>(n.Le=null,e.kt=null,8>r||r>15?(e.Ct(n),Xe):(e.zt=r,n.gt.kt=new at(n,1<<r),t(n),0)),e._t=(e,t)=>{let n,r;if(!e||!e.gt||!e.et)return Xe;const s=e.gt;for(t=4==t?Ze:0,n=Ze;;)switch(s.mode){case 0:if(0===e.We)return n;if(n=t,e.We--,e.qe++,8!=(15&(s.method=e.ft(e.nt++)))){s.mode=lt,e.Le="unknown compression method",s.marker=5;break}if(8+(s.method>>4)>s.zt){s.mode=lt,e.Le="invalid win size",s.marker=5;break}s.mode=1;case 1:if(0===e.We)return n;if(n=t,e.We--,e.qe++,r=255&e.ft(e.nt++),((s.method<<8)+r)%31!=0){s.mode=lt,e.Le="incorrect header check",s.marker=5;break}if(0==(32&r)){s.mode=7;break}s.mode=2;case 2:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St=(255&e.ft(e.nt++))<<24&4278190080,s.mode=3;case 3:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St+=(255&e.ft(e.nt++))<<16&16711680,s.mode=4;case 4:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St+=(255&e.ft(e.nt++))<<8&65280,s.mode=5;case 5:return 0===e.We?n:(n=t,e.We--,e.qe++,s.St+=255&e.ft(e.nt++),s.mode=6,2);case 6:return s.mode=lt,e.Le="need dictionary",s.marker=0,Xe;case 7:if(n=s.kt.ut(e,n),n==Ye){s.mode=lt,s.marker=0;break}if(0==n&&(n=t),1!=n)return n;n=t,s.kt.reset(e,s.vt),s.mode=12;case 12:return e.We=0,1;case lt:return Ye;default:return Xe}},e.At=(e,t,n)=>{let r=0,s=n;if(!e||!e.gt||6!=e.gt.mode)return Xe;const i=e.gt;return s<1<<i.zt||(s=(1<<i.zt)-1,r=n-s),i.kt.yt(t,r,s),i.mode=7,0},e.It=e=>{let n,r,s,i,o;if(!e||!e.gt)return Xe;const c=e.gt;if(c.mode!=lt&&(c.mode=lt,c.marker=0),0===(n=e.We))return Ze;for(r=e.nt,s=c.marker;0!==n&&4>s;)e.ft(r)==ut[s]?s++:s=0!==e.ft(r)?0:4-s,r++,n--;return e.qe+=r-e.nt,e.nt=r,e.We=n,c.marker=s,4!=s?Ye:(i=e.qe,o=e.Ge,t(e),e.qe=i,e.Ge=o,c.mode=7,0)},e.Dt=e=>e&&e.gt&&e.gt.kt?e.gt.kt.bt():Xe}function ht(){}function dt(e){const t=new ht,n=e&&e.chunkSize?r.floor(2*e.chunkSize):131072,o=new i(n);let c=!1;t.xt(),t.$e=o,this.append=(e,r)=>{const f=[];let a,l,u=0,w=0,h=0;if(0!==e.length){t.nt=0,t.et=e,t.We=e.length;do{if(t.rt=0,t.tt=n,0!==t.We||c||(t.nt=0,c=!0),a=t._t(0),c&&a===Ze){if(0!==t.We)throw new s("inflating: bad input")}else if(0!==a&&1!==a)throw new s("inflating: "+t.Le);if((c||1===a)&&t.We===e.length)throw new s("inflating: bad input");t.rt&&(t.rt===n?f.push(new i(o)):f.push(o.subarray(0,t.rt))),h+=t.rt,r&&t.nt>0&&t.nt!=u&&(r(t.nt),u=t.nt)}while(t.We>0||0===t.tt);return f.length>1?(l=new i(h),f.forEach((e=>{l.set(e,w),w+=e.length}))):l=f[0]?new i(f[0]):new i,l}},this.flush=()=>{t.Ct()}}ht.prototype={xt(e){const t=this;return t.gt=new wt,e||(e=15),t.gt.xt(t,e)},_t(e){const t=this;return t.gt?t.gt._t(t,e):Xe},Ct(){const e=this;if(!e.gt)return Xe;const t=e.gt.Ct(e);return e.gt=null,t},It(){const e=this;return e.gt?e.gt.It(e):Xe},At(e,t){const n=this;return n.gt?n.gt.At(n,e,t):Xe},ft(e){return this.et[e]},je(e,t){return this.et.subarray(e,e+t)}},self.initCodec=()=>{self.Deflate=Qe,self.Inflate=dt};
`],{type:"text/javascript"}));e({workerScripts:{inflate:[t],deflate:[t]}})}const FW="Writer iterator completed too soon",UW="Content-Type",BW=64*1024,$$="writable";class qm{constructor(){this.size=0}init(){this.initialized=!0}}class S$ extends qm{get readable(){const t=this,{chunkSize:n=BW}=t,r=new ReadableStream({start(){this.chunkOffset=0},async pull(i){const{offset:s=0,size:o,diskNumberStart:a}=r,{chunkOffset:c}=this;i.enqueue(await Ot(t,s+c,Math.min(n,o-c),a)),c+n>o?i.close():this.chunkOffset+=n}});return r}}class I$ extends S${constructor(t){super(),Object.assign(this,{blob:t,size:t.size})}async readUint8Array(t,n){const r=this,i=t+n;let o=await(t||i<r.size?r.blob.slice(t,i):r.blob).arrayBuffer();return o.byteLength>n&&(o=o.slice(t,i)),new Uint8Array(o)}}class T$ extends qm{constructor(t){super();const n=this,r=new TransformStream,i=[];t&&i.push([UW,t]),Object.defineProperty(n,$$,{get(){return r.writable}}),n.blob=new Response(r.readable,{headers:i}).blob()}getData(){return this.blob}}class zW extends T${constructor(t){super(t),Object.assign(this,{encoding:t,utf8:!t||t.toLowerCase()=="utf-8"})}async getData(){const{encoding:t,utf8:n}=this,r=await super.getData();if(r.text&&n)return r.text();{const i=new FileReader;return new Promise((s,o)=>{Object.assign(i,{onload:({target:a})=>s(a.result),onerror:()=>o(i.error)}),i.readAsText(r,t)})}}}class qW extends S${constructor(t){super(),this.readers=t}async init(){const t=this,{readers:n}=t;t.lastDiskNumber=0,t.lastDiskOffset=0,await Promise.all(n.map(async(r,i)=>{await r.init(),i!=n.length-1&&(t.lastDiskOffset+=r.size),t.size+=r.size})),super.init()}async readUint8Array(t,n,r=0){const i=this,{readers:s}=this;let o,a=r;a==-1&&(a=s.length-1);let c=t;for(;c>=s[a].size;)c-=s[a].size,a++;const l=s[a],u=l.size;if(c+n<=u)o=await Ot(l,c,n);else{const d=u-c;o=new Uint8Array(n),o.set(await Ot(l,c,d)),o.set(await i.readUint8Array(t+d,n-d,r),d)}return i.lastDiskNumber=Math.max(a,i.lastDiskNumber),o}}class qv extends qm{constructor(t,n=4294967295){super();const r=this;Object.assign(r,{diskNumber:0,diskOffset:0,size:0,maxSize:n,availableSize:n});let i,s,o;const a=new WritableStream({async write(u){const{availableSize:d}=r;if(o)u.length>=d?(await c(u.slice(0,d)),await l(),r.diskOffset+=i.size,r.diskNumber++,o=null,await this.write(u.slice(d))):await c(u);else{const{value:f,done:p}=await t.next();if(p&&!f)throw new Error(FW);i=f,i.size=0,i.maxSize&&(r.maxSize=i.maxSize),r.availableSize=r.maxSize,await cl(i),s=f.writable,o=s.getWriter(),await this.write(u)}},async close(){await o.ready,await l()}});Object.defineProperty(r,$$,{get(){return a}});async function c(u){const d=u.length;d&&(await o.ready,await o.write(u),i.size+=d,r.size+=d,r.availableSize-=d)}async function l(){s.size=i.size,await o.close()}}}async function cl(e,t){e.init&&!e.initialized&&await e.init(t)}function WW(e){return Array.isArray(e)&&(e=new qW(e)),e instanceof ReadableStream&&(e={readable:e}),e}function jW(e){e.writable===Dn&&typeof e.next==e$&&(e=new qv(e)),e instanceof WritableStream&&(e={writable:e});const{writable:t}=e;return t.size===Dn&&(t.size=0),e instanceof qv||Object.assign(e,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),e}function Ot(e,t,n,r){return e.readUint8Array(t,n,r)}const x$="\0â˜ºâ˜»â™¥â™¦â™£â™ â€¢â—˜â—‹â—™â™‚â™€â™ªâ™«â˜¼â–ºâ—„â†•â€¼Â¶Â§â–¬â†¨â†‘â†“â†’â†âˆŸâ†”â–²â–¼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~âŒ‚Ã‡Ã¼Ã©Ã¢Ã¤Ã Ã¥Ã§ÃªÃ«Ã¨Ã¯Ã®Ã¬Ã„Ã…Ã‰Ã¦Ã†Ã´Ã¶Ã²Ã»Ã¹Ã¿Ã–ÃœÂ¢Â£Â¥â‚§Æ’Ã¡Ã­Ã³ÃºÃ±Ã‘ÂªÂºÂ¿âŒÂ¬Â½Â¼Â¡Â«Â»â–‘â–’â–“â”‚â”¤â•¡â•¢â•–â••â•£â•‘â•—â•â•œâ•›â”â””â”´â”¬â”œâ”€â”¼â•žâ•Ÿâ•šâ•”â•©â•¦â• â•â•¬â•§â•¨â•¤â•¥â•™â•˜â•’â•“â•«â•ªâ”˜â”Œâ–ˆâ–„â–Œâ–â–€Î±ÃŸÎ“Ï€Î£ÏƒÂµÏ„Î¦Î˜Î©Î´âˆžÏ†Îµâˆ©â‰¡Â±â‰¥â‰¤âŒ âŒ¡Ã·â‰ˆÂ°âˆ™Â·âˆšâ¿Â²â–  ".split(""),VW=x$.length==256;function HW(e){if(VW){let t="";for(let n=0;n<e.length;n++)t+=x$[e[n]];return t}else return new TextDecoder().decode(e)}function $h(e,t){return t&&t.trim().toLowerCase()=="cp437"?HW(e):new TextDecoder(t).decode(e)}const A$="filename",R$="rawFilename",C$="comment",O$="rawComment",k$="uncompressedSize",N$="compressedSize",P$="offset",Sh="diskNumberStart",Ih="lastModDate",Th="rawLastModDate",D$="lastAccessDate",GW="rawLastAccessDate",M$="creationDate",YW="rawCreationDate",KW="internalFileAttribute",XW="externalFileAttribute",QW="msDosCompatible",ZW="zip64",JW=[A$,R$,N$,k$,Ih,Th,C$,O$,D$,M$,P$,Sh,Sh,KW,XW,QW,ZW,"directory","bitFlag","encrypted","signature","filenameUTF8","commentUTF8","compressionMethod","version","versionMadeBy","extraField","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class Wv{constructor(t){JW.forEach(n=>this[n]=t[n])}}const Kd="File format is not recognized",ej="End of central directory not found",tj="End of Zip64 central directory not found",nj="End of Zip64 central directory locator not found",rj="Central directory header not found",ij="Local file header not found",sj="Zip64 extra field not found",oj="File contains encrypted entry",aj="Encryption method not supported",jv="Compression method not supported",Vv="Split zip file",Hv="utf-8",Gv="cp437",cj=[[k$,Ti],[N$,Ti],[P$,Ti],[Sh,Pr]],lj={[Pr]:{getValue:nt,bytes:4},[Ti]:{getValue:Ec,bytes:8}};class uj{constructor(t,n={}){Object.assign(this,{reader:WW(t),options:n,config:Kq()})}async*getEntriesGenerator(t={}){const n=this;let{reader:r}=n;const{config:i}=n;if(await cl(r),(r.size===Dn||!r.readUint8Array)&&(r=new I$(await new Response(r.readable).blob()),await cl(r)),r.size<ts)throw new Error(Kd);r.chunkSize=Xq(i);const s=await _j(r,Dq,r.size,ts,Pr*16);if(!s){const C=await Ot(r,0,4),N=bt(C);throw nt(N)==Pq?new Error(Vv):new Error(ej)}const o=bt(s);let a=nt(o,12),c=nt(o,16);const l=s.offset,u=yt(o,20),d=l+ts+u;let f=yt(o,4);const p=r.lastDiskNumber||0;let g=yt(o,6),h=yt(o,8),m=0,_=0;if(c==Ti||a==Ti||h==Pr||g==Pr){const C=await Ot(r,s.offset-Wd,Wd),N=bt(C);if(nt(N,0)!=Mq)throw new Error(tj);c=Ec(N,8);let T=await Ot(r,c,jd,-1),k=bt(T);const E=s.offset-Wd-jd;if(nt(k,0)!=Iv&&c!=E){const M=c;c=E,m=c-M,T=await Ot(r,c,jd,-1),k=bt(T)}if(nt(k,0)!=Iv)throw new Error(nj);f==Pr&&(f=nt(k,16)),g==Pr&&(g=nt(k,20)),h==Pr&&(h=Ec(k,32)),a==Ti&&(a=Ec(k,40)),c-=a}if(c>=r.size&&(m=r.size-c-a-ts,c=r.size-a-ts),p!=f)throw new Error(Vv);if(c<0)throw new Error(Kd);let v=0,y=await Ot(r,c,a,g),b=bt(y);if(a){const C=s.offset-a;if(nt(b,v)!=Sv&&c!=C){const N=c;c=C,m+=c-N,y=await Ot(r,c,a,g),b=bt(y)}}const $=s.offset-c-(r.lastDiskOffset||0);if(a!=$&&$>=0&&(a=$,y=await Ot(r,c,a,g),b=bt(y)),c<0||c>=r.size)throw new Error(Kd);const S=hn(n,t,"filenameEncoding"),I=hn(n,t,"commentEncoding");for(let C=0;C<h;C++){const N=new dj(r,i,n.options);if(nt(b,v)!=Sv)throw new Error(rj);L$(N,b,v+6);const T=!!N.bitFlag.languageEncodingFlag,k=v+46,E=k+N.filenameLength,M=E+N.extraFieldLength,Y=yt(b,v+4),q=(Y&0)==0,ae=y.subarray(k,E),Z=yt(b,v+32),J=M+Z,F=y.subarray(M,J),P=T,ie=T,ce=q&&(Ss(b,v+38)&Rv)==Rv,te=nt(b,v+42)+m;Object.assign(N,{versionMadeBy:Y,msDosCompatible:q,compressedSize:0,uncompressedSize:0,commentLength:Z,directory:ce,offset:te,diskNumberStart:yt(b,v+34),internalFileAttribute:yt(b,v+36),externalFileAttribute:nt(b,v+38),rawFilename:ae,filenameUTF8:P,commentUTF8:ie,rawExtraField:y.subarray(E,M)});const[be,He]=await Promise.all([$h(ae,P?Hv:S||Gv),$h(F,ie?Hv:I||Gv)]);Object.assign(N,{rawComment:F,filename:be,comment:He,directory:ce||be.endsWith(Hq)}),_=Math.max(te,_),await F$(N,N,b,v+6);const we=new Wv(N);we.getData=(Me,Le)=>N.getData(Me,we,Le),v=J;const{onprogress:Se}=t;if(Se)try{await Se(C+1,h,new Wv(N))}catch{}yield we}const x=hn(n,t,"extractPrependedData"),A=hn(n,t,"extractAppendedData");return x&&(n.prependedData=_>0?await Ot(r,0,_):new Uint8Array),n.comment=u?await Ot(r,l+ts,u):new Uint8Array,A&&(n.appendedData=d<r.size?await Ot(r,d,r.size-d):new Uint8Array),!0}async getEntries(t={}){const n=[];for await(const r of this.getEntriesGenerator(t))n.push(r);return n}async close(){}}class dj{constructor(t,n,r){Object.assign(this,{reader:t,config:n,options:r})}async getData(t,n,r={}){const i=this,{reader:s,offset:o,diskNumberStart:a,extraFieldAES:c,compressionMethod:l,config:u,bitFlag:d,signature:f,rawLastModDate:p,uncompressedSize:g,compressedSize:h}=i,m=n.localDirectory={},_=await Ot(s,o,30,a),v=bt(_);let y=hn(i,r,"password");if(y=y&&y.length&&y,c&&c.originalCompressionMethod!=kq)throw new Error(jv);if(l!=Oq&&l!=Cq)throw new Error(jv);if(nt(v,0)!=Nq)throw new Error(ij);L$(m,v,4),m.rawExtraField=m.extraFieldLength?await Ot(s,o+30+m.filenameLength,m.extraFieldLength,a):new Uint8Array,await F$(i,m,v,4,!0),Object.assign(n,{lastAccessDate:m.lastAccessDate,creationDate:m.creationDate});const b=i.encrypted&&m.encrypted,$=b&&!c;if(b){if(!$&&c.strength===Dn)throw new Error(aj);if(!y)throw new Error(oj)}const S=o+30+m.filenameLength+m.extraFieldLength,I=h,x=s.readable;Object.assign(x,{diskNumberStart:a,offset:S,size:I});const A=hn(i,r,"signal"),C=hn(i,r,"checkPasswordOnly");C&&(t=new WritableStream),t=jW(t),await cl(t,g);const{writable:N}=t,{onstart:T,onprogress:k,onend:E}=r,M={options:{codecType:E$,password:y,zipCrypto:$,encryptionStrength:c&&c.strength,signed:hn(i,r,"checkSignature"),passwordVerification:$&&(d.dataDescriptor?p>>>8&255:f>>>24&255),signature:f,compressed:l!=0,encrypted:b,useWebWorkers:hn(i,r,"useWebWorkers"),useCompressionStream:hn(i,r,"useCompressionStream"),transferStreams:hn(i,r,"transferStreams"),checkPasswordOnly:C},config:u,streamOptions:{signal:A,size:I,onstart:T,onprogress:k,onend:E}};let Y=0;try{({outputSize:Y}=await MW({readable:x,writable:N},M))}catch(q){if(!C||q.message!=Um)throw q}finally{const q=hn(i,r,"preventClose");N.size+=Y,!q&&!N.locked&&await N.getWriter().close()}return C?void 0:t.getData?t.getData():N}}function L$(e,t,n){const r=e.rawBitFlag=yt(t,n+2),i=(r&Tv)==Tv,s=nt(t,n+6);Object.assign(e,{encrypted:i,version:yt(t,n),bitFlag:{level:(r&Vq)>>1,dataDescriptor:(r&xv)==xv,languageEncodingFlag:(r&Av)==Av},rawLastModDate:s,lastModDate:gj(s),filenameLength:yt(t,n+22),extraFieldLength:yt(t,n+24)})}async function F$(e,t,n,r,i){const{rawExtraField:s}=t,o=t.extraField=new Map,a=bt(new Uint8Array(s));let c=0;try{for(;c<s.length;){const _=yt(a,c),v=yt(a,c+2);o.set(_,{type:_,data:s.slice(c+4,c+4+v)}),c+=4+v}}catch{}const l=yt(n,r+4);Object.assign(t,{signature:nt(n,r+10),uncompressedSize:nt(n,r+18),compressedSize:nt(n,r+14)});const u=o.get(Lq);u&&(fj(u,t),t.extraFieldZip64=u);const d=o.get(qq);d&&(await Yv(d,A$,R$,t,e),t.extraFieldUnicodePath=d);const f=o.get(Wq);f&&(await Yv(f,C$,O$,t,e),t.extraFieldUnicodeComment=f);const p=o.get(Fq);p?(hj(p,t,l),t.extraFieldAES=p):t.compressionMethod=l;const g=o.get(Uq);g&&(pj(g,t),t.extraFieldNTFS=g);const h=o.get(zq);h&&(mj(h,t,i),t.extraFieldExtendedTimestamp=h);const m=o.get(jq);m&&(t.extraFieldUSDZ=m)}function fj(e,t){t.zip64=!0;const n=bt(e.data),r=cj.filter(([i,s])=>t[i]==s);for(let i=0,s=0;i<r.length;i++){const[o,a]=r[i];if(t[o]==a){const c=lj[a];t[o]=e[o]=c.getValue(n,s),s+=c.bytes}else if(e[o])throw new Error(sj)}}async function Yv(e,t,n,r,i){const s=bt(e.data),o=new ol;o.append(i[n]);const a=bt(new Uint8Array(4));a.setUint32(0,o.get(),!0);const c=nt(s,1);Object.assign(e,{version:Ss(s,0),[t]:$h(e.data.subarray(5)),valid:!i.bitFlag.languageEncodingFlag&&c==nt(a,0)}),e.valid&&(r[t]=e[t],r[t+"UTF8"]=!0)}function hj(e,t,n){const r=bt(e.data),i=Ss(r,4);Object.assign(e,{vendorVersion:Ss(r,0),vendorId:Ss(r,2),strength:i,originalCompressionMethod:n,compressionMethod:yt(r,5)}),t.compressionMethod=e.compressionMethod}function pj(e,t){const n=bt(e.data);let r=4,i;try{for(;r<e.data.length&&!i;){const s=yt(n,r),o=yt(n,r+2);s==Bq&&(i=e.data.slice(r+4,r+4+o)),r+=4+o}}catch{}try{if(i&&i.length==24){const s=bt(i),o=s.getBigUint64(0,!0),a=s.getBigUint64(8,!0),c=s.getBigUint64(16,!0);Object.assign(e,{rawLastModDate:o,rawLastAccessDate:a,rawCreationDate:c});const l=Xd(o),u=Xd(a),d=Xd(c),f={lastModDate:l,lastAccessDate:u,creationDate:d};Object.assign(e,f),Object.assign(t,f)}}catch{}}function mj(e,t,n){const r=bt(e.data),i=Ss(r,0),s=[],o=[];n?((i&1)==1&&(s.push(Ih),o.push(Th)),(i&2)==2&&(s.push(D$),o.push(GW)),(i&4)==4&&(s.push(M$),o.push(YW))):e.data.length>=5&&(s.push(Ih),o.push(Th));let a=1;s.forEach((c,l)=>{if(e.data.length>=a+4){const u=nt(r,a);t[c]=e[c]=new Date(u*1e3);const d=o[l];e[d]=u}a+=4})}async function _j(e,t,n,r,i){const s=new Uint8Array(4),o=bt(s);vj(o,0,t);const a=r+i;return await c(r)||await c(Math.min(a,n));async function c(l){const u=n-l,d=await Ot(e,u,l);for(let f=d.length-r;f>=0;f--)if(d[f]==s[0]&&d[f+1]==s[1]&&d[f+2]==s[2]&&d[f+3]==s[3])return{offset:u+f,buffer:d.slice(f,f+r).buffer}}}function hn(e,t,n){return t[n]===Dn?e.options[n]:t[n]}function gj(e){const t=(e&4294901760)>>16,n=e&65535;try{return new Date(1980+((t&65024)>>9),((t&480)>>5)-1,t&31,(n&63488)>>11,(n&2016)>>5,(n&31)*2,0)}catch{}}function Xd(e){return new Date(Number(e/BigInt(1e4)-BigInt(116444736e5)))}function Ss(e,t){return e.getUint8(t)}function yt(e,t){return e.getUint16(t,!0)}function nt(e,t){return e.getUint32(t,!0)}function Ec(e,t){return Number(e.getBigUint64(t,!0))}function vj(e,t,n){e.setUint32(t,n,!0)}function bt(e){return new DataView(e.buffer)}let U$;try{U$=import.meta.url}catch{}Fm({baseURL:U$});LW(Fm);Fm({Deflate:cq,Inflate:Rq});function fc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var B$={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,s){function o(l,u){if(!i[l]){if(!r[l]){var d=typeof fc=="function"&&fc;if(!u&&d)return d(l,!0);if(a)return a(l,!0);var f=new Error("Cannot find module '"+l+"'");throw f.code="MODULE_NOT_FOUND",f}var p=i[l]={exports:{}};r[l][0].call(p.exports,function(g){var h=r[l][1][g];return o(h||g)},p,p.exports,n,r,i,s)}return i[l].exports}for(var a=typeof fc=="function"&&fc,c=0;c<s.length;c++)o(s[c]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var l,u,d,f,p,g,h,m=[],_=0,v=c.length,y=v,b=s.getTypeOf(c)!=="string";_<c.length;)y=v-_,d=b?(l=c[_++],u=_<v?c[_++]:0,_<v?c[_++]:0):(l=c.charCodeAt(_++),u=_<v?c.charCodeAt(_++):0,_<v?c.charCodeAt(_++):0),f=l>>2,p=(3&l)<<4|u>>4,g=1<y?(15&u)<<2|d>>6:64,h=2<y?63&d:64,m.push(a.charAt(f)+a.charAt(p)+a.charAt(g)+a.charAt(h));return m.join("")},i.decode=function(c){var l,u,d,f,p,g,h=0,m=0,_="data:";if(c.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var v,y=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===a.charAt(64)&&y--,c.charAt(c.length-2)===a.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=o.uint8array?new Uint8Array(0|y):new Array(0|y);h<c.length;)l=a.indexOf(c.charAt(h++))<<2|(f=a.indexOf(c.charAt(h++)))>>4,u=(15&f)<<4|(p=a.indexOf(c.charAt(h++)))>>2,d=(3&p)<<6|(g=a.indexOf(c.charAt(h++))),v[m++]=l,p!==64&&(v[m++]=u),g!==64&&(v[m++]=d);return v}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function l(u,d,f,p,g){this.compressedSize=u,this.uncompressedSize=d,this.crc32=f,this.compression=p,this.compressedContent=g}l.prototype={getContentWorker:function(){var u=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(u,d,f){return u.pipe(new a).pipe(new c("uncompressedSize")).pipe(d.compressWorker(f)).pipe(new c("compressedSize")).withStreamInfo("compression",d)},r.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var a,c=[],l=0;l<256;l++){a=l;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;c[l]=a}return c}();r.exports=function(a,c){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(l,u,d,f){var p=o,g=f+d;l^=-1;for(var h=f;h<g;h++)l=l>>>8^p[255&(l^u[h])];return-1^l}(0|c,a,a.length,0):function(l,u,d,f){var p=o,g=f+d;l^=-1;for(var h=f;h<g;h++)l=l>>>8^p[255&(l^u.charCodeAt(h))];return-1^l}(0|c,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),c=n("./stream/GenericWorker"),l=s?"uint8array":"array";function u(d,f){c.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=f,this.meta={}}i.magic="\b\0",a.inherits(u,c),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(l,d.data),!1)},u.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(f){d.push({data:f,meta:d.meta})}},i.compressWorker=function(d){return new u("Deflate",d)},i.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(p,g){var h,m="";for(h=0;h<g;h++)m+=String.fromCharCode(255&p),p>>>=8;return m}function o(p,g,h,m,_,v){var y,b,$=p.file,S=p.compression,I=v!==l.utf8encode,x=a.transformTo("string",v($.name)),A=a.transformTo("string",l.utf8encode($.name)),C=$.comment,N=a.transformTo("string",v(C)),T=a.transformTo("string",l.utf8encode(C)),k=A.length!==$.name.length,E=T.length!==C.length,M="",Y="",q="",ae=$.dir,Z=$.date,J={crc32:0,compressedSize:0,uncompressedSize:0};g&&!h||(J.crc32=p.crc32,J.compressedSize=p.compressedSize,J.uncompressedSize=p.uncompressedSize);var F=0;g&&(F|=8),I||!k&&!E||(F|=2048);var P=0,ie=0;ae&&(P|=16),_==="UNIX"?(ie=798,P|=function(te,be){var He=te;return te||(He=be?16893:33204),(65535&He)<<16}($.unixPermissions,ae)):(ie=20,P|=function(te){return 63&(te||0)}($.dosPermissions)),y=Z.getUTCHours(),y<<=6,y|=Z.getUTCMinutes(),y<<=5,y|=Z.getUTCSeconds()/2,b=Z.getUTCFullYear()-1980,b<<=4,b|=Z.getUTCMonth()+1,b<<=5,b|=Z.getUTCDate(),k&&(Y=s(1,1)+s(u(x),4)+A,M+="up"+s(Y.length,2)+Y),E&&(q=s(1,1)+s(u(N),4)+T,M+="uc"+s(q.length,2)+q);var ce="";return ce+=`
\0`,ce+=s(F,2),ce+=S.magic,ce+=s(y,2),ce+=s(b,2),ce+=s(J.crc32,4),ce+=s(J.compressedSize,4),ce+=s(J.uncompressedSize,4),ce+=s(x.length,2),ce+=s(M.length,2),{fileRecord:d.LOCAL_FILE_HEADER+ce+x+M,dirRecord:d.CENTRAL_FILE_HEADER+s(ie,2)+ce+s(N.length,2)+"\0\0\0\0"+s(P,4)+s(m,4)+x+M+N}}var a=n("../utils"),c=n("../stream/GenericWorker"),l=n("../utf8"),u=n("../crc32"),d=n("../signature");function f(p,g,h,m){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=h,this.encodeFileName=m,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(f,c),f.prototype.push=function(p){var g=p.meta.percent||0,h=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,c.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:h?(g+100*(h-m-1))/h:100}}))},f.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var g=this.streamFiles&&!p.file.dir;if(g){var h=o(p,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(p){this.accumulate=!1;var g=this.streamFiles&&!p.file.dir,h=o(p,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),g)this.push({data:function(m){return d.DATA_DESCRIPTOR+s(m.crc32,4)+s(m.compressedSize,4)+s(m.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var p=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var h=this.bytesWritten-p,m=function(_,v,y,b,$){var S=a.transformTo("string",$(b));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(_,2)+s(_,2)+s(v,4)+s(y,4)+s(S.length,2)+S}(this.dirRecords.length,h,p,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(p){this._sources.push(p);var g=this;return p.on("data",function(h){g.processChunk(h)}),p.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),p.on("error",function(h){g.error(h)}),this},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(p){var g=this._sources;if(!c.prototype.error.call(this,p))return!1;for(var h=0;h<g.length;h++)try{g[h].error(p)}catch{}return!0},f.prototype.lock=function(){c.prototype.lock.call(this);for(var p=this._sources,g=0;g<p.length;g++)p[g].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(a,c,l){var u=new o(c.streamFiles,l,c.platform,c.encodeFileName),d=0;try{a.forEach(function(f,p){d++;var g=function(v,y){var b=v||y,$=s[b];if(!$)throw new Error(b+" is not a valid compression method !");return $}(p.options.compression,c.compression),h=p.options.compressionOptions||c.compressionOptions||{},m=p.dir,_=p.date;p._compressWorker(g,h).withStreamInfo("file",{name:f,dir:m,date:_,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(f){u.error(f)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),a=n("./utf8"),c=n("./zipEntries"),l=n("./stream/Crc32Probe"),u=n("./nodejsUtils");function d(f){return new o.Promise(function(p,g){var h=f.decompressed.getContentWorker().pipe(new l);h.on("error",function(m){g(m)}).on("end",function(){h.streamInfo.crc32!==f.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(f,p){var g=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(f)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",f,!0,p.optimizedBinaryString,p.base64).then(function(h){var m=new c(p);return m.load(h),m}).then(function(h){var m=[o.Promise.resolve(h)],_=h.files;if(p.checkCRC32)for(var v=0;v<_.length;v++)m.push(d(_[v]));return o.Promise.all(m)}).then(function(h){for(var m=h.shift(),_=m.files,v=0;v<_.length;v++){var y=_[v],b=y.fileNameStr,$=s.resolve(y.fileNameStr);g.file($,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:p.createFolders}),y.dir||(g.file($).unsafeOriginalName=b)}return m.zipComment.length&&(g.comment=m.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function a(c,l){o.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(l)}s.inherits(a,o),a.prototype._bindStream=function(c){var l=this;(this._stream=c).pause(),c.on("data",function(u){l.push({data:u,meta:{percent:0}})}).on("error",function(u){l.isPaused?this.generatedError=u:l.error(u)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(a,c,l){s.call(this,c),this._helper=a;var u=this;a.on("data",function(d,f){u.push(d)||u._helper.pause(),l&&l(f)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s($,S,I){var x,A=a.getTypeOf(S),C=a.extend(I||{},u);C.date=C.date||new Date,C.compression!==null&&(C.compression=C.compression.toUpperCase()),typeof C.unixPermissions=="string"&&(C.unixPermissions=parseInt(C.unixPermissions,8)),C.unixPermissions&&16384&C.unixPermissions&&(C.dir=!0),C.dosPermissions&&16&C.dosPermissions&&(C.dir=!0),C.dir&&($=_($)),C.createFolders&&(x=m($))&&v.call(this,x,!0);var N=A==="string"&&C.binary===!1&&C.base64===!1;I&&I.binary!==void 0||(C.binary=!N),(S instanceof d&&S.uncompressedSize===0||C.dir||!S||S.length===0)&&(C.base64=!1,C.binary=!0,S="",C.compression="STORE",A="string");var T=null;T=S instanceof d||S instanceof c?S:g.isNode&&g.isStream(S)?new h($,S):a.prepareContent($,S,C.binary,C.optimizedBinaryString,C.base64);var k=new f($,T,C);this.files[$]=k}var o=n("./utf8"),a=n("./utils"),c=n("./stream/GenericWorker"),l=n("./stream/StreamHelper"),u=n("./defaults"),d=n("./compressedObject"),f=n("./zipObject"),p=n("./generate"),g=n("./nodejsUtils"),h=n("./nodejs/NodejsStreamInputAdapter"),m=function($){$.slice(-1)==="/"&&($=$.substring(0,$.length-1));var S=$.lastIndexOf("/");return 0<S?$.substring(0,S):""},_=function($){return $.slice(-1)!=="/"&&($+="/"),$},v=function($,S){return S=S!==void 0?S:u.createFolders,$=_($),this.files[$]||s.call(this,$,null,{dir:!0,createFolders:S}),this.files[$]};function y($){return Object.prototype.toString.call($)==="[object RegExp]"}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function($){var S,I,x;for(S in this.files)x=this.files[S],(I=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&$(I,x)},filter:function($){var S=[];return this.forEach(function(I,x){$(I,x)&&S.push(x)}),S},file:function($,S,I){if(arguments.length!==1)return $=this.root+$,s.call(this,$,S,I),this;if(y($)){var x=$;return this.filter(function(C,N){return!N.dir&&x.test(C)})}var A=this.files[this.root+$];return A&&!A.dir?A:null},folder:function($){if(!$)return this;if(y($))return this.filter(function(A,C){return C.dir&&$.test(A)});var S=this.root+$,I=v.call(this,S),x=this.clone();return x.root=I.name,x},remove:function($){$=this.root+$;var S=this.files[$];if(S||($.slice(-1)!=="/"&&($+="/"),S=this.files[$]),S&&!S.dir)delete this.files[$];else for(var I=this.filter(function(A,C){return C.name.slice(0,$.length)===$}),x=0;x<I.length;x++)delete this.files[I[x].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function($){var S,I={};try{if((I=a.extend($||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");a.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var x=I.comment||this.comment||"";S=p.generateWorker(this,I,x)}catch(A){(S=new c("error")).error(A)}return new l(S,I.type||"string",I.mimeType)},generateAsync:function($,S){return this.generateInternalStream($).accumulate(S)},generateNodeStream:function($,S){return($=$||{}).type||($.type="nodebuffer"),this.generateInternalStream($).toNodejsStream(S)}};r.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a);for(var c=0;c<this.data.length;c++)a[c]=255&a[c]}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var c=a.charCodeAt(0),l=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===c&&this.data[f+1]===l&&this.data[f+2]===u&&this.data[f+3]===d)return f-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var c=a.charCodeAt(0),l=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),f=this.readData(4);return c===f[0]&&l===f[1]&&u===f[2]&&d===f[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var c,l=0;for(this.checkOffset(a),c=this.index+a-1;c>=this.index;c--)l=(l<<8)+this.byteAt(c);return this.index+=a,l},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),a=n("./ArrayReader"),c=n("./StringReader"),l=n("./NodeBufferReader"),u=n("./Uint8ArrayReader");r.exports=function(d){var f=s.getTypeOf(d);return s.checkSupport(f),f!=="string"||o.uint8array?f==="nodebuffer"?new l(d):o.uint8array?new u(s.transformTo("uint8array",d)):new a(s.transformTo("array",d)):new c(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function a(c){s.call(this,"ConvertWorker to "+c),this.destType=c}o.inherits(a,s),a.prototype.processChunk=function(c){this.push({data:o.transformTo(this.destType,c.data),meta:c.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,s),a.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(c){o.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(a,o),a.prototype.processChunk=function(c){if(c){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+c.data.length}o.prototype.processChunk.call(this,c)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(c){o.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(u){l.dataIsReady=!0,l.data=u,l.max=u&&u.length||0,l.type=s.getTypeOf(u),l.isPaused||l._tickAndRepeat()},function(u){l.error(u)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,l);break;case"uint8array":c=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":c=this.data.slice(this.index,l)}return this.index=l,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var c=0;c<this._listeners[o].length;c++)this._listeners[o][c].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(c){a.processChunk(c)}),o.on("end",function(){a.end()}),o.on("error",function(c){a.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),c=n("../base64"),l=n("../support"),u=n("../external"),d=null;if(l.nodestream)try{d=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(g,h){return new u.Promise(function(m,_){var v=[],y=g._internalType,b=g._outputType,$=g._mimeType;g.on("data",function(S,I){v.push(S),h&&h(I)}).on("error",function(S){v=[],_(S)}).on("end",function(){try{var S=function(I,x,A){switch(I){case"blob":return s.newBlob(s.transformTo("arraybuffer",x),A);case"base64":return c.encode(x);default:return s.transformTo(I,x)}}(b,function(I,x){var A,C=0,N=null,T=0;for(A=0;A<x.length;A++)T+=x[A].length;switch(I){case"string":return x.join("");case"array":return Array.prototype.concat.apply([],x);case"uint8array":for(N=new Uint8Array(T),A=0;A<x.length;A++)N.set(x[A],C),C+=x[A].length;return N;case"nodebuffer":return Buffer.concat(x);default:throw new Error("concat : unsupported type '"+I+"'")}}(y,v),$);m(S)}catch(I){_(I)}v=[]}).resume()})}function p(g,h,m){var _=h;switch(h){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=h,this._mimeType=m,s.checkSupport(_),this._worker=g.pipe(new o(_)),g.lock()}catch(v){this._worker=new a("error"),this._worker.error(v)}}p.prototype={accumulate:function(g){return f(this,g)},on:function(g,h){var m=this;return g==="data"?this._worker.on(g,function(_){h.call(m,_.data,_.meta)}):this._worker.on(g,function(){s.delay(h,arguments,m)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),c=n("./stream/GenericWorker"),l=new Array(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;l[254]=l[254]=1;function d(){c.call(this,"utf-8 decode"),this.leftOver=null}function f(){c.call(this,"utf-8 encode")}i.utf8encode=function(p){return o.nodebuffer?a.newBufferFrom(p,"utf-8"):function(g){var h,m,_,v,y,b=g.length,$=0;for(v=0;v<b;v++)(64512&(m=g.charCodeAt(v)))==55296&&v+1<b&&(64512&(_=g.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(_-56320),v++),$+=m<128?1:m<2048?2:m<65536?3:4;for(h=o.uint8array?new Uint8Array($):new Array($),v=y=0;y<$;v++)(64512&(m=g.charCodeAt(v)))==55296&&v+1<b&&(64512&(_=g.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(_-56320),v++),m<128?h[y++]=m:(m<2048?h[y++]=192|m>>>6:(m<65536?h[y++]=224|m>>>12:(h[y++]=240|m>>>18,h[y++]=128|m>>>12&63),h[y++]=128|m>>>6&63),h[y++]=128|63&m);return h}(p)},i.utf8decode=function(p){return o.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):function(g){var h,m,_,v,y=g.length,b=new Array(2*y);for(h=m=0;h<y;)if((_=g[h++])<128)b[m++]=_;else if(4<(v=l[_]))b[m++]=65533,h+=v-1;else{for(_&=v===2?31:v===3?15:7;1<v&&h<y;)_=_<<6|63&g[h++],v--;1<v?b[m++]=65533:_<65536?b[m++]=_:(_-=65536,b[m++]=55296|_>>10&1023,b[m++]=56320|1023&_)}return b.length!==m&&(b.subarray?b=b.subarray(0,m):b.length=m),s.applyFromCharCode(b)}(p=s.transformTo(o.uint8array?"uint8array":"array",p))},s.inherits(d,c),d.prototype.processChunk=function(p){var g=s.transformTo(o.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var h=g;(g=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),g.set(h,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var m=function(v,y){var b;for((y=y||v.length)>v.length&&(y=v.length),b=y-1;0<=b&&(192&v[b])==128;)b--;return b<0||b===0?y:b+l[v[b]]>y?b:y}(g),_=g;m!==g.length&&(o.uint8array?(_=g.subarray(0,m),this.leftOver=g.subarray(m,g.length)):(_=g.slice(0,m),this.leftOver=g.slice(m,g.length))),this.push({data:i.utf8decode(_),meta:p.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=d,s.inherits(f,c),f.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),c=n("./external");function l(h){return h}function u(h,m){for(var _=0;_<h.length;++_)m[_]=255&h.charCodeAt(_);return m}n("setimmediate"),i.newBlob=function(h,m){i.checkSupport("blob");try{return new Blob([h],{type:m})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(h),_.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(h,m,_){var v=[],y=0,b=h.length;if(b<=_)return String.fromCharCode.apply(null,h);for(;y<b;)m==="array"||m==="nodebuffer"?v.push(String.fromCharCode.apply(null,h.slice(y,Math.min(y+_,b)))):v.push(String.fromCharCode.apply(null,h.subarray(y,Math.min(y+_,b)))),y+=_;return v.join("")},stringifyByChar:function(h){for(var m="",_=0;_<h.length;_++)m+=String.fromCharCode(h[_]);return m},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function f(h){var m=65536,_=i.getTypeOf(h),v=!0;if(_==="uint8array"?v=d.applyCanBeUsed.uint8array:_==="nodebuffer"&&(v=d.applyCanBeUsed.nodebuffer),v)for(;1<m;)try{return d.stringifyByChunk(h,_,m)}catch{m=Math.floor(m/2)}return d.stringifyByChar(h)}function p(h,m){for(var _=0;_<h.length;_++)m[_]=h[_];return m}i.applyFromCharCode=f;var g={};g.string={string:l,array:function(h){return u(h,new Array(h.length))},arraybuffer:function(h){return g.string.uint8array(h).buffer},uint8array:function(h){return u(h,new Uint8Array(h.length))},nodebuffer:function(h){return u(h,a.allocBuffer(h.length))}},g.array={string:f,array:l,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return a.newBufferFrom(h)}},g.arraybuffer={string:function(h){return f(new Uint8Array(h))},array:function(h){return p(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:l,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return a.newBufferFrom(new Uint8Array(h))}},g.uint8array={string:f,array:function(h){return p(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:l,nodebuffer:function(h){return a.newBufferFrom(h)}},g.nodebuffer={string:f,array:function(h){return p(h,new Array(h.length))},arraybuffer:function(h){return g.nodebuffer.uint8array(h).buffer},uint8array:function(h){return p(h,new Uint8Array(h.length))},nodebuffer:l},i.transformTo=function(h,m){if(m=m||"",!h)return m;i.checkSupport(h);var _=i.getTypeOf(m);return g[_][h](m)},i.resolve=function(h){for(var m=h.split("/"),_=[],v=0;v<m.length;v++){var y=m[v];y==="."||y===""&&v!==0&&v!==m.length-1||(y===".."?_.pop():_.push(y))}return _.join("/")},i.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(h)?"nodebuffer":s.uint8array&&h instanceof Uint8Array?"uint8array":s.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(h){if(!s[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(h){var m,_,v="";for(_=0;_<(h||"").length;_++)v+="\\x"+((m=h.charCodeAt(_))<16?"0":"")+m.toString(16).toUpperCase();return v},i.delay=function(h,m,_){setImmediate(function(){h.apply(_||null,m||[])})},i.inherits=function(h,m){function _(){}_.prototype=m.prototype,h.prototype=new _},i.extend=function(){var h,m,_={};for(h=0;h<arguments.length;h++)for(m in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],m)&&_[m]===void 0&&(_[m]=arguments[h][m]);return _},i.prepareContent=function(h,m,_,v,y){return c.Promise.resolve(m).then(function(b){return s.blob&&(b instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(b))!==-1)&&typeof FileReader<"u"?new c.Promise(function($,S){var I=new FileReader;I.onload=function(x){$(x.target.result)},I.onerror=function(x){S(x.target.error)},I.readAsArrayBuffer(b)}):b}).then(function(b){var $=i.getTypeOf(b);return $?($==="arraybuffer"?b=i.transformTo("uint8array",b):$==="string"&&(y?b=o.decode(b):_&&v!==!0&&(b=function(S){return u(S,s.uint8array?new Uint8Array(S.length):new Array(S.length))}(b))),b):c.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),c=n("./zipEntry"),l=n("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(f)+", expected "+o.pretty(d)+")")}},isSignature:function(d,f){var p=this.reader.index;this.reader.setIndex(d);var g=this.reader.readString(4)===f;return this.reader.setIndex(p),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),f=l.uint8array?"uint8array":"array",p=o.transformTo(f,d);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,f,p,g=this.zip64EndOfCentralSize-44;0<g;)d=this.reader.readInt(2),f=this.reader.readInt(4),p=this.reader.readData(f),this.zip64ExtensibleData[d]={id:d,length:f,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,f;for(d=0;d<this.files.length;d++)f=this.files[d],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var f=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var g=f-p;if(0<g)this.isSignature(f,a.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(d){this.reader=s(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),c=n("./crc32"),l=n("./utf8"),u=n("./compressions"),d=n("./support");function f(p,g){this.options=p,this.loadOptions=g}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var g,h;if(p.skip(22),this.fileNameLength=p.readInt(2),h=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(m){for(var _ in u)if(Object.prototype.hasOwnProperty.call(u,_)&&u[_].magic===m)return u[_];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,g,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var g=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(g),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var g,h,m,_=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<_;)g=p.readInt(2),h=p.readInt(2),m=p.readData(h),this.extraFields[g]={id:g,length:h,value:m};p.setIndex(_)},handleUTF8:function(){var p=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var h=o.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var _=o.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var g=s(p.value);return g.readInt(1)!==1||c(this.fileName)!==g.readInt(4)?null:l.utf8decode(g.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var g=s(p.value);return g.readInt(1)!==1||c(this.fileComment)!==g.readInt(4)?null:l.utf8decode(g.readData(p.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(g,h,m){this.name=g,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=h,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),c=n("./utf8"),l=n("./compressedObject"),u=n("./stream/GenericWorker");s.prototype={internalStream:function(g){var h=null,m="string";try{if(!g)throw new Error("No output type specified.");var _=(m=g.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),h=this._decompressWorker();var v=!this._dataBinary;v&&!_&&(h=h.pipe(new c.Utf8EncodeWorker)),!v&&_&&(h=h.pipe(new c.Utf8DecodeWorker))}catch(y){(h=new u("error")).error(y)}return new o(h,m,"")},async:function(g,h){return this.internalStream(g).accumulate(h)},nodeStream:function(g,h){return this.internalStream(g||"nodebuffer").toNodejsStream(h)},_compressWorker:function(g,h){if(this._data instanceof l&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new c.Utf8EncodeWorker)),l.createWorkerFrom(m,g,h)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<d.length;p++)s.prototype[d[p]]=f;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,a,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var l=0,u=new c(g),d=s.document.createTextNode("");u.observe(d,{characterData:!0}),o=function(){d.data=l=++l%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var h=s.document.createElement("script");h.onreadystatechange=function(){g(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},s.document.documentElement.appendChild(h)}:function(){setTimeout(g,0)};else{var f=new s.MessageChannel;f.port1.onmessage=g,o=function(){f.port2.postMessage(0)}}var p=[];function g(){var h,m;a=!0;for(var _=p.length;_;){for(m=p,p=[],h=-1;++h<_;)m[h]();_=p.length}a=!1}r.exports=function(h){p.push(h)!==1||a||o()}}).call(this,typeof wo<"u"?wo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var a={},c=["REJECTED"],l=["FULFILLED"],u=["PENDING"];function d(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,_!==o&&h(this,_)}function f(_,v,y){this.promise=_,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function p(_,v,y){s(function(){var b;try{b=v(y)}catch($){return a.reject(_,$)}b===_?a.reject(_,new TypeError("Cannot resolve promise with itself")):a.resolve(_,b)})}function g(_){var v=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof v=="function")return function(){v.apply(_,arguments)}}function h(_,v){var y=!1;function b(I){y||(y=!0,a.reject(_,I))}function $(I){y||(y=!0,a.resolve(_,I))}var S=m(function(){v($,b)});S.status==="error"&&b(S.value)}function m(_,v){var y={};try{y.value=_(v),y.status="success"}catch(b){y.status="error",y.value=b}return y}(r.exports=d).prototype.finally=function(_){if(typeof _!="function")return this;var v=this.constructor;return this.then(function(y){return v.resolve(_()).then(function(){return y})},function(y){return v.resolve(_()).then(function(){throw y})})},d.prototype.catch=function(_){return this.then(null,_)},d.prototype.then=function(_,v){if(typeof _!="function"&&this.state===l||typeof v!="function"&&this.state===c)return this;var y=new this.constructor(o);return this.state!==u?p(y,this.state===l?_:v,this.outcome):this.queue.push(new f(y,_,v)),y},f.prototype.callFulfilled=function(_){a.resolve(this.promise,_)},f.prototype.otherCallFulfilled=function(_){p(this.promise,this.onFulfilled,_)},f.prototype.callRejected=function(_){a.reject(this.promise,_)},f.prototype.otherCallRejected=function(_){p(this.promise,this.onRejected,_)},a.resolve=function(_,v){var y=m(g,v);if(y.status==="error")return a.reject(_,y.value);var b=y.value;if(b)h(_,b);else{_.state=l,_.outcome=v;for(var $=-1,S=_.queue.length;++$<S;)_.queue[$].callFulfilled(v)}return _},a.reject=function(_,v){_.state=c,_.outcome=v;for(var y=-1,b=_.queue.length;++y<b;)_.queue[y].callRejected(v);return _},d.resolve=function(_){return _ instanceof this?_:a.resolve(new this(o),_)},d.reject=function(_){var v=new this(o);return a.reject(v,_)},d.all=function(_){var v=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=_.length,b=!1;if(!y)return this.resolve([]);for(var $=new Array(y),S=0,I=-1,x=new this(o);++I<y;)A(_[I],I);return x;function A(C,N){v.resolve(C).then(function(T){$[N]=T,++S!==y||b||(b=!0,a.resolve(x,$))},function(T){b||(b=!0,a.reject(x,T))})}},d.race=function(_){var v=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=_.length,b=!1;if(!y)return this.resolve([]);for(var $=-1,S=new this(o);++$<y;)I=_[$],v.resolve(I).then(function(x){b||(b=!0,a.resolve(S,x))},function(x){b||(b=!0,a.reject(S,x))});var I;return S}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),c=n("./zlib/messages"),l=n("./zlib/zstream"),u=Object.prototype.toString,d=0,f=-1,p=0,g=8;function h(_){if(!(this instanceof h))return new h(_);this.options=o.assign({level:f,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},_||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var y=s.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(y!==d)throw new Error(c[y]);if(v.header&&s.deflateSetHeader(this.strm,v.header),v.dictionary){var b;if(b=typeof v.dictionary=="string"?a.string2buf(v.dictionary):u.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(y=s.deflateSetDictionary(this.strm,b))!==d)throw new Error(c[y]);this._dict_set=!0}}function m(_,v){var y=new h(v);if(y.push(_,!0),y.err)throw y.msg||c[y.err];return y.result}h.prototype.push=function(_,v){var y,b,$=this.strm,S=this.options.chunkSize;if(this.ended)return!1;b=v===~~v?v:v===!0?4:0,typeof _=="string"?$.input=a.string2buf(_):u.call(_)==="[object ArrayBuffer]"?$.input=new Uint8Array(_):$.input=_,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new o.Buf8(S),$.next_out=0,$.avail_out=S),(y=s.deflate($,b))!==1&&y!==d)return this.onEnd(y),!(this.ended=!0);$.avail_out!==0&&($.avail_in!==0||b!==4&&b!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf($.output,$.next_out))):this.onData(o.shrinkBuf($.output,$.next_out)))}while((0<$.avail_in||$.avail_out===0)&&y!==1);return b===4?(y=s.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===d):b!==2||(this.onEnd(d),!($.avail_out=0))},h.prototype.onData=function(_){this.chunks.push(_)},h.prototype.onEnd=function(_){_===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},i.Deflate=h,i.deflate=m,i.deflateRaw=function(_,v){return(v=v||{}).raw=!0,m(_,v)},i.gzip=function(_,v){return(v=v||{}).gzip=!0,m(_,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),c=n("./zlib/constants"),l=n("./zlib/messages"),u=n("./zlib/zstream"),d=n("./zlib/gzheader"),f=Object.prototype.toString;function p(h){if(!(this instanceof p))return new p(h);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},h||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||h&&h.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=s.inflateInit2(this.strm,m.windowBits);if(_!==c.Z_OK)throw new Error(l[_]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}function g(h,m){var _=new p(m);if(_.push(h,!0),_.err)throw _.msg||l[_.err];return _.result}p.prototype.push=function(h,m){var _,v,y,b,$,S,I=this.strm,x=this.options.chunkSize,A=this.options.dictionary,C=!1;if(this.ended)return!1;v=m===~~m?m:m===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof h=="string"?I.input=a.binstring2buf(h):f.call(h)==="[object ArrayBuffer]"?I.input=new Uint8Array(h):I.input=h,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new o.Buf8(x),I.next_out=0,I.avail_out=x),(_=s.inflate(I,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&A&&(S=typeof A=="string"?a.string2buf(A):f.call(A)==="[object ArrayBuffer]"?new Uint8Array(A):A,_=s.inflateSetDictionary(this.strm,S)),_===c.Z_BUF_ERROR&&C===!0&&(_=c.Z_OK,C=!1),_!==c.Z_STREAM_END&&_!==c.Z_OK)return this.onEnd(_),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&_!==c.Z_STREAM_END&&(I.avail_in!==0||v!==c.Z_FINISH&&v!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=a.utf8border(I.output,I.next_out),b=I.next_out-y,$=a.buf2string(I.output,y),I.next_out=b,I.avail_out=x-b,b&&o.arraySet(I.output,I.output,y,b,0),this.onData($)):this.onData(o.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(C=!0)}while((0<I.avail_in||I.avail_out===0)&&_!==c.Z_STREAM_END);return _===c.Z_STREAM_END&&(v=c.Z_FINISH),v===c.Z_FINISH?(_=s.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===c.Z_OK):v!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(I.avail_out=0))},p.prototype.onData=function(h){this.chunks.push(h)},p.prototype.onEnd=function(h){h===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},i.Inflate=p,i.inflate=g,i.inflateRaw=function(h,m){return(m=m||{}).raw=!0,g(h,m)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var u=l.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(c[d]=u[d])}}return c},i.shrinkBuf=function(c,l){return c.length===l?c:c.subarray?c.subarray(0,l):(c.length=l,c)};var o={arraySet:function(c,l,u,d,f){if(l.subarray&&c.subarray)c.set(l.subarray(u,u+d),f);else for(var p=0;p<d;p++)c[f+p]=l[u+p]},flattenChunks:function(c){var l,u,d,f,p,g;for(l=d=0,u=c.length;l<u;l++)d+=c[l].length;for(g=new Uint8Array(d),l=f=0,u=c.length;l<u;l++)p=c[l],g.set(p,f),f+=p.length;return g}},a={arraySet:function(c,l,u,d,f){for(var p=0;p<d;p++)c[f+p]=l[u+p]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var c=new s.Buf8(256),l=0;l<256;l++)c[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(d,f){if(f<65537&&(d.subarray&&a||!d.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(d,f));for(var p="",g=0;g<f;g++)p+=String.fromCharCode(d[g]);return p}c[254]=c[254]=1,i.string2buf=function(d){var f,p,g,h,m,_=d.length,v=0;for(h=0;h<_;h++)(64512&(p=d.charCodeAt(h)))==55296&&h+1<_&&(64512&(g=d.charCodeAt(h+1)))==56320&&(p=65536+(p-55296<<10)+(g-56320),h++),v+=p<128?1:p<2048?2:p<65536?3:4;for(f=new s.Buf8(v),h=m=0;m<v;h++)(64512&(p=d.charCodeAt(h)))==55296&&h+1<_&&(64512&(g=d.charCodeAt(h+1)))==56320&&(p=65536+(p-55296<<10)+(g-56320),h++),p<128?f[m++]=p:(p<2048?f[m++]=192|p>>>6:(p<65536?f[m++]=224|p>>>12:(f[m++]=240|p>>>18,f[m++]=128|p>>>12&63),f[m++]=128|p>>>6&63),f[m++]=128|63&p);return f},i.buf2binstring=function(d){return u(d,d.length)},i.binstring2buf=function(d){for(var f=new s.Buf8(d.length),p=0,g=f.length;p<g;p++)f[p]=d.charCodeAt(p);return f},i.buf2string=function(d,f){var p,g,h,m,_=f||d.length,v=new Array(2*_);for(p=g=0;p<_;)if((h=d[p++])<128)v[g++]=h;else if(4<(m=c[h]))v[g++]=65533,p+=m-1;else{for(h&=m===2?31:m===3?15:7;1<m&&p<_;)h=h<<6|63&d[p++],m--;1<m?v[g++]=65533:h<65536?v[g++]=h:(h-=65536,v[g++]=55296|h>>10&1023,v[g++]=56320|1023&h)}return u(v,g)},i.utf8border=function(d,f){var p;for((f=f||d.length)>d.length&&(f=d.length),p=f-1;0<=p&&(192&d[p])==128;)p--;return p<0||p===0?f:p+c[d[p]]>f?p:f}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,a,c){for(var l=65535&s|0,u=s>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;u=u+(l=l+o[c++]|0)|0,--d;);l%=65521,u%=65521}return l|u<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,a=[],c=0;c<256;c++){o=c;for(var l=0;l<8;l++)o=1&o?3988292384^o>>>1:o>>>1;a[c]=o}return a}();r.exports=function(o,a,c,l){var u=s,d=l+c;o^=-1;for(var f=l;f<d;f++)o=o>>>8^u[255&(o^a[f])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),a=n("./trees"),c=n("./adler32"),l=n("./crc32"),u=n("./messages"),d=0,f=4,p=0,g=-2,h=-1,m=4,_=2,v=8,y=9,b=286,$=30,S=19,I=2*b+1,x=15,A=3,C=258,N=C+A+1,T=42,k=113,E=1,M=2,Y=3,q=4;function ae(w,j){return w.msg=u[j],j}function Z(w){return(w<<1)-(4<w?9:0)}function J(w){for(var j=w.length;0<=--j;)w[j]=0}function F(w){var j=w.state,U=j.pending;U>w.avail_out&&(U=w.avail_out),U!==0&&(o.arraySet(w.output,j.pending_buf,j.pending_out,U,w.next_out),w.next_out+=U,j.pending_out+=U,w.total_out+=U,w.avail_out-=U,j.pending-=U,j.pending===0&&(j.pending_out=0))}function P(w,j){a._tr_flush_block(w,0<=w.block_start?w.block_start:-1,w.strstart-w.block_start,j),w.block_start=w.strstart,F(w.strm)}function ie(w,j){w.pending_buf[w.pending++]=j}function ce(w,j){w.pending_buf[w.pending++]=j>>>8&255,w.pending_buf[w.pending++]=255&j}function te(w,j){var U,O,R=w.max_chain_length,D=w.strstart,X=w.prev_length,Q=w.nice_match,L=w.strstart>w.w_size-N?w.strstart-(w.w_size-N):0,ne=w.window,fe=w.w_mask,G=w.prev,se=w.strstart+C,le=ne[D+X-1],pe=ne[D+X];w.prev_length>=w.good_match&&(R>>=2),Q>w.lookahead&&(Q=w.lookahead);do if(ne[(U=j)+X]===pe&&ne[U+X-1]===le&&ne[U]===ne[D]&&ne[++U]===ne[D+1]){D+=2,U++;do;while(ne[++D]===ne[++U]&&ne[++D]===ne[++U]&&ne[++D]===ne[++U]&&ne[++D]===ne[++U]&&ne[++D]===ne[++U]&&ne[++D]===ne[++U]&&ne[++D]===ne[++U]&&ne[++D]===ne[++U]&&D<se);if(O=C-(se-D),D=se-C,X<O){if(w.match_start=j,Q<=(X=O))break;le=ne[D+X-1],pe=ne[D+X]}}while((j=G[j&fe])>L&&--R!=0);return X<=w.lookahead?X:w.lookahead}function be(w){var j,U,O,R,D,X,Q,L,ne,fe,G=w.w_size;do{if(R=w.window_size-w.lookahead-w.strstart,w.strstart>=G+(G-N)){for(o.arraySet(w.window,w.window,G,G,0),w.match_start-=G,w.strstart-=G,w.block_start-=G,j=U=w.hash_size;O=w.head[--j],w.head[j]=G<=O?O-G:0,--U;);for(j=U=G;O=w.prev[--j],w.prev[j]=G<=O?O-G:0,--U;);R+=G}if(w.strm.avail_in===0)break;if(X=w.strm,Q=w.window,L=w.strstart+w.lookahead,ne=R,fe=void 0,fe=X.avail_in,ne<fe&&(fe=ne),U=fe===0?0:(X.avail_in-=fe,o.arraySet(Q,X.input,X.next_in,fe,L),X.state.wrap===1?X.adler=c(X.adler,Q,fe,L):X.state.wrap===2&&(X.adler=l(X.adler,Q,fe,L)),X.next_in+=fe,X.total_in+=fe,fe),w.lookahead+=U,w.lookahead+w.insert>=A)for(D=w.strstart-w.insert,w.ins_h=w.window[D],w.ins_h=(w.ins_h<<w.hash_shift^w.window[D+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[D+A-1])&w.hash_mask,w.prev[D&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=D,D++,w.insert--,!(w.lookahead+w.insert<A)););}while(w.lookahead<N&&w.strm.avail_in!==0)}function He(w,j){for(var U,O;;){if(w.lookahead<N){if(be(w),w.lookahead<N&&j===d)return E;if(w.lookahead===0)break}if(U=0,w.lookahead>=A&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+A-1])&w.hash_mask,U=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),U!==0&&w.strstart-U<=w.w_size-N&&(w.match_length=te(w,U)),w.match_length>=A)if(O=a._tr_tally(w,w.strstart-w.match_start,w.match_length-A),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=A){for(w.match_length--;w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+A-1])&w.hash_mask,U=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart,--w.match_length!=0;);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else O=a._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(O&&(P(w,!1),w.strm.avail_out===0))return E}return w.insert=w.strstart<A-1?w.strstart:A-1,j===f?(P(w,!0),w.strm.avail_out===0?Y:q):w.last_lit&&(P(w,!1),w.strm.avail_out===0)?E:M}function we(w,j){for(var U,O,R;;){if(w.lookahead<N){if(be(w),w.lookahead<N&&j===d)return E;if(w.lookahead===0)break}if(U=0,w.lookahead>=A&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+A-1])&w.hash_mask,U=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=A-1,U!==0&&w.prev_length<w.max_lazy_match&&w.strstart-U<=w.w_size-N&&(w.match_length=te(w,U),w.match_length<=5&&(w.strategy===1||w.match_length===A&&4096<w.strstart-w.match_start)&&(w.match_length=A-1)),w.prev_length>=A&&w.match_length<=w.prev_length){for(R=w.strstart+w.lookahead-A,O=a._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-A),w.lookahead-=w.prev_length-1,w.prev_length-=2;++w.strstart<=R&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+A-1])&w.hash_mask,U=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),--w.prev_length!=0;);if(w.match_available=0,w.match_length=A-1,w.strstart++,O&&(P(w,!1),w.strm.avail_out===0))return E}else if(w.match_available){if((O=a._tr_tally(w,0,w.window[w.strstart-1]))&&P(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return E}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(O=a._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<A-1?w.strstart:A-1,j===f?(P(w,!0),w.strm.avail_out===0?Y:q):w.last_lit&&(P(w,!1),w.strm.avail_out===0)?E:M}function Se(w,j,U,O,R){this.good_length=w,this.max_lazy=j,this.nice_length=U,this.max_chain=O,this.func=R}function Me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*I),this.dyn_dtree=new o.Buf16(2*(2*$+1)),this.bl_tree=new o.Buf16(2*(2*S+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(x+1),this.heap=new o.Buf16(2*b+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*b+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Le(w){var j;return w&&w.state?(w.total_in=w.total_out=0,w.data_type=_,(j=w.state).pending=0,j.pending_out=0,j.wrap<0&&(j.wrap=-j.wrap),j.status=j.wrap?T:k,w.adler=j.wrap===2?0:1,j.last_flush=d,a._tr_init(j),p):ae(w,g)}function Je(w){var j=Le(w);return j===p&&function(U){U.window_size=2*U.w_size,J(U.head),U.max_lazy_match=s[U.level].max_lazy,U.good_match=s[U.level].good_length,U.nice_match=s[U.level].nice_length,U.max_chain_length=s[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=A-1,U.match_available=0,U.ins_h=0}(w.state),j}function it(w,j,U,O,R,D){if(!w)return g;var X=1;if(j===h&&(j=6),O<0?(X=0,O=-O):15<O&&(X=2,O-=16),R<1||y<R||U!==v||O<8||15<O||j<0||9<j||D<0||m<D)return ae(w,g);O===8&&(O=9);var Q=new Me;return(w.state=Q).strm=w,Q.wrap=X,Q.gzhead=null,Q.w_bits=O,Q.w_size=1<<Q.w_bits,Q.w_mask=Q.w_size-1,Q.hash_bits=R+7,Q.hash_size=1<<Q.hash_bits,Q.hash_mask=Q.hash_size-1,Q.hash_shift=~~((Q.hash_bits+A-1)/A),Q.window=new o.Buf8(2*Q.w_size),Q.head=new o.Buf16(Q.hash_size),Q.prev=new o.Buf16(Q.w_size),Q.lit_bufsize=1<<R+6,Q.pending_buf_size=4*Q.lit_bufsize,Q.pending_buf=new o.Buf8(Q.pending_buf_size),Q.d_buf=1*Q.lit_bufsize,Q.l_buf=3*Q.lit_bufsize,Q.level=j,Q.strategy=D,Q.method=U,Je(w)}s=[new Se(0,0,0,0,function(w,j){var U=65535;for(U>w.pending_buf_size-5&&(U=w.pending_buf_size-5);;){if(w.lookahead<=1){if(be(w),w.lookahead===0&&j===d)return E;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var O=w.block_start+U;if((w.strstart===0||w.strstart>=O)&&(w.lookahead=w.strstart-O,w.strstart=O,P(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-N&&(P(w,!1),w.strm.avail_out===0))return E}return w.insert=0,j===f?(P(w,!0),w.strm.avail_out===0?Y:q):(w.strstart>w.block_start&&(P(w,!1),w.strm.avail_out),E)}),new Se(4,4,8,4,He),new Se(4,5,16,8,He),new Se(4,6,32,32,He),new Se(4,4,16,16,we),new Se(8,16,32,32,we),new Se(8,16,128,128,we),new Se(8,32,128,256,we),new Se(32,128,258,1024,we),new Se(32,258,258,4096,we)],i.deflateInit=function(w,j){return it(w,j,v,15,8,0)},i.deflateInit2=it,i.deflateReset=Je,i.deflateResetKeep=Le,i.deflateSetHeader=function(w,j){return w&&w.state?w.state.wrap!==2?g:(w.state.gzhead=j,p):g},i.deflate=function(w,j){var U,O,R,D;if(!w||!w.state||5<j||j<0)return w?ae(w,g):g;if(O=w.state,!w.output||!w.input&&w.avail_in!==0||O.status===666&&j!==f)return ae(w,w.avail_out===0?-5:g);if(O.strm=w,U=O.last_flush,O.last_flush=j,O.status===T)if(O.wrap===2)w.adler=0,ie(O,31),ie(O,139),ie(O,8),O.gzhead?(ie(O,(O.gzhead.text?1:0)+(O.gzhead.hcrc?2:0)+(O.gzhead.extra?4:0)+(O.gzhead.name?8:0)+(O.gzhead.comment?16:0)),ie(O,255&O.gzhead.time),ie(O,O.gzhead.time>>8&255),ie(O,O.gzhead.time>>16&255),ie(O,O.gzhead.time>>24&255),ie(O,O.level===9?2:2<=O.strategy||O.level<2?4:0),ie(O,255&O.gzhead.os),O.gzhead.extra&&O.gzhead.extra.length&&(ie(O,255&O.gzhead.extra.length),ie(O,O.gzhead.extra.length>>8&255)),O.gzhead.hcrc&&(w.adler=l(w.adler,O.pending_buf,O.pending,0)),O.gzindex=0,O.status=69):(ie(O,0),ie(O,0),ie(O,0),ie(O,0),ie(O,0),ie(O,O.level===9?2:2<=O.strategy||O.level<2?4:0),ie(O,3),O.status=k);else{var X=v+(O.w_bits-8<<4)<<8;X|=(2<=O.strategy||O.level<2?0:O.level<6?1:O.level===6?2:3)<<6,O.strstart!==0&&(X|=32),X+=31-X%31,O.status=k,ce(O,X),O.strstart!==0&&(ce(O,w.adler>>>16),ce(O,65535&w.adler)),w.adler=1}if(O.status===69)if(O.gzhead.extra){for(R=O.pending;O.gzindex<(65535&O.gzhead.extra.length)&&(O.pending!==O.pending_buf_size||(O.gzhead.hcrc&&O.pending>R&&(w.adler=l(w.adler,O.pending_buf,O.pending-R,R)),F(w),R=O.pending,O.pending!==O.pending_buf_size));)ie(O,255&O.gzhead.extra[O.gzindex]),O.gzindex++;O.gzhead.hcrc&&O.pending>R&&(w.adler=l(w.adler,O.pending_buf,O.pending-R,R)),O.gzindex===O.gzhead.extra.length&&(O.gzindex=0,O.status=73)}else O.status=73;if(O.status===73)if(O.gzhead.name){R=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>R&&(w.adler=l(w.adler,O.pending_buf,O.pending-R,R)),F(w),R=O.pending,O.pending===O.pending_buf_size)){D=1;break}D=O.gzindex<O.gzhead.name.length?255&O.gzhead.name.charCodeAt(O.gzindex++):0,ie(O,D)}while(D!==0);O.gzhead.hcrc&&O.pending>R&&(w.adler=l(w.adler,O.pending_buf,O.pending-R,R)),D===0&&(O.gzindex=0,O.status=91)}else O.status=91;if(O.status===91)if(O.gzhead.comment){R=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>R&&(w.adler=l(w.adler,O.pending_buf,O.pending-R,R)),F(w),R=O.pending,O.pending===O.pending_buf_size)){D=1;break}D=O.gzindex<O.gzhead.comment.length?255&O.gzhead.comment.charCodeAt(O.gzindex++):0,ie(O,D)}while(D!==0);O.gzhead.hcrc&&O.pending>R&&(w.adler=l(w.adler,O.pending_buf,O.pending-R,R)),D===0&&(O.status=103)}else O.status=103;if(O.status===103&&(O.gzhead.hcrc?(O.pending+2>O.pending_buf_size&&F(w),O.pending+2<=O.pending_buf_size&&(ie(O,255&w.adler),ie(O,w.adler>>8&255),w.adler=0,O.status=k)):O.status=k),O.pending!==0){if(F(w),w.avail_out===0)return O.last_flush=-1,p}else if(w.avail_in===0&&Z(j)<=Z(U)&&j!==f)return ae(w,-5);if(O.status===666&&w.avail_in!==0)return ae(w,-5);if(w.avail_in!==0||O.lookahead!==0||j!==d&&O.status!==666){var Q=O.strategy===2?function(L,ne){for(var fe;;){if(L.lookahead===0&&(be(L),L.lookahead===0)){if(ne===d)return E;break}if(L.match_length=0,fe=a._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++,fe&&(P(L,!1),L.strm.avail_out===0))return E}return L.insert=0,ne===f?(P(L,!0),L.strm.avail_out===0?Y:q):L.last_lit&&(P(L,!1),L.strm.avail_out===0)?E:M}(O,j):O.strategy===3?function(L,ne){for(var fe,G,se,le,pe=L.window;;){if(L.lookahead<=C){if(be(L),L.lookahead<=C&&ne===d)return E;if(L.lookahead===0)break}if(L.match_length=0,L.lookahead>=A&&0<L.strstart&&(G=pe[se=L.strstart-1])===pe[++se]&&G===pe[++se]&&G===pe[++se]){le=L.strstart+C;do;while(G===pe[++se]&&G===pe[++se]&&G===pe[++se]&&G===pe[++se]&&G===pe[++se]&&G===pe[++se]&&G===pe[++se]&&G===pe[++se]&&se<le);L.match_length=C-(le-se),L.match_length>L.lookahead&&(L.match_length=L.lookahead)}if(L.match_length>=A?(fe=a._tr_tally(L,1,L.match_length-A),L.lookahead-=L.match_length,L.strstart+=L.match_length,L.match_length=0):(fe=a._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++),fe&&(P(L,!1),L.strm.avail_out===0))return E}return L.insert=0,ne===f?(P(L,!0),L.strm.avail_out===0?Y:q):L.last_lit&&(P(L,!1),L.strm.avail_out===0)?E:M}(O,j):s[O.level].func(O,j);if(Q!==Y&&Q!==q||(O.status=666),Q===E||Q===Y)return w.avail_out===0&&(O.last_flush=-1),p;if(Q===M&&(j===1?a._tr_align(O):j!==5&&(a._tr_stored_block(O,0,0,!1),j===3&&(J(O.head),O.lookahead===0&&(O.strstart=0,O.block_start=0,O.insert=0))),F(w),w.avail_out===0))return O.last_flush=-1,p}return j!==f?p:O.wrap<=0?1:(O.wrap===2?(ie(O,255&w.adler),ie(O,w.adler>>8&255),ie(O,w.adler>>16&255),ie(O,w.adler>>24&255),ie(O,255&w.total_in),ie(O,w.total_in>>8&255),ie(O,w.total_in>>16&255),ie(O,w.total_in>>24&255)):(ce(O,w.adler>>>16),ce(O,65535&w.adler)),F(w),0<O.wrap&&(O.wrap=-O.wrap),O.pending!==0?p:1)},i.deflateEnd=function(w){var j;return w&&w.state?(j=w.state.status)!==T&&j!==69&&j!==73&&j!==91&&j!==103&&j!==k&&j!==666?ae(w,g):(w.state=null,j===k?ae(w,-3):p):g},i.deflateSetDictionary=function(w,j){var U,O,R,D,X,Q,L,ne,fe=j.length;if(!w||!w.state||(D=(U=w.state).wrap)===2||D===1&&U.status!==T||U.lookahead)return g;for(D===1&&(w.adler=c(w.adler,j,fe,0)),U.wrap=0,fe>=U.w_size&&(D===0&&(J(U.head),U.strstart=0,U.block_start=0,U.insert=0),ne=new o.Buf8(U.w_size),o.arraySet(ne,j,fe-U.w_size,U.w_size,0),j=ne,fe=U.w_size),X=w.avail_in,Q=w.next_in,L=w.input,w.avail_in=fe,w.next_in=0,w.input=j,be(U);U.lookahead>=A;){for(O=U.strstart,R=U.lookahead-(A-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[O+A-1])&U.hash_mask,U.prev[O&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=O,O++,--R;);U.strstart=O,U.lookahead=A-1,be(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=A-1,U.match_available=0,w.next_in=Q,w.input=L,w.avail_in=X,U.wrap=D,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var a,c,l,u,d,f,p,g,h,m,_,v,y,b,$,S,I,x,A,C,N,T,k,E,M;a=s.state,c=s.next_in,E=s.input,l=c+(s.avail_in-5),u=s.next_out,M=s.output,d=u-(o-s.avail_out),f=u+(s.avail_out-257),p=a.dmax,g=a.wsize,h=a.whave,m=a.wnext,_=a.window,v=a.hold,y=a.bits,b=a.lencode,$=a.distcode,S=(1<<a.lenbits)-1,I=(1<<a.distbits)-1;e:do{y<15&&(v+=E[c++]<<y,y+=8,v+=E[c++]<<y,y+=8),x=b[v&S];t:for(;;){if(v>>>=A=x>>>24,y-=A,(A=x>>>16&255)===0)M[u++]=65535&x;else{if(!(16&A)){if(!(64&A)){x=b[(65535&x)+(v&(1<<A)-1)];continue t}if(32&A){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}C=65535&x,(A&=15)&&(y<A&&(v+=E[c++]<<y,y+=8),C+=v&(1<<A)-1,v>>>=A,y-=A),y<15&&(v+=E[c++]<<y,y+=8,v+=E[c++]<<y,y+=8),x=$[v&I];n:for(;;){if(v>>>=A=x>>>24,y-=A,!(16&(A=x>>>16&255))){if(!(64&A)){x=$[(65535&x)+(v&(1<<A)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(N=65535&x,y<(A&=15)&&(v+=E[c++]<<y,(y+=8)<A&&(v+=E[c++]<<y,y+=8)),p<(N+=v&(1<<A)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(v>>>=A,y-=A,(A=u-d)<N){if(h<(A=N-A)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(k=_,(T=0)===m){if(T+=g-A,A<C){for(C-=A;M[u++]=_[T++],--A;);T=u-N,k=M}}else if(m<A){if(T+=g+m-A,(A-=m)<C){for(C-=A;M[u++]=_[T++],--A;);if(T=0,m<C){for(C-=A=m;M[u++]=_[T++],--A;);T=u-N,k=M}}}else if(T+=m-A,A<C){for(C-=A;M[u++]=_[T++],--A;);T=u-N,k=M}for(;2<C;)M[u++]=k[T++],M[u++]=k[T++],M[u++]=k[T++],C-=3;C&&(M[u++]=k[T++],1<C&&(M[u++]=k[T++]))}else{for(T=u-N;M[u++]=M[T++],M[u++]=M[T++],M[u++]=M[T++],2<(C-=3););C&&(M[u++]=M[T++],1<C&&(M[u++]=M[T++]))}break}}break}}while(c<l&&u<f);c-=C=y>>3,v&=(1<<(y-=C<<3))-1,s.next_in=c,s.next_out=u,s.avail_in=c<l?l-c+5:5-(c-l),s.avail_out=u<f?f-u+257:257-(u-f),a.hold=v,a.bits=y}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),c=n("./inffast"),l=n("./inftrees"),u=1,d=2,f=0,p=-2,g=1,h=852,m=592;function _(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(T){var k;return T&&T.state?(k=T.state,T.total_in=T.total_out=k.total=0,T.msg="",k.wrap&&(T.adler=1&k.wrap),k.mode=g,k.last=0,k.havedict=0,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new s.Buf32(h),k.distcode=k.distdyn=new s.Buf32(m),k.sane=1,k.back=-1,f):p}function b(T){var k;return T&&T.state?((k=T.state).wsize=0,k.whave=0,k.wnext=0,y(T)):p}function $(T,k){var E,M;return T&&T.state?(M=T.state,k<0?(E=0,k=-k):(E=1+(k>>4),k<48&&(k&=15)),k&&(k<8||15<k)?p:(M.window!==null&&M.wbits!==k&&(M.window=null),M.wrap=E,M.wbits=k,b(T))):p}function S(T,k){var E,M;return T?(M=new v,(T.state=M).window=null,(E=$(T,k))!==f&&(T.state=null),E):p}var I,x,A=!0;function C(T){if(A){var k;for(I=new s.Buf32(512),x=new s.Buf32(32),k=0;k<144;)T.lens[k++]=8;for(;k<256;)T.lens[k++]=9;for(;k<280;)T.lens[k++]=7;for(;k<288;)T.lens[k++]=8;for(l(u,T.lens,0,288,I,0,T.work,{bits:9}),k=0;k<32;)T.lens[k++]=5;l(d,T.lens,0,32,x,0,T.work,{bits:5}),A=!1}T.lencode=I,T.lenbits=9,T.distcode=x,T.distbits=5}function N(T,k,E,M){var Y,q=T.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new s.Buf8(q.wsize)),M>=q.wsize?(s.arraySet(q.window,k,E-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(M<(Y=q.wsize-q.wnext)&&(Y=M),s.arraySet(q.window,k,E-M,Y,q.wnext),(M-=Y)?(s.arraySet(q.window,k,E-M,M,0),q.wnext=M,q.whave=q.wsize):(q.wnext+=Y,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=Y))),0}i.inflateReset=b,i.inflateReset2=$,i.inflateResetKeep=y,i.inflateInit=function(T){return S(T,15)},i.inflateInit2=S,i.inflate=function(T,k){var E,M,Y,q,ae,Z,J,F,P,ie,ce,te,be,He,we,Se,Me,Le,Je,it,w,j,U,O,R=0,D=new s.Buf8(4),X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return p;(E=T.state).mode===12&&(E.mode=13),ae=T.next_out,Y=T.output,J=T.avail_out,q=T.next_in,M=T.input,Z=T.avail_in,F=E.hold,P=E.bits,ie=Z,ce=J,j=f;e:for(;;)switch(E.mode){case g:if(E.wrap===0){E.mode=13;break}for(;P<16;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}if(2&E.wrap&&F===35615){D[E.check=0]=255&F,D[1]=F>>>8&255,E.check=a(E.check,D,2,0),P=F=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&F)<<8)+(F>>8))%31){T.msg="incorrect header check",E.mode=30;break}if((15&F)!=8){T.msg="unknown compression method",E.mode=30;break}if(P-=4,w=8+(15&(F>>>=4)),E.wbits===0)E.wbits=w;else if(w>E.wbits){T.msg="invalid window size",E.mode=30;break}E.dmax=1<<w,T.adler=E.check=1,E.mode=512&F?10:12,P=F=0;break;case 2:for(;P<16;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}if(E.flags=F,(255&E.flags)!=8){T.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){T.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=F>>8&1),512&E.flags&&(D[0]=255&F,D[1]=F>>>8&255,E.check=a(E.check,D,2,0)),P=F=0,E.mode=3;case 3:for(;P<32;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}E.head&&(E.head.time=F),512&E.flags&&(D[0]=255&F,D[1]=F>>>8&255,D[2]=F>>>16&255,D[3]=F>>>24&255,E.check=a(E.check,D,4,0)),P=F=0,E.mode=4;case 4:for(;P<16;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}E.head&&(E.head.xflags=255&F,E.head.os=F>>8),512&E.flags&&(D[0]=255&F,D[1]=F>>>8&255,E.check=a(E.check,D,2,0)),P=F=0,E.mode=5;case 5:if(1024&E.flags){for(;P<16;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}E.length=F,E.head&&(E.head.extra_len=F),512&E.flags&&(D[0]=255&F,D[1]=F>>>8&255,E.check=a(E.check,D,2,0)),P=F=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(Z<(te=E.length)&&(te=Z),te&&(E.head&&(w=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),s.arraySet(E.head.extra,M,q,te,w)),512&E.flags&&(E.check=a(E.check,M,te,q)),Z-=te,q+=te,E.length-=te),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(Z===0)break e;for(te=0;w=M[q+te++],E.head&&w&&E.length<65536&&(E.head.name+=String.fromCharCode(w)),w&&te<Z;);if(512&E.flags&&(E.check=a(E.check,M,te,q)),Z-=te,q+=te,w)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(Z===0)break e;for(te=0;w=M[q+te++],E.head&&w&&E.length<65536&&(E.head.comment+=String.fromCharCode(w)),w&&te<Z;);if(512&E.flags&&(E.check=a(E.check,M,te,q)),Z-=te,q+=te,w)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;P<16;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}if(F!==(65535&E.check)){T.msg="header crc mismatch",E.mode=30;break}P=F=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),T.adler=E.check=0,E.mode=12;break;case 10:for(;P<32;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}T.adler=E.check=_(F),P=F=0,E.mode=11;case 11:if(E.havedict===0)return T.next_out=ae,T.avail_out=J,T.next_in=q,T.avail_in=Z,E.hold=F,E.bits=P,2;T.adler=E.check=1,E.mode=12;case 12:if(k===5||k===6)break e;case 13:if(E.last){F>>>=7&P,P-=7&P,E.mode=27;break}for(;P<3;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}switch(E.last=1&F,P-=1,3&(F>>>=1)){case 0:E.mode=14;break;case 1:if(C(E),E.mode=20,k!==6)break;F>>>=2,P-=2;break e;case 2:E.mode=17;break;case 3:T.msg="invalid block type",E.mode=30}F>>>=2,P-=2;break;case 14:for(F>>>=7&P,P-=7&P;P<32;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}if((65535&F)!=(F>>>16^65535)){T.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&F,P=F=0,E.mode=15,k===6)break e;case 15:E.mode=16;case 16:if(te=E.length){if(Z<te&&(te=Z),J<te&&(te=J),te===0)break e;s.arraySet(Y,M,q,te,ae),Z-=te,q+=te,J-=te,ae+=te,E.length-=te;break}E.mode=12;break;case 17:for(;P<14;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}if(E.nlen=257+(31&F),F>>>=5,P-=5,E.ndist=1+(31&F),F>>>=5,P-=5,E.ncode=4+(15&F),F>>>=4,P-=4,286<E.nlen||30<E.ndist){T.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;P<3;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}E.lens[X[E.have++]]=7&F,F>>>=3,P-=3}for(;E.have<19;)E.lens[X[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,U={bits:E.lenbits},j=l(0,E.lens,0,19,E.lencode,0,E.work,U),E.lenbits=U.bits,j){T.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;Se=(R=E.lencode[F&(1<<E.lenbits)-1])>>>16&255,Me=65535&R,!((we=R>>>24)<=P);){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}if(Me<16)F>>>=we,P-=we,E.lens[E.have++]=Me;else{if(Me===16){for(O=we+2;P<O;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}if(F>>>=we,P-=we,E.have===0){T.msg="invalid bit length repeat",E.mode=30;break}w=E.lens[E.have-1],te=3+(3&F),F>>>=2,P-=2}else if(Me===17){for(O=we+3;P<O;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}P-=we,w=0,te=3+(7&(F>>>=we)),F>>>=3,P-=3}else{for(O=we+7;P<O;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}P-=we,w=0,te=11+(127&(F>>>=we)),F>>>=7,P-=7}if(E.have+te>E.nlen+E.ndist){T.msg="invalid bit length repeat",E.mode=30;break}for(;te--;)E.lens[E.have++]=w}}if(E.mode===30)break;if(E.lens[256]===0){T.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,U={bits:E.lenbits},j=l(u,E.lens,0,E.nlen,E.lencode,0,E.work,U),E.lenbits=U.bits,j){T.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,U={bits:E.distbits},j=l(d,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,U),E.distbits=U.bits,j){T.msg="invalid distances set",E.mode=30;break}if(E.mode=20,k===6)break e;case 20:E.mode=21;case 21:if(6<=Z&&258<=J){T.next_out=ae,T.avail_out=J,T.next_in=q,T.avail_in=Z,E.hold=F,E.bits=P,c(T,ce),ae=T.next_out,Y=T.output,J=T.avail_out,q=T.next_in,M=T.input,Z=T.avail_in,F=E.hold,P=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;Se=(R=E.lencode[F&(1<<E.lenbits)-1])>>>16&255,Me=65535&R,!((we=R>>>24)<=P);){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}if(Se&&!(240&Se)){for(Le=we,Je=Se,it=Me;Se=(R=E.lencode[it+((F&(1<<Le+Je)-1)>>Le)])>>>16&255,Me=65535&R,!(Le+(we=R>>>24)<=P);){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}F>>>=Le,P-=Le,E.back+=Le}if(F>>>=we,P-=we,E.back+=we,E.length=Me,Se===0){E.mode=26;break}if(32&Se){E.back=-1,E.mode=12;break}if(64&Se){T.msg="invalid literal/length code",E.mode=30;break}E.extra=15&Se,E.mode=22;case 22:if(E.extra){for(O=E.extra;P<O;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}E.length+=F&(1<<E.extra)-1,F>>>=E.extra,P-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;Se=(R=E.distcode[F&(1<<E.distbits)-1])>>>16&255,Me=65535&R,!((we=R>>>24)<=P);){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}if(!(240&Se)){for(Le=we,Je=Se,it=Me;Se=(R=E.distcode[it+((F&(1<<Le+Je)-1)>>Le)])>>>16&255,Me=65535&R,!(Le+(we=R>>>24)<=P);){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}F>>>=Le,P-=Le,E.back+=Le}if(F>>>=we,P-=we,E.back+=we,64&Se){T.msg="invalid distance code",E.mode=30;break}E.offset=Me,E.extra=15&Se,E.mode=24;case 24:if(E.extra){for(O=E.extra;P<O;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}E.offset+=F&(1<<E.extra)-1,F>>>=E.extra,P-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){T.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(J===0)break e;if(te=ce-J,E.offset>te){if((te=E.offset-te)>E.whave&&E.sane){T.msg="invalid distance too far back",E.mode=30;break}be=te>E.wnext?(te-=E.wnext,E.wsize-te):E.wnext-te,te>E.length&&(te=E.length),He=E.window}else He=Y,be=ae-E.offset,te=E.length;for(J<te&&(te=J),J-=te,E.length-=te;Y[ae++]=He[be++],--te;);E.length===0&&(E.mode=21);break;case 26:if(J===0)break e;Y[ae++]=E.length,J--,E.mode=21;break;case 27:if(E.wrap){for(;P<32;){if(Z===0)break e;Z--,F|=M[q++]<<P,P+=8}if(ce-=J,T.total_out+=ce,E.total+=ce,ce&&(T.adler=E.check=E.flags?a(E.check,Y,ce,ae-ce):o(E.check,Y,ce,ae-ce)),ce=J,(E.flags?F:_(F))!==E.check){T.msg="incorrect data check",E.mode=30;break}P=F=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;P<32;){if(Z===0)break e;Z--,F+=M[q++]<<P,P+=8}if(F!==(4294967295&E.total)){T.msg="incorrect length check",E.mode=30;break}P=F=0}E.mode=29;case 29:j=1;break e;case 30:j=-3;break e;case 31:return-4;case 32:default:return p}return T.next_out=ae,T.avail_out=J,T.next_in=q,T.avail_in=Z,E.hold=F,E.bits=P,(E.wsize||ce!==T.avail_out&&E.mode<30&&(E.mode<27||k!==4))&&N(T,T.output,T.next_out,ce-T.avail_out)?(E.mode=31,-4):(ie-=T.avail_in,ce-=T.avail_out,T.total_in+=ie,T.total_out+=ce,E.total+=ce,E.wrap&&ce&&(T.adler=E.check=E.flags?a(E.check,Y,ce,T.next_out-ce):o(E.check,Y,ce,T.next_out-ce)),T.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(ie==0&&ce===0||k===4)&&j===f&&(j=-5),j)},i.inflateEnd=function(T){if(!T||!T.state)return p;var k=T.state;return k.window&&(k.window=null),T.state=null,f},i.inflateGetHeader=function(T,k){var E;return T&&T.state&&2&(E=T.state).wrap?((E.head=k).done=!1,f):p},i.inflateSetDictionary=function(T,k){var E,M=k.length;return T&&T.state?(E=T.state).wrap!==0&&E.mode!==11?p:E.mode===11&&o(1,k,M,0)!==E.check?-3:N(T,k,M,M)?(E.mode=31,-4):(E.havedict=1,f):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(u,d,f,p,g,h,m,_){var v,y,b,$,S,I,x,A,C,N=_.bits,T=0,k=0,E=0,M=0,Y=0,q=0,ae=0,Z=0,J=0,F=0,P=null,ie=0,ce=new s.Buf16(16),te=new s.Buf16(16),be=null,He=0;for(T=0;T<=15;T++)ce[T]=0;for(k=0;k<p;k++)ce[d[f+k]]++;for(Y=N,M=15;1<=M&&ce[M]===0;M--);if(M<Y&&(Y=M),M===0)return g[h++]=20971520,g[h++]=20971520,_.bits=1,0;for(E=1;E<M&&ce[E]===0;E++);for(Y<E&&(Y=E),T=Z=1;T<=15;T++)if(Z<<=1,(Z-=ce[T])<0)return-1;if(0<Z&&(u===0||M!==1))return-1;for(te[1]=0,T=1;T<15;T++)te[T+1]=te[T]+ce[T];for(k=0;k<p;k++)d[f+k]!==0&&(m[te[d[f+k]]++]=k);if(I=u===0?(P=be=m,19):u===1?(P=o,ie-=257,be=a,He-=257,256):(P=c,be=l,-1),T=E,S=h,ae=k=F=0,b=-1,$=(J=1<<(q=Y))-1,u===1&&852<J||u===2&&592<J)return 1;for(;;){for(x=T-ae,C=m[k]<I?(A=0,m[k]):m[k]>I?(A=be[He+m[k]],P[ie+m[k]]):(A=96,0),v=1<<T-ae,E=y=1<<q;g[S+(F>>ae)+(y-=v)]=x<<24|A<<16|C|0,y!==0;);for(v=1<<T-1;F&v;)v>>=1;if(v!==0?(F&=v-1,F+=v):F=0,k++,--ce[T]==0){if(T===M)break;T=d[f+m[k]]}if(Y<T&&(F&$)!==b){for(ae===0&&(ae=Y),S+=E,Z=1<<(q=T-ae);q+ae<M&&!((Z-=ce[q+ae])<=0);)q++,Z<<=1;if(J+=1<<q,u===1&&852<J||u===2&&592<J)return 1;g[b=F&$]=Y<<24|q<<16|S-h|0}}return F!==0&&(g[S+F]=T-ae<<24|64<<16|0),_.bits=Y,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,a=1;function c(R){for(var D=R.length;0<=--D;)R[D]=0}var l=0,u=29,d=256,f=d+1+u,p=30,g=19,h=2*f+1,m=15,_=16,v=7,y=256,b=16,$=17,S=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],x=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],N=new Array(2*(f+2));c(N);var T=new Array(2*p);c(T);var k=new Array(512);c(k);var E=new Array(256);c(E);var M=new Array(u);c(M);var Y,q,ae,Z=new Array(p);function J(R,D,X,Q,L){this.static_tree=R,this.extra_bits=D,this.extra_base=X,this.elems=Q,this.max_length=L,this.has_stree=R&&R.length}function F(R,D){this.dyn_tree=R,this.max_code=0,this.stat_desc=D}function P(R){return R<256?k[R]:k[256+(R>>>7)]}function ie(R,D){R.pending_buf[R.pending++]=255&D,R.pending_buf[R.pending++]=D>>>8&255}function ce(R,D,X){R.bi_valid>_-X?(R.bi_buf|=D<<R.bi_valid&65535,ie(R,R.bi_buf),R.bi_buf=D>>_-R.bi_valid,R.bi_valid+=X-_):(R.bi_buf|=D<<R.bi_valid&65535,R.bi_valid+=X)}function te(R,D,X){ce(R,X[2*D],X[2*D+1])}function be(R,D){for(var X=0;X|=1&R,R>>>=1,X<<=1,0<--D;);return X>>>1}function He(R,D,X){var Q,L,ne=new Array(m+1),fe=0;for(Q=1;Q<=m;Q++)ne[Q]=fe=fe+X[Q-1]<<1;for(L=0;L<=D;L++){var G=R[2*L+1];G!==0&&(R[2*L]=be(ne[G]++,G))}}function we(R){var D;for(D=0;D<f;D++)R.dyn_ltree[2*D]=0;for(D=0;D<p;D++)R.dyn_dtree[2*D]=0;for(D=0;D<g;D++)R.bl_tree[2*D]=0;R.dyn_ltree[2*y]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function Se(R){8<R.bi_valid?ie(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function Me(R,D,X,Q){var L=2*D,ne=2*X;return R[L]<R[ne]||R[L]===R[ne]&&Q[D]<=Q[X]}function Le(R,D,X){for(var Q=R.heap[X],L=X<<1;L<=R.heap_len&&(L<R.heap_len&&Me(D,R.heap[L+1],R.heap[L],R.depth)&&L++,!Me(D,Q,R.heap[L],R.depth));)R.heap[X]=R.heap[L],X=L,L<<=1;R.heap[X]=Q}function Je(R,D,X){var Q,L,ne,fe,G=0;if(R.last_lit!==0)for(;Q=R.pending_buf[R.d_buf+2*G]<<8|R.pending_buf[R.d_buf+2*G+1],L=R.pending_buf[R.l_buf+G],G++,Q===0?te(R,L,D):(te(R,(ne=E[L])+d+1,D),(fe=I[ne])!==0&&ce(R,L-=M[ne],fe),te(R,ne=P(--Q),X),(fe=x[ne])!==0&&ce(R,Q-=Z[ne],fe)),G<R.last_lit;);te(R,y,D)}function it(R,D){var X,Q,L,ne=D.dyn_tree,fe=D.stat_desc.static_tree,G=D.stat_desc.has_stree,se=D.stat_desc.elems,le=-1;for(R.heap_len=0,R.heap_max=h,X=0;X<se;X++)ne[2*X]!==0?(R.heap[++R.heap_len]=le=X,R.depth[X]=0):ne[2*X+1]=0;for(;R.heap_len<2;)ne[2*(L=R.heap[++R.heap_len]=le<2?++le:0)]=1,R.depth[L]=0,R.opt_len--,G&&(R.static_len-=fe[2*L+1]);for(D.max_code=le,X=R.heap_len>>1;1<=X;X--)Le(R,ne,X);for(L=se;X=R.heap[1],R.heap[1]=R.heap[R.heap_len--],Le(R,ne,1),Q=R.heap[1],R.heap[--R.heap_max]=X,R.heap[--R.heap_max]=Q,ne[2*L]=ne[2*X]+ne[2*Q],R.depth[L]=(R.depth[X]>=R.depth[Q]?R.depth[X]:R.depth[Q])+1,ne[2*X+1]=ne[2*Q+1]=L,R.heap[1]=L++,Le(R,ne,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],function(pe,Qe){var ct,Ee,_e,Ce,V,ee,K=Qe.dyn_tree,re=Qe.max_code,he=Qe.stat_desc.static_tree,ge=Qe.stat_desc.has_stree,xe=Qe.stat_desc.extra_bits,_t=Qe.stat_desc.extra_base,It=Qe.stat_desc.max_length,xr=0;for(Ce=0;Ce<=m;Ce++)pe.bl_count[Ce]=0;for(K[2*pe.heap[pe.heap_max]+1]=0,ct=pe.heap_max+1;ct<h;ct++)It<(Ce=K[2*K[2*(Ee=pe.heap[ct])+1]+1]+1)&&(Ce=It,xr++),K[2*Ee+1]=Ce,re<Ee||(pe.bl_count[Ce]++,V=0,_t<=Ee&&(V=xe[Ee-_t]),ee=K[2*Ee],pe.opt_len+=ee*(Ce+V),ge&&(pe.static_len+=ee*(he[2*Ee+1]+V)));if(xr!==0){do{for(Ce=It-1;pe.bl_count[Ce]===0;)Ce--;pe.bl_count[Ce]--,pe.bl_count[Ce+1]+=2,pe.bl_count[It]--,xr-=2}while(0<xr);for(Ce=It;Ce!==0;Ce--)for(Ee=pe.bl_count[Ce];Ee!==0;)re<(_e=pe.heap[--ct])||(K[2*_e+1]!==Ce&&(pe.opt_len+=(Ce-K[2*_e+1])*K[2*_e],K[2*_e+1]=Ce),Ee--)}}(R,D),He(ne,le,R.bl_count)}function w(R,D,X){var Q,L,ne=-1,fe=D[1],G=0,se=7,le=4;for(fe===0&&(se=138,le=3),D[2*(X+1)+1]=65535,Q=0;Q<=X;Q++)L=fe,fe=D[2*(Q+1)+1],++G<se&&L===fe||(G<le?R.bl_tree[2*L]+=G:L!==0?(L!==ne&&R.bl_tree[2*L]++,R.bl_tree[2*b]++):G<=10?R.bl_tree[2*$]++:R.bl_tree[2*S]++,ne=L,le=(G=0)===fe?(se=138,3):L===fe?(se=6,3):(se=7,4))}function j(R,D,X){var Q,L,ne=-1,fe=D[1],G=0,se=7,le=4;for(fe===0&&(se=138,le=3),Q=0;Q<=X;Q++)if(L=fe,fe=D[2*(Q+1)+1],!(++G<se&&L===fe)){if(G<le)for(;te(R,L,R.bl_tree),--G!=0;);else L!==0?(L!==ne&&(te(R,L,R.bl_tree),G--),te(R,b,R.bl_tree),ce(R,G-3,2)):G<=10?(te(R,$,R.bl_tree),ce(R,G-3,3)):(te(R,S,R.bl_tree),ce(R,G-11,7));ne=L,le=(G=0)===fe?(se=138,3):L===fe?(se=6,3):(se=7,4)}}c(Z);var U=!1;function O(R,D,X,Q){ce(R,(l<<1)+(Q?1:0),3),function(L,ne,fe,G){Se(L),G&&(ie(L,fe),ie(L,~fe)),s.arraySet(L.pending_buf,L.window,ne,fe,L.pending),L.pending+=fe}(R,D,X,!0)}i._tr_init=function(R){U||(function(){var D,X,Q,L,ne,fe=new Array(m+1);for(L=Q=0;L<u-1;L++)for(M[L]=Q,D=0;D<1<<I[L];D++)E[Q++]=L;for(E[Q-1]=L,L=ne=0;L<16;L++)for(Z[L]=ne,D=0;D<1<<x[L];D++)k[ne++]=L;for(ne>>=7;L<p;L++)for(Z[L]=ne<<7,D=0;D<1<<x[L]-7;D++)k[256+ne++]=L;for(X=0;X<=m;X++)fe[X]=0;for(D=0;D<=143;)N[2*D+1]=8,D++,fe[8]++;for(;D<=255;)N[2*D+1]=9,D++,fe[9]++;for(;D<=279;)N[2*D+1]=7,D++,fe[7]++;for(;D<=287;)N[2*D+1]=8,D++,fe[8]++;for(He(N,f+1,fe),D=0;D<p;D++)T[2*D+1]=5,T[2*D]=be(D,5);Y=new J(N,I,d+1,f,m),q=new J(T,x,0,p,m),ae=new J(new Array(0),A,0,g,v)}(),U=!0),R.l_desc=new F(R.dyn_ltree,Y),R.d_desc=new F(R.dyn_dtree,q),R.bl_desc=new F(R.bl_tree,ae),R.bi_buf=0,R.bi_valid=0,we(R)},i._tr_stored_block=O,i._tr_flush_block=function(R,D,X,Q){var L,ne,fe=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=function(G){var se,le=4093624447;for(se=0;se<=31;se++,le>>>=1)if(1&le&&G.dyn_ltree[2*se]!==0)return o;if(G.dyn_ltree[18]!==0||G.dyn_ltree[20]!==0||G.dyn_ltree[26]!==0)return a;for(se=32;se<d;se++)if(G.dyn_ltree[2*se]!==0)return a;return o}(R)),it(R,R.l_desc),it(R,R.d_desc),fe=function(G){var se;for(w(G,G.dyn_ltree,G.l_desc.max_code),w(G,G.dyn_dtree,G.d_desc.max_code),it(G,G.bl_desc),se=g-1;3<=se&&G.bl_tree[2*C[se]+1]===0;se--);return G.opt_len+=3*(se+1)+5+5+4,se}(R),L=R.opt_len+3+7>>>3,(ne=R.static_len+3+7>>>3)<=L&&(L=ne)):L=ne=X+5,X+4<=L&&D!==-1?O(R,D,X,Q):R.strategy===4||ne===L?(ce(R,2+(Q?1:0),3),Je(R,N,T)):(ce(R,4+(Q?1:0),3),function(G,se,le,pe){var Qe;for(ce(G,se-257,5),ce(G,le-1,5),ce(G,pe-4,4),Qe=0;Qe<pe;Qe++)ce(G,G.bl_tree[2*C[Qe]+1],3);j(G,G.dyn_ltree,se-1),j(G,G.dyn_dtree,le-1)}(R,R.l_desc.max_code+1,R.d_desc.max_code+1,fe+1),Je(R,R.dyn_ltree,R.dyn_dtree)),we(R),Q&&Se(R)},i._tr_tally=function(R,D,X){return R.pending_buf[R.d_buf+2*R.last_lit]=D>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&D,R.pending_buf[R.l_buf+R.last_lit]=255&X,R.last_lit++,D===0?R.dyn_ltree[2*X]++:(R.matches++,D--,R.dyn_ltree[2*(E[X]+d+1)]++,R.dyn_dtree[2*P(D)]++),R.last_lit===R.lit_bufsize-1},i._tr_align=function(R){ce(R,2,3),te(R,y,N),function(D){D.bi_valid===16?(ie(D,D.bi_buf),D.bi_buf=0,D.bi_valid=0):8<=D.bi_valid&&(D.pending_buf[D.pending++]=255&D.bi_buf,D.bi_buf>>=8,D.bi_valid-=8)}(R)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,a){if(!o.setImmediate){var c,l,u,d,f=1,p={},g=!1,h=o.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(o);m=m&&m.setTimeout?m:o,c={}.toString.call(o.process)==="[object process]"?function(b){process.nextTick(function(){v(b)})}:function(){if(o.postMessage&&!o.importScripts){var b=!0,$=o.onmessage;return o.onmessage=function(){b=!1},o.postMessage("","*"),o.onmessage=$,b}}()?(d="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",y,!1):o.attachEvent("onmessage",y),function(b){o.postMessage(d+b,"*")}):o.MessageChannel?((u=new MessageChannel).port1.onmessage=function(b){v(b.data)},function(b){u.port2.postMessage(b)}):h&&"onreadystatechange"in h.createElement("script")?(l=h.documentElement,function(b){var $=h.createElement("script");$.onreadystatechange=function(){v(b),$.onreadystatechange=null,l.removeChild($),$=null},l.appendChild($)}):function(b){setTimeout(v,0,b)},m.setImmediate=function(b){typeof b!="function"&&(b=new Function(""+b));for(var $=new Array(arguments.length-1),S=0;S<$.length;S++)$[S]=arguments[S+1];var I={callback:b,args:$};return p[f]=I,c(f),f++},m.clearImmediate=_}function _(b){delete p[b]}function v(b){if(g)setTimeout(v,0,b);else{var $=p[b];if($){g=!0;try{(function(S){var I=S.callback,x=S.args;switch(x.length){case 0:I();break;case 1:I(x[0]);break;case 2:I(x[0],x[1]);break;case 3:I(x[0],x[1],x[2]);break;default:I.apply(a,x)}})($)}finally{_(b),g=!1}}}}function y(b){b.source===o&&typeof b.data=="string"&&b.data.indexOf(d)===0&&v(+b.data.slice(d.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof wo<"u"?wo:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(B$);var yj=B$.exports;const bj=n2(yj),wj='"../../variables.css"',Ej="#00b27c",$j="#1a602e",Sj="_page_18q4h_4",Ij="_uploader_18q4h_13",Tj="_infoPage_18q4h_19",xj="_exportBox_18q4h_27",Aj="_exportText_18q4h_36",Rj="_exportButton_18q4h_40",Cj="_icon_18q4h_49",wi={colors:wj,primary_1:Ej,primary_2:$j,page:Sj,uploader:Ij,infoPage:Tj,exportBox:xj,exportText:Aj,exportButton:Rj,icon:Cj},Oj='"../variables.css"',kj="#1a602e",Nj="#134741",Pj="_container_16did_4",Dj="_input_16did_21",Kv={colors:Oj,primary_2:kj,primary_3:Nj,container:Pj,input:Dj},Mj=(e,t)=>{var i;const[n]=Ze(),r=(i=t.files)==null?void 0:i[0];r&&(n.value.value=Ea(r))},Lj=e=>{const t=ue(Mj,"s_gO2bZtGAV4E",[e]);return W("div",{class:[Kv.container,e.class]},null,[W("label",null,null,xt(n=>n.label,[e],"p0.label"),3,null),W("input",null,{class:Kv.input,onChange$:t,type:"file"},null,3,null)],3,"RO_0")},Fj=Re(ue(Lj,"s_wQHnyzy6fm0")),Uj=e=>Ke(St,{children:Ke("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"-2.4 -2.4 28.8 28.8"},e,{children:Ke("g",{stroke:"#1C274C",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:".384",children:Ke("path",{d:"M3 15c0 2.828 0 4.243.879 5.121C4.757 21 6.172 21 9 21h6c2.828 0 4.243 0 5.121-.879C21 19.243 21 17.828 21 15M12 3v13m0 0 4-4.375M12 16l-4-4.375"})})}))});async function z$(e,t){const r=await new uj(new I$(e)).getEntries({});if(r.length>0){const i=r.find(u=>u.filename.includes("data.json"));if(!(i!=null&&i.getData))throw new Error("no data");const s=new zW,o=await i.getData(s),a=JSON.parse(o),c=new Set(a.recipes.map(u=>u.image).filter(Boolean));await Fn.saveUserData(t,a);const l=r.filter(u=>c.has(ii.last(u.filename.split("/"))));await Promise.all(l.map(async u=>{const d=ii.last(u.filename.split("/")),f=new T$;if(!u.getData)return;const p=await u.getData(f);await Fn.saveImage(t,d,p)}))}}function Bj(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}function zj(e,t){const n=document.createElementNS("http://www.w3.org/1999/xhtml","a");t=t||e.name||"download",n.download=t,n.rel="noopener",n.href=URL.createObjectURL(e),setTimeout(()=>{URL.revokeObjectURL(n.href)},4e4),setTimeout(()=>{Bj(n)},0)}async function q$(e){const t=await Fn.downloadRecipes(e.id),n=new bj;n.file("data.json",JSON.stringify({recipes:t}));for(const i of t)if(i.image){const s=await Fn.downloadImage(e.id,i.image);n.file(i.image,s)}const r=await n.generateAsync({type:"blob"});zj(r,`${e.fullName}.tastoria`)}const qj=()=>{const[e]=Ze();return q$(e.user.value)},Wj=()=>{const e=qe(Bs),t=ue(qj,"s_EGimzIijxCA",[e]);return W("div",null,{class:wi.exportBox},[W("span",null,{class:wi.exportText},$localize`pages.import.export_placeholder`,1,null),de(si,{get class(){return[wi.exportButton]},children:de(Uj,{get class(){return[wi.icon]},[H]:{class:H}},3,"Cc_0"),onClick:t,[H]:{class:H,onClick:H}},1,"Cc_1")],1,"Cc_2")},W$=Re(ue(Wj,"s_GHDEXlv2GLM")),jj=()=>{const e=qe(Bs),t=Et();return t.value&&z$(t.value,e.user.value),de(St,{children:W("div",null,{class:wi.page},[W("div",null,{class:wi.infoPage},de(W$,null,3,"Cc_3"),1,null),de(Fj,{get class(){return wi.uploader},label:$localize`pages.import.fileInput_placeholder`,value:t,[H]:{class:H,value:H}},3,"Cc_4")],1,null)},1,"Cc_5")},Vj=Re(ue(jj,"s_O0Sc6Ea7bGc")),Hj={title:$localize`pages.import.head_title`},Gj=Object.freeze(Object.defineProperty({__proto__:null,_auto_Export:W$,_auto_exportBackup:q$,_auto_uploadFile:z$,default:Vj,head:Hj},Symbol.toStringTag,{value:"Module"})),Yj='"../../variables.css"',Kj="#1a602e",Xj="#c00026",Qj="_page_17jwd_4",Zj="_header_17jwd_13",Jj="_error_17jwd_18",eV="_content_17jwd_25",tV="_input_17jwd_32",nV="_loginBtn_17jwd_36",rV="_footer_17jwd_42",iV="_providers_17jwd_46",sV="_hints_17jwd_58",oV="_signUpLink_17jwd_65",dn={colors:Yj,primary_2:Kj,error_1:Xj,page:Qj,header:Zj,error:Jj,content:eV,input:tV,loginBtn:nV,footer:rV,providers:iV,hints:sV,signUpLink:oV},aV="/build/q-A-urYXXE.webp 200w, /build/q-PLKUaGRy.webp 256w",cV=256,lV=256,uV={srcSet:aV,width:cV,height:lV};function j$(e,t,n,r){return W("img",{decoding:"async",loading:"lazy",...e},uV,void 0,3,t)}const dV=async(e,{cookie:t,redirect:n})=>{throw t.set("tastoria.session",e,{path:"/",maxAge:[365,"days"],sameSite:"strict"}),n(302,"/recipes")},V$=Bn(ue(dV,"s_Z5hVdn9I68E")),fV=async()=>{const[e,t,n]=Ze(),r=await Fn.signIn({email:t.value,password:n.value});e.submit(r)},hV=()=>{const[e,t,n,r,i]=Ze();return Am(ue(fV,"s_bYD902tMjls",[e,n,i]),{app:t,signals:{main:r}})},pV=async()=>{const[e]=Ze(),t=await Fn.googleSignIn();e.submit(t)},mV=async()=>{const[e,t,n]=Ze();Am(ue(pV,"s_ihI0IHnmX4E",[e]),{app:t,signals:{main:n}})},_V=()=>{const e=ui(),t=V$(),n=e.url.searchParams.get("email"),r=Et(n||""),i=Et(""),s=qe(Vi),o=Et(""),a=ue(hV,"s_zVIe11ETelE",[t,s,r,o,i]),c=ue(mV,"s_3vMiuQNycGQ",[t,s,o]);return de(St,{children:W("div",null,{class:dn.page},[W("div",null,{class:dn.header},[W("h1",null,null,$localize`pages.login.title`,1,null),W("h2",null,null,$localize`pages.login.subtitle`,1,null),W("p",null,{class:dn.error},o,3,null)],1,null),W("div",null,{class:dn.content},[de(Es,{label:$localize`pages.login.email_key`,type:"email",value:r,get class(){return dn.input},[H]:{class:H,type:H,value:H}},3,"6X_0"),de(Es,{label:$localize`pages.login.password_key`,type:"password",value:i,get class(){return dn.input},[H]:{class:H,type:H,value:H}},3,"6X_1"),W("div",null,{class:dn.hints},de(jo,{get class(){return dn.signUpLink},children:$localize`pages.login.forgot_password`,href:"/forgot_password",prefetch:!0,[H]:{class:H,href:H,prefetch:H}},1,"6X_2"),1,null),de(si,{get class(){return dn.loginBtn},children:$localize`pages.login.logIn_btn`,onClick:a,[H]:{class:H,onClick:H}},1,"6X_3"),W("div",null,{class:dn.providers},de(j$,{onClick$:c,[H]:{onClick$:H}},3,"6X_4"),1,null)],1,null),W("div",null,{class:dn.footer},[$localize`pages.login.signUp_text`,de(jo,{get class(){return dn.signUpLink},children:$localize`pages.login.signUp_btn`,href:"/signup",prefetch:!0,[H]:{class:H,href:H,prefetch:H}},1,"6X_5")],1,null)],1,null)},1,"6X_6")},gV=Re(ue(_V,"s_lbb01eDYWeI")),vV={title:$localize`pages.login.head_title`},yV=Object.freeze(Object.defineProperty({__proto__:null,default:gV,head:vV,useRedirect:V$},Symbol.toStringTag,{value:"Module"})),bV='"../../variables.css"',wV="#1a602e",EV="#2e2d32",$V="_page_15fn5_4",SV="_header_15fn5_13",IV="_footer_15fn5_18",TV="_content_15fn5_32",xV="_infoBox_15fn5_39",AV="_infoLabel_15fn5_43",RV="_button_15fn5_50",Tn={colors:bV,primary_2:wV,text_1:EV,page:$V,header:SV,footer:IV,content:TV,infoBox:xV,infoLabel:AV,button:RV},CV='"../variables.css"',OV="#c00026",kV="#00b27c",NV="#c5c5c3",PV="_container_14ksy_4",DV="_disabled_14ksy_7",MV="_error_14ksy_29",LV={colors:CV,error_1:OV,primary_1:kV,background_1:NV,container:PV,disabled:DV,error:MV},FV=e=>W("div",{class:[LV.container,e.class]},null,W("select",null,{onInput$:Yt("s_9655VAADqxY",[e]),value:e.value},e.options.map(t=>W("option",{selected:t.id===e.value.value,value:Mn(t,"id")},null,t.label,1,t.id)),1,null),1,"gv_0"),UV=Re(ue(FV,"s_z7UA7HOwm0c")),BV=(e,{cookie:t,redirect:n})=>{throw t.delete("tastoria.session",{path:"/"}),t.delete("tastoria.app",{path:"/"}),n(302,"/login")},H$=Bn(ue(BV,"s_54b2lnmVG2c")),zV=({language:e},{cookie:t})=>{t.set("tastoria.app",{language:e},{path:"/",sameSite:"strict"})},G$=Bn(ue(zV,"s_6GnHORRnbew")),qV=async()=>{const[e]=Ze();e.submit()},WV=()=>{const e=qe(Bs),t=qe(Vi),{email:n,fullName:r,lastLoginAt:i}=e.user.value,s=[{label:$localize`pages.profile.email_key`,value:n},{label:$localize`pages.profile.fullName_key`,value:r},{label:$localize`pages.profile.lastLoginAt_key`,value:i}],o=Et(t.language),a=H$(),c=G$(),l=ue(qV,"s_SanWA9oubyM",[a]);return wr(Yt("s_EHMO1shA4D0",[t,c,o])),W("div",null,{class:Tn.page},[W("div",null,{class:Tn.header},W("h1",null,null,$localize`pages.profile.title`,1,null),1,null),W("div",null,{class:Tn.content},[W("h2",null,null,$localize`pages.profile.personal_info_title`,1,null),...s.map(u=>W("div",null,{class:Tn.infoBox},[W("span",null,{class:Tn.infoLabel},Mn(u,"label"),1,null),W("span",null,{class:Tn.infoValue},Mn(u,"value"),1,null)],1,u.label)),W("h2",null,null,$localize`pages.profile.settings_title`,1,null),W("div",null,{class:Tn.infoBox},[W("span",null,{class:Tn.infoLabel},$localize`pages.profile.language_key`,1,null),de(UV,{get class(){return Tn.infoValue},options:Ef,value:o,[H]:{class:H,options:H,value:H}},3,"cX_0")],1,null)],1,null),W("div",null,{class:Tn.footer},de(si,{get class(){return Tn.button},children:$localize`pages.profile.sign_out_btn`,onClick:l,[H]:{class:H,onClick:H}},1,"cX_1"),1,null)],1,"cX_2")},jV=Re(ue(WV,"s_JUvlWpPoQKc")),VV={title:$localize`pages.profile.head_title`},HV=Object.freeze(Object.defineProperty({__proto__:null,default:jV,head:VV,useChangeLanguage:G$,useSignOut:H$},Symbol.toStringTag,{value:"Module"})),GV="_component_12j16_1",YV={component:GV},KV='"../../variables.css"',XV="#bbc4c3",QV="#2e2d32",ZV="_component_z19zc_4",JV="_bigTitle_z19zc_27",Xv={colors:KV,background_2:XV,text_1:QV,component:ZV,bigTitle:JV},eH='"../../variables.css"',tH="#c00026",nH="#FFF",rH="_component_1d3ob_4",iH="_image_1d3ob_13",sH="_placeholder_1d3ob_20",oH="_loader_1d3ob_29",xh={colors:eH,error_1:tH,white_1:nH,component:rH,image:iH,placeholder:sH,loader:oH},aH="/build/q-63qhVpRj.webp 200w, /build/q-jrAK_5XJ.webp 400w, /build/q-D7QYyqUV.webp 425w",cH=425,lH=425,uH={srcSet:aH,width:cH,height:lH};function dH(e,t,n,r){return W("img",{decoding:"async",loading:"lazy",...e},uH,void 0,3,t)}const Qv=de(dH,{get class(){return xh.placeholder},[H]:{class:H}},3,"Wq_0"),fH=async()=>{const[e,t]=Ze(),n=e.userId||t.user.value.id;return Fn.getImageUrl(n,e.src)},hH=e=>{if(Er(),!e.src)return Qv;const t=qe(Bs),n=ay(ue(fH,"s_8FvSYREmv3k",[e,t]));return de(cy,{onPending:()=>de(qE,{get class(){return xh.loader},[H]:{class:H}},3,"Wq_1"),onRejected:()=>Qv,onResolved:r=>W("img",{class:[xh.image,e.class],src:r},{crossOrigin:"anonymous"},null,3,"Wq_2"),value:n,[H]:{onPending:H,onRejected:H,onResolved:H,value:H}},3,"Wq_3")},Y$=Re(ue(hH,"s_ziZJtmdAT4o")),Qd=18,pH=e=>{const t=e.title.length<Qd,n=e.title.length<=2*Qd?e.title:`${e.title.slice(0,2*Qd-6)}..`;return W("div",{class:[Xv.component,{[Xv.bigTitle]:!t}]},null,[de(Y$,{get src(){return e.image},[H]:{src:xt(r=>r.image,[e],"p0.image")}},3,"lN_0"),W("h3",null,null,n,1,null),W("div",null,null,null,3,null)],1,"lN_1")},mH=Re(ue(pH,"s_vkpVeOfakIU")),_H=e=>W("div",null,{class:YV.component},e.data.map(t=>de(jo,{children:de(mH,{get title(){return t.title},get categories(){return t.categories},get tags(){return t.tags},get image(){return t.image},[H]:{categories:Cn(t,"categories"),image:Cn(t,"image"),tags:Cn(t,"tags"),title:Cn(t,"title")}},3,"zU_0"),href:`/recipes/${t.id}`,prefetch:!0,[H]:{prefetch:H}},1,t.id)),1,"zU_1"),gH=Re(ue(_H,"s_wC2GB5oqF04")),vH=(e,{redirect:t})=>{throw t(302,`/recipes/${e.id}`)},K$=Bn(ue(vH,"s_tvo2FY0qMuE")),yH=()=>{const e=qe(Hi),t=qe(Sl),n=K$(),r=Object.values(e.all).map(i=>({recipe:i,isVisible:Et(!0)}));return wr(Yt("s_KnanWhPWR7s",[r,n,t])),de(gH,{data:r.filter(i=>i.isVisible.value&&!i.recipe.deletedAt).map(i=>i.recipe)},3,"vn_1")},bH=Re(ue(yH,"s_yZ7b1zQICcY")),wH={title:$localize`pages.recipeList.head_title`},EH=Object.freeze(Object.defineProperty({__proto__:null,default:bH,head:wH,useOpenRecipe:K$},Symbol.toStringTag,{value:"Module"})),$H='"../../variables.css"',SH="#1a602e",IH="#c00026",TH="_page_zm4o0_4",xH="_header_zm4o0_13",AH="_error_zm4o0_18",RH="_content_zm4o0_25",CH="_input_zm4o0_32",OH="_signUpBtn_zm4o0_36",kH="_providers_zm4o0_41",NH="_googleBtn_zm4o0_47",Wn={colors:$H,primary_2:SH,error_1:IH,page:TH,header:xH,error:AH,content:RH,input:CH,signUpBtn:OH,providers:kH,googleBtn:NH},PH=async(e,{cookie:t,redirect:n})=>{throw t.set("tastoria.session",e,{path:"/",maxAge:[365,"days"],sameSite:"strict"}),n(302,"/recipes")},X$=Bn(ue(PH,"s_AC349ssPe0s")),DH=async()=>{const[e,t,n,r,i]=Ze();await Fn.signUp({email:e.value,password:r.value,fullName:t.value},n.url),i.value="verify-email"},MH=()=>{const[e,t,n]=Ze();return Am(n,{app:e,signals:{main:t}})},LH=async()=>{const[e]=Ze(),t=await Fn.googleSignIn();console.log(`Signed In as ${t.email}`),e.submit(t)},FH=()=>{Er();const e=X$(),t=ui(),n=Et("create-user"),r=Et(""),i=Et(""),s=Et(""),o=qe(Vi),a=Et(""),l=ue(MH,"s_L5WjaABlSHQ",[o,a,ue(DH,"s_zhcPcgOzhs4",[r,s,t,i,n])]),u=ue(LH,"s_yYKEsMDQmv8",[e]);return de(St,{children:W("div",null,{class:Wn.page},[W("div",null,{class:Wn.header},[W("h1",null,null,$localize`pages.signup.title`,1,null),W("h2",null,null,$localize`pages.signup.subtitle`,1,null),W("p",null,{class:Wn.error},a,3,null)],1,null),W("div",null,{class:Wn.content},[n.value==="verify-email"&&W("div",null,null,$localize`pages.signup.verify_email_sent`,1,"iL_0"),n.value==="create-user"&&de(St,{children:[de(Es,{label:$localize`pages.signup.email_key`,type:"email",value:r,get class(){return Wn.input},[H]:{class:H,type:H,value:H}},3,"iL_1"),de(Es,{label:$localize`pages.signup.fullName_key`,type:"text",value:s,get class(){return Wn.input},[H]:{class:H,type:H,value:H}},3,"iL_2"),de(Es,{label:$localize`pages.signup.password_key`,type:"password",value:i,get class(){return Wn.input},[H]:{class:H,type:H,value:H}},3,"iL_3"),de(si,{get class(){return Wn.signUpBtn},children:$localize`pages.signup.SignUp_btn`,onClick:l,[H]:{class:H,onClick:H}},1,"iL_4"),W("div",null,{class:Wn.providers},de(si,{icon:!0,get class(){return Wn.googleBtn},children:de(j$,null,3,"iL_5"),onClick:u,[H]:{class:H,icon:H,onClick:H}},3,"iL_6"),1,null)]},1,"iL_7")],1,null)],1,null)},1,"iL_8")},UH=Re(ue(FH,"s_fSr6TWou66o")),BH={title:$localize`pages.signup.head_title`},zH=Object.freeze(Object.defineProperty({__proto__:null,default:UH,head:BH,useRedirect:X$},Symbol.toStringTag,{value:"Module"})),qH=async({cookie:e,params:t,env:n})=>{const r=e.get("tastoria.session");return(r==null?void 0:r.json())?{recipeId:t.id}:null},Q$=ji(ue(qH,"s_v0oKAFCt5co")),WH=(e,{redirect:t})=>{throw t(302,`/recipes/${e.id}`)},Z$=Bn(ue(WH,"s_JkHR7U0L5Sg")),jH=()=>{Er();const e=Q$(),t=qe(Hi),n=Z$();if(!e.value)return W("div",null,null,$localize`pages.recipeEdit.notfound`,1,"4Q_0");const r=t.all[e.value.recipeId];return r?de(jE,{onSave:n,recipe:r,[H]:{onSave:H}},3,"4Q_2"):W("div",null,null,$localize`pages.recipeEdit.notfound`,1,"4Q_1")},VH=Re(ue(jH,"s_a76qs4N3KmI")),HH={title:$localize`pages.recipeEdit.head_title`},GH=Object.freeze(Object.defineProperty({__proto__:null,default:VH,head:HH,useEdit:Z$,useRecipesDetails:Q$},Symbol.toStringTag,{value:"Module"})),YH=16;class KH{constructor({key:t}){this.algorithm="aes-256-gcm",this.key=new TextEncoder().encode(t)}async encrypt(t){const n=Qu.randomBytes(YH),r=new TextEncoder().encode(t),i=Qu.webcrypto.subtle,s=await i.encrypt({name:"AES-GCM",iv:n},await i.importKey("raw",this.key,"AES-GCM",!1,["encrypt"]),r),o=new Uint8Array(s);new Uint8Array(o.length+n.length);const a=Va.from(n).toString("base64"),c=Va.from(o).toString("base64");return`${a}.${c}`}async decrypt(t){const[n,r]=t.split("."),i=Va.from(n,"base64"),s=Va.from(r,"base64"),o=Qu.webcrypto.subtle,a=await o.importKey("raw",this.key,"AES-GCM",!1,["decrypt"]),c=await o.decrypt({name:"AES-GCM",iv:i},a,s);return new TextDecoder().decode(c)}}function Ah(e,t){const n=BigInt(t.length),r=e%n,i=(e-r)/n,s=t[r];return i===BigInt(0)?[s]:[...Ah(i,t),s]}class J$ extends KH{constructor(){super(...arguments);eo(this,"outAlphabet",[..."abcdefghijklmnopqrstuvwxyz",..."ABCDEFGHIJKLMNOPQRSTUVWXYZ",..."0123456789"]);eo(this,"inAlphabet",[..."abcdefghijklmnopqrstuvwxyz",..."ABCDEFGHIJKLMNOPQRSTUVWXYZ",..."0123456789",..."=/+."])}async encrypt(n){const r=JSON.stringify(n),i=await super.encrypt(r);return this.short(i)}async decrypt(n){const r=this.long(n),i=await super.decrypt(r);return JSON.parse(i)}short(n){return Ah(bf(n,this.inAlphabet),this.outAlphabet).join("")}long(n){return Ah(bf(n,this.outAlphabet),this.inAlphabet).join("")}}var Wa={},XH=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},eS={},ln={};let Wm;const QH=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ln.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};ln.getSymbolTotalCodewords=function(t){return QH[t]};ln.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};ln.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Wm=t};ln.isKanjiModeEnabled=function(){return typeof Wm<"u"};ln.toSJIS=function(t){return Wm(t)};var Gu={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}})(Gu);function tS(){this.buffer=[],this.length=0}tS.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var ZH=tS;function ja(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}ja.prototype.set=function(e,t,n,r){const i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)};ja.prototype.get=function(e,t){return this.data[e*this.size+t]};ja.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};ja.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var JH=ja,nS={};(function(e){const t=ln.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=t(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},e.getPositions=function(r){const i=[],s=e.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(nS);var rS={};const eG=ln.getSymbolSize,Zv=7;rS.getPositions=function(t){const n=eG(t);return[[0,0],[n-Zv,0],[0,n-Zv]]};var iS={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,u=null;for(let d=0;d<s;d++){a=c=0,l=u=null;for(let f=0;f<s;f++){let p=i.get(d,f);p===l?a++:(a>=5&&(o+=t.N1+(a-5)),l=p,a=1),p=i.get(f,d),p===u?c++:(c>=5&&(o+=t.N1+(c-5)),u=p,c=1)}a>=5&&(o+=t.N1+(a-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*t.N4};function n(r,i,s){switch(r){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,n(i,c,a))},e.getBestMask=function(i,s){const o=Object.keys(e.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),e.applyMask(l,i);const u=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(l,i),u<c&&(c=u,a=l)}return a}})(iS);var Yu={};const Fr=Gu,hc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],pc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Yu.getBlocksCount=function(t,n){switch(n){case Fr.L:return hc[(t-1)*4+0];case Fr.M:return hc[(t-1)*4+1];case Fr.Q:return hc[(t-1)*4+2];case Fr.H:return hc[(t-1)*4+3];default:return}};Yu.getTotalCodewordsCount=function(t,n){switch(n){case Fr.L:return pc[(t-1)*4+0];case Fr.M:return pc[(t-1)*4+1];case Fr.Q:return pc[(t-1)*4+2];case Fr.H:return pc[(t-1)*4+3];default:return}};var sS={},Ku={};const Po=new Uint8Array(512),ll=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Po[n]=t,ll[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Po[n]=Po[n-255]})();Ku.log=function(t){if(t<1)throw new Error("log("+t+")");return ll[t]};Ku.exp=function(t){return Po[t]};Ku.mul=function(t,n){return t===0||n===0?0:Po[ll[t]+ll[n]]};(function(e){const t=Ku;e.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=t.mul(r[o],i[a]);return s},e.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=t.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}})(sS);const oS=sS;function jm(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}jm.prototype.initialize=function(t){this.degree=t,this.genPoly=oS.generateECPolynomial(this.degree)};jm.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=oS.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var tG=jm,aS={},di={},Vm={};Vm.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var lr={};const cS="[0-9]+",nG="[A-Z $%*+\\-./:]+";let ha="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ha=ha.replace(/u/g,"\\u");const rG="(?:(?![A-Z0-9 $%*+\\-./:]|"+ha+`)(?:.|[\r
]))+`;lr.KANJI=new RegExp(ha,"g");lr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");lr.BYTE=new RegExp(rG,"g");lr.NUMERIC=new RegExp(cS,"g");lr.ALPHANUMERIC=new RegExp(nG,"g");const iG=new RegExp("^"+ha+"$"),sG=new RegExp("^"+cS+"$"),oG=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");lr.testKanji=function(t){return iG.test(t)};lr.testNumeric=function(t){return sG.test(t)};lr.testAlphanumeric=function(t){return oG.test(t)};(function(e){const t=Vm,n=lr;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,o){if(e.isValid(s))return s;try{return r(s)}catch{return o}}})(di);(function(e){const t=ln,n=Yu,r=Gu,i=di,s=Vm,o=7973,a=t.getBCHDigit(o);function c(f,p,g){for(let h=1;h<=40;h++)if(p<=e.getCapacity(h,g,f))return h}function l(f,p){return i.getCharCountIndicator(f,p)+4}function u(f,p){let g=0;return f.forEach(function(h){const m=l(h.mode,p);g+=m+h.getBitsLength()}),g}function d(f,p){for(let g=1;g<=40;g++)if(u(f,g)<=e.getCapacity(g,p,i.MIXED))return g}e.from=function(p,g){return s.isValid(p)?parseInt(p,10):g},e.getCapacity=function(p,g,h){if(!s.isValid(p))throw new Error("Invalid QR Code version");typeof h>"u"&&(h=i.BYTE);const m=t.getSymbolTotalCodewords(p),_=n.getTotalCodewordsCount(p,g),v=(m-_)*8;if(h===i.MIXED)return v;const y=v-l(h,p);switch(h){case i.NUMERIC:return Math.floor(y/10*3);case i.ALPHANUMERIC:return Math.floor(y/11*2);case i.KANJI:return Math.floor(y/13);case i.BYTE:default:return Math.floor(y/8)}},e.getBestVersionForData=function(p,g){let h;const m=r.from(g,r.M);if(Array.isArray(p)){if(p.length>1)return d(p,m);if(p.length===0)return 1;h=p[0]}else h=p;return c(h.mode,h.getLength(),m)},e.getEncodedBits=function(p){if(!s.isValid(p)||p<7)throw new Error("Invalid QR Code version");let g=p<<12;for(;t.getBCHDigit(g)-a>=0;)g^=o<<t.getBCHDigit(g)-a;return p<<12|g}})(aS);var lS={};const Rh=ln,uS=1335,aG=21522,Jv=Rh.getBCHDigit(uS);lS.getEncodedBits=function(t,n){const r=t.bit<<3|n;let i=r<<10;for(;Rh.getBCHDigit(i)-Jv>=0;)i^=uS<<Rh.getBCHDigit(i)-Jv;return(r<<10|i)^aG};var dS={};const cG=di;function Ns(e){this.mode=cG.NUMERIC,this.data=e.toString()}Ns.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Ns.prototype.getLength=function(){return this.data.length};Ns.prototype.getBitsLength=function(){return Ns.getBitsLength(this.data.length)};Ns.prototype.write=function(t){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),t.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),t.put(i,s*3+1))};var lG=Ns;const uG=di,Zd=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ps(e){this.mode=uG.ALPHANUMERIC,this.data=e}Ps.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Ps.prototype.getLength=function(){return this.data.length};Ps.prototype.getBitsLength=function(){return Ps.getBitsLength(this.data.length)};Ps.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Zd.indexOf(this.data[n])*45;r+=Zd.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(Zd.indexOf(this.data[n]),6)};var dG=Ps,fG=function(t){for(var n=[],r=t.length,i=0;i<r;i++){var s=t.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=t.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const hG=fG,pG=di;function Ds(e){this.mode=pG.BYTE,typeof e=="string"&&(e=hG(e)),this.data=new Uint8Array(e)}Ds.getBitsLength=function(t){return t*8};Ds.prototype.getLength=function(){return this.data.length};Ds.prototype.getBitsLength=function(){return Ds.getBitsLength(this.data.length)};Ds.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var mG=Ds;const _G=di,gG=ln;function Ms(e){this.mode=_G.KANJI,this.data=e}Ms.getBitsLength=function(t){return t*13};Ms.prototype.getLength=function(){return this.data.length};Ms.prototype.getBitsLength=function(){return Ms.getBitsLength(this.data.length)};Ms.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=gG.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var vG=Ms,fS={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=t.PriorityQueue.make();a.push(r,0);for(var c,l,u,d,f,p,g,h,m;!a.empty();){c=a.pop(),l=c.value,d=c.cost,f=n[l]||{};for(u in f)f.hasOwnProperty(u)&&(p=f[u],g=d+p,h=o[u],m=typeof o[u]>"u",(m||h>g)&&(o[u]=g,a.push(u,g),s[u]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var _=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(_)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(fS);var yG=fS.exports;(function(e){const t=di,n=lG,r=dG,i=mG,s=vG,o=lr,a=ln,c=yG;function l(_){return unescape(encodeURIComponent(_)).length}function u(_,v,y){const b=[];let $;for(;($=_.exec(y))!==null;)b.push({data:$[0],index:$.index,mode:v,length:$[0].length});return b}function d(_){const v=u(o.NUMERIC,t.NUMERIC,_),y=u(o.ALPHANUMERIC,t.ALPHANUMERIC,_);let b,$;return a.isKanjiModeEnabled()?(b=u(o.BYTE,t.BYTE,_),$=u(o.KANJI,t.KANJI,_)):(b=u(o.BYTE_KANJI,t.BYTE,_),$=[]),v.concat(y,b,$).sort(function(I,x){return I.index-x.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function f(_,v){switch(v){case t.NUMERIC:return n.getBitsLength(_);case t.ALPHANUMERIC:return r.getBitsLength(_);case t.KANJI:return s.getBitsLength(_);case t.BYTE:return i.getBitsLength(_)}}function p(_){return _.reduce(function(v,y){const b=v.length-1>=0?v[v.length-1]:null;return b&&b.mode===y.mode?(v[v.length-1].data+=y.data,v):(v.push(y),v)},[])}function g(_){const v=[];for(let y=0;y<_.length;y++){const b=_[y];switch(b.mode){case t.NUMERIC:v.push([b,{data:b.data,mode:t.ALPHANUMERIC,length:b.length},{data:b.data,mode:t.BYTE,length:b.length}]);break;case t.ALPHANUMERIC:v.push([b,{data:b.data,mode:t.BYTE,length:b.length}]);break;case t.KANJI:v.push([b,{data:b.data,mode:t.BYTE,length:l(b.data)}]);break;case t.BYTE:v.push([{data:b.data,mode:t.BYTE,length:l(b.data)}])}}return v}function h(_,v){const y={},b={start:{}};let $=["start"];for(let S=0;S<_.length;S++){const I=_[S],x=[];for(let A=0;A<I.length;A++){const C=I[A],N=""+S+A;x.push(N),y[N]={node:C,lastCount:0},b[N]={};for(let T=0;T<$.length;T++){const k=$[T];y[k]&&y[k].node.mode===C.mode?(b[k][N]=f(y[k].lastCount+C.length,C.mode)-f(y[k].lastCount,C.mode),y[k].lastCount+=C.length):(y[k]&&(y[k].lastCount=C.length),b[k][N]=f(C.length,C.mode)+4+t.getCharCountIndicator(C.mode,v))}}$=x}for(let S=0;S<$.length;S++)b[$[S]].end=0;return{map:b,table:y}}function m(_,v){let y;const b=t.getBestModeForData(_);if(y=t.from(v,b),y!==t.BYTE&&y.bit<b.bit)throw new Error('"'+_+'" cannot be encoded with mode '+t.toString(y)+`.
 Suggested mode is: `+t.toString(b));switch(y===t.KANJI&&!a.isKanjiModeEnabled()&&(y=t.BYTE),y){case t.NUMERIC:return new n(_);case t.ALPHANUMERIC:return new r(_);case t.KANJI:return new s(_);case t.BYTE:return new i(_)}}e.fromArray=function(v){return v.reduce(function(y,b){return typeof b=="string"?y.push(m(b,null)):b.data&&y.push(m(b.data,b.mode)),y},[])},e.fromString=function(v,y){const b=d(v,a.isKanjiModeEnabled()),$=g(b),S=h($,y),I=c.find_path(S.map,"start","end"),x=[];for(let A=1;A<I.length-1;A++)x.push(S.table[I[A]].node);return e.fromArray(p(x))},e.rawSplit=function(v){return e.fromArray(d(v,a.isKanjiModeEnabled()))}})(dS);const Xu=ln,Jd=Gu,bG=ZH,wG=JH,EG=nS,$G=rS,Ch=iS,Oh=Yu,SG=tG,ul=aS,IG=lS,TG=di,ef=dS;function xG(e,t){const n=e.size,r=$G.getPositions(t);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||n<=s+a))for(let c=-1;c<=7;c++)o+c<=-1||n<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?e.set(s+a,o+c,!0,!0):e.set(s+a,o+c,!1,!0))}}function AG(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function RG(e,t){const n=EG.getPositions(t);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?e.set(i+o,s+a,!0,!0):e.set(i+o,s+a,!1,!0)}}function CG(e,t){const n=e.size,r=ul.getEncodedBits(t);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=(r>>a&1)===1,e.set(i,s,o,!0),e.set(s,i,o,!0)}function tf(e,t,n){const r=e.size,i=IG.getEncodedBits(t,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?e.set(s,8,o,!0):s<8?e.set(s+1,8,o,!0):e.set(r-15+s,8,o,!0),s<8?e.set(8,r-s-1,o,!0):s<9?e.set(8,15-s-1+1,o,!0):e.set(8,15-s-1,o,!0);e.set(r-8,8,1,!0)}function OG(e,t){const n=e.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!e.isReserved(i,a-c)){let l=!1;o<t.length&&(l=(t[o]>>>s&1)===1),e.set(i,a-c,l),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function kG(e,t,n){const r=new bG;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),TG.getCharCountIndicator(c.mode,e)),c.write(r)});const i=Xu.getSymbolTotalCodewords(e),s=Oh.getTotalCodewordsCount(e,t),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let c=0;c<a;c++)r.put(c%2?17:236,8);return NG(r,e,t)}function NG(e,t,n){const r=Xu.getSymbolTotalCodewords(t),i=Oh.getTotalCodewordsCount(t,n),s=r-i,o=Oh.getBlocksCount(t,n),a=r%o,c=o-a,l=Math.floor(r/o),u=Math.floor(s/o),d=u+1,f=l-u,p=new SG(f);let g=0;const h=new Array(o),m=new Array(o);let _=0;const v=new Uint8Array(e.buffer);for(let I=0;I<o;I++){const x=I<c?u:d;h[I]=v.slice(g,g+x),m[I]=p.encode(h[I]),g+=x,_=Math.max(_,x)}const y=new Uint8Array(r);let b=0,$,S;for($=0;$<_;$++)for(S=0;S<o;S++)$<h[S].length&&(y[b++]=h[S][$]);for($=0;$<f;$++)for(S=0;S<o;S++)y[b++]=m[S][$];return y}function PG(e,t,n,r){let i;if(Array.isArray(e))i=ef.fromArray(e);else if(typeof e=="string"){let l=t;if(!l){const u=ef.rawSplit(e);l=ul.getBestVersionForData(u,n)}i=ef.fromString(e,l||40)}else throw new Error("Invalid data");const s=ul.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=kG(t,n,i),a=Xu.getSymbolSize(t),c=new wG(a);return xG(c,t),AG(c),RG(c,t),tf(c,n,0),t>=7&&CG(c,t),OG(c,o),isNaN(r)&&(r=Ch.getBestMask(c,tf.bind(null,c,n))),Ch.applyMask(r,c),tf(c,n,r),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:r,segments:i}}eS.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=Jd.M,i,s;return typeof n<"u"&&(r=Jd.from(n.errorCorrectionLevel,Jd.M),i=ul.from(n.version),s=Ch.from(n.maskPattern),n.toSJISFunc&&Xu.setToSJISFunction(n.toSJISFunc)),PG(t,i,r,s)};var hS={},Hm={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const s=e.getScale(r,i);return Math.floor((r+i.margin*2)*s)},e.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,c=e.getScale(o,s),l=Math.floor((o+s.margin*2)*c),u=s.margin*c,d=[s.color.light,s.color.dark];for(let f=0;f<l;f++)for(let p=0;p<l;p++){let g=(f*l+p)*4,h=s.color.light;if(f>=u&&p>=u&&f<l-u&&p<l-u){const m=Math.floor((f-u)/c),_=Math.floor((p-u)/c);h=d[a[m*o+_]?1:0]}r[g++]=h.r,r[g++]=h.g,r[g++]=h.b,r[g]=h.a}}})(Hm);(function(e){const t=Hm;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=r()),c=t.getOptions(c);const u=t.getImageWidth(s.modules.size,c),d=l.getContext("2d"),f=d.createImageData(u,u);return t.qrToImageData(f.data,s,c),n(d,l,u),d.putImageData(f,0,0),l},e.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=e.render(s,o,c),u=c.type||"image/png",d=c.rendererOpts||{};return l.toDataURL(u,d.quality)}})(hS);var pS={};const DG=Hm;function e1(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function nf(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function MG(e,t,n){let r="",i=0,s=!1,o=0;for(let a=0;a<e.length;a++){const c=Math.floor(a%t),l=Math.floor(a/t);!c&&!s&&(s=!0),e[a]?(o++,a>0&&c>0&&e[a-1]||(r+=s?nf("M",c+n,.5+l+n):nf("m",i,0),i=0,s=!1),c+1<t&&e[a+1]||(r+=nf("h",o),o=0)):i++}return r}pS.render=function(t,n,r){const i=DG.getOptions(n),s=t.modules.size,o=t.modules.data,a=s+i.margin*2,c=i.color.light.a?"<path "+e1(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+e1(i.color.dark,"stroke")+' d="'+MG(o,s,i.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof r=="function"&&r(null,f),f};const LG=XH,kh=eS,mS=hS,FG=pS;function Gm(e,t,n,r,i){const s=[].slice.call(arguments,1),o=s.length,a=typeof s[o-1]=="function";if(!a&&!LG())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=t,t=r=void 0):o===3&&(t.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=t,t=r=void 0):o===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(c,l){try{const u=kh.create(n,r);c(e(u,t,r))}catch(u){l(u)}})}try{const c=kh.create(n,r);i(null,e(c,t,r))}catch(c){i(c)}}Wa.create=kh.create;Wa.toCanvas=Gm.bind(null,mS.render);Wa.toDataURL=Gm.bind(null,mS.renderToDataURL);Wa.toString=Gm.bind(null,function(e,t,n){return FG.render(e,n)});const UG='"../../variables.css"',BG="#00b27c",zG="#1a602e",qG="#134741",WG="#2e2d32",jG="_preview_vojrn_4",VG="_content_vojrn_8",HG="_image_vojrn_12",GG="_contentItem_vojrn_21",YG="_ratingIcon_vojrn_31",KG="_filled_vojrn_39",XG="_popularity_vojrn_47",QG="_visitsStatistics_vojrn_52",ZG="_favoriteIcon_vojrn_60",JG="_propertyLabel_vojrn_78",eY="_ingredients_vojrn_83",tY="_steps_vojrn_111",nY="_header_vojrn_180",rY="_headerButtons_vojrn_196",iY="_headerButton_vojrn_196",sY="_qrCode_vojrn_215",Ye={colors:UG,primary_1:BG,primary_2:zG,primary_3:qG,text_1:WG,preview:jG,content:VG,image:HG,contentItem:GG,ratingIcon:YG,filled:KG,popularity:XG,visitsStatistics:QG,favoriteIcon:ZG,propertyLabel:JG,ingredients:eY,steps:tY,header:nY,headerButtons:rY,headerButton:iY,qrCode:sY},oY=e=>Ke(St,{children:Ke("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e,{children:Ke("path",{fillRule:"evenodd",d:"M12 6c-1.8-2.097-4.806-2.745-7.06-.825-2.255 1.92-2.573 5.131-.802 7.402 1.472 1.888 5.927 5.87 7.387 7.16.163.144.245.216.34.245a.46.46 0 0 0 .258 0c.095-.029.176-.1.34-.245 1.46-1.29 5.915-5.272 7.387-7.16 1.77-2.27 1.492-5.502-.802-7.402S13.8 3.903 12 6",clipRule:"evenodd"})}))}),aY=e=>Ke(St,{children:Ke("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e,{children:Ke("path",{d:"m3 17 6-6 4 4 8-8m0 0v5m0-5h-5"})}))}),cY=e=>Ke(St,{children:Ke("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",width:"100",height:"100",baseProfile:"tiny",viewBox:"0 0 42 42"},e,{children:Ke("path",{fillRule:"evenodd",d:"M21 1c1.081 0 5.141 12.315 6.201 13.126s13.461 1.053 13.791 2.137c.34 1.087-9.561 8.938-9.961 10.252-.409 1.307 3.202 13.769 2.331 14.442-.879.673-11.05-6.79-12.361-6.79S9.52 41.63 8.641 40.957c-.871-.674 2.739-13.136 2.329-14.442-.399-1.313-10.3-9.165-9.96-10.252.33-1.084 12.731-1.326 13.791-2.137S19.91 1 21 1"})}))}),lY=e=>{if(!e.url)return null;const t=new URL(e.url);return W("div",null,{class:Ye.contentItem},[W("span",null,{class:Ye.propertyLabel},[$localize`component.RecipePage_ViewPage.sourceLabel`,":"],1,null),W("a",{href:Mn(t,"href")},{class:Ye.source},Mn(t,"host"),1,null)],1,"0r_0")},uY=Re(ue(lY,"s_yapVymX1VrY"));function dY(e){return JSON.stringify({rating:e.rating,favorite:e.favorite,visits:e.visits})}const fY=5,hY=async()=>{const[e]=Ze();return Wa.toString(e.shareURL.href,{type:"svg"})},pY=async({track:e})=>{const[t,n]=Ze();e(()=>dY(t.recipe)),t.sharedBy||(t.recipe.updatedAt=new Date().toISOString(),n.lastChanged.value=new Date)},mY=()=>{const[e,t]=Ze();return t.recipe.rating=e+1},_Y=()=>{const[e]=Ze();return e.recipe.favorite=!e.recipe.favorite},gY=e=>{Er();const t=qe(Hi);t.all[e.recipe.id];const n=ay(ue(hY,"s_xKbLMuaNnWA",[e]));return wr(Yt("s_rcfLAHGCfM8",[e])),C1(ue(pY,"s_UDYdwI3TN2E",[e,t])),W("div",null,{class:Ye.component},[W("div",null,{class:Ye.preview},[de(Y$,{get class(){return Ye.image},get src(){return e.recipe.image},get userId(){return e.sharedBy},[H]:{class:H,src:xt(r=>r.recipe.image,[e],"p0.recipe.image"),userId:xt(r=>r.sharedBy,[e],"p0.sharedBy")}},3,"0r_1"),W("div",null,{class:Ye.content},[W("h1",null,null,xt(r=>r.recipe.title,[e],"p0.recipe.title"),3,null),W("div",null,{class:Ye.contentItem},xt(r=>r.recipe.description,[e],"p0.recipe.description"),3,null),W("div",null,{class:[Ye.contentItem]},Array.from({length:fY}).map((r,i)=>de(si,{children:de(cY,null,3,"0r_2"),class:[Ye.ratingIcon,{[Ye.filled]:e.recipe.rating&&e.recipe.rating>=i+1}],icon:!0,onClick:ue(mY,"s_1MwhW8r60vU",[i,e]),[H]:{icon:H}},1,i)),1,null),W("div",null,{class:Ye.contentItem},[W("span",null,{class:Ye.propertyLabel},[$localize`component.RecipePage_ViewPage.quantityLabel`,":"],1,null),xt(r=>r.recipe.quantity,[e],"p0.recipe.quantity"),de(uY,{get url(){return e.recipe.url},[H]:{url:xt(r=>r.recipe.url,[e],"p0.recipe.url")}},3,"0r_3")],1,null),W("div",null,{class:Ye.contentItem},!e.sharedBy&&W("div",null,{class:[Ye.contentItem,Ye.popularity]},[W("div",null,{class:Ye.visitsStatistics},[de(aY,null,3,"0r_4"),W("span",null,{class:Ye.visitsValue},xt(r=>r.recipe.visits,[e],"p0.recipe.visits"),3,null)],1,null),de(si,{children:de(oY,null,3,"0r_5"),class:[Ye.favoriteIcon,{[Ye.filled]:e.recipe.favorite}],icon:!0,onClick:ue(_Y,"s_NEz8XAxVocw",[e]),[H]:{icon:H}},1,"0r_6")],1,"0r_7"),1,null)],1,null)],1,null),W("h2",null,null,[$localize`component.RecipePage_ViewPage.ingredientsLabel`,":"],1,null),W("ul",null,{class:Ye.ingredients},e.recipe.ingredients.map(r=>W("li",null,null,r,1,r)),1,null),de(cy,{onRejected:()=>W("div",null,{class:Ye.qrCode},null,3,"0r_8"),onResolved:r=>W("div",{dangerouslySetInnerHTML:r},{class:Ye.qrCode},null,3,"0r_9"),value:n,[H]:{onRejected:H,onResolved:H,value:H}},3,"0r_10"),W("h2",null,null,[$localize`component.RecipePage_ViewPage.stepsLabel`,":"],1,null),W("ol",null,{class:Ye.steps},e.recipe.steps.map(r=>W("li",null,null,r,1,r)),1,null)],1,"0r_11")},_S=Re(ue(gY,"s_GsW2zKO9C3s")),vY=async({cookie:e,params:t,env:n})=>{const r=e.get("tastoria.session"),i=r==null?void 0:r.json();if(!i)return null;const s=t.id;return{sharedToken:await new J$({key:n.get("SHARE_SECRET_KEY")}).encrypt([i.id,s,Date.now()]),recipeId:s}},gS=ji(ue(vY,"s_iSPq1fXmNdc")),yY=(e,{redirect:t})=>{throw t(302,"/recipes")},vS=Bn(ue(yY,"s_ykLOC798mMI")),bY=(e,{redirect:t,params:n})=>{throw t(302,`/recipes/${n.id}/edit`)},yS=Bn(ue(bY,"s_9Zeby5uVOck")),wY=(e,{redirect:t})=>{throw t(302,`/recipes/${e.id}/edit`)},bS=Bn(ue(wY,"s_aZuNAC0y120")),EY=()=>{Er();const e=gS(),t=qe(Hi);if(!e.value)return W("div",null,null,$localize`pages.recipe.notfound`,1,"uy_0");const n=t.all[e.value.recipeId];if(!n)return W("div",null,null,$localize`pages.recipe.notfound`,1,"uy_1");const r=qe(Sl),i=ui(),s=new URL(`shared/${e.value.sharedToken}`,i.url.origin),o=vS(),a=yS(),c=bS();return wr(Yt("s_VJICRF6WIcY",[c,a,o,n,s,r])),de(_S,{recipe:n,shareURL:s},3,"uy_3")},$Y=Re(ue(EY,"s_kt7AVuqFcpc")),SY={title:$localize`pages.recipe.head_title`},IY=Object.freeze(Object.defineProperty({__proto__:null,default:$Y,head:SY,useDuplicate:bS,useEdit:yS,useRecipesDetails:gS,useRemove:vS},Symbol.toStringTag,{value:"Module"})),TY=async({params:e,env:t,cookie:n,redirect:r})=>{const i=e.token,s=new J$({key:t.get("SHARE_SECRET_KEY")}),[o,a]=await s.decrypt(i),c=n.get("tastoria.session"),l=c==null?void 0:c.json();if((l==null?void 0:l.id)===o)throw r(302,`/recipes/${a}`);const u=await Fn.downloadRecipe(o,a);return u?{recipe:u,sharedToken:i,sharedBy:o,isLoggedIn:!!l}:null},Ym=ji(ue(TY,"s_UspcRuPFFp8")),xY=(e,{redirect:t})=>{throw t(302,`/recipes/${e.id}/edit`)},wS=Bn(ue(xY,"s_21wlMEOA2z8")),AY=()=>{Er();const e=Ym();if(!e.value)return W("div",null,null,$localize`pages.shared.notfound`,1,"Ch_0");const t=qe(Sl),n=ui(),r=new URL(`shared/${e.value.sharedToken}`,n.url.origin),i=e.value.recipe,s=wS();return wr(Yt("s_KWfHhWD0JGo",[s,r,e,t])),de(_S,{recipe:i,shareURL:r,get sharedBy(){return e.value.sharedBy},[H]:{sharedBy:xt(o=>o.value.sharedBy,[e],"p0.value.sharedBy")}},3,"Ch_2")},RY=Re(ue(AY,"s_BWz0EYUbbMA")),CY=({resolveValue:e})=>{const t=e(Ym);return{title:t?t.recipe.title:$localize`pages.shared.head_title`}},OY=Object.freeze(Object.defineProperty({__proto__:null,default:RY,head:CY,useDuplicate:wS,useRecipesDetails:Ym},Symbol.toStringTag,{value:"Module"})),kY=async({redirect:e})=>{throw e(302,"/")},NY=Object.freeze(Object.defineProperty({__proto__:null,onGet:kY},Symbol.toStringTag,{value:"Module"})),PY={text:"Tastoria",items:[{text:"Recipes",href:"/recipes/"},{text:"Import",href:"/import/"},{text:"About",href:"/about/"}]},DY=Object.freeze(Object.defineProperty({__proto__:null,default:PY},Symbol.toStringTag,{value:"Module"})),MY=[],Qt=()=>UF,LY=[["/",[Qt,()=>zF],"/",["q-URXU_ey1.js","q-_LPxUWhA.js"]],["api/sync/recipes/",[Qt,()=>SB],"/api/sync/recipes/",["q-URXU_ey1.js","q-Yl9ZKO5u.js"]],["recipes/create/",[Qt,()=>bz],"/recipes/create/",["q-URXU_ey1.js","q-lrXfvetz.js"]],["about/",[Qt,()=>Vz],"/about/",["q-URXU_ey1.js","q-nfyxCQAU.js"]],["import/",[Qt,()=>Gj],"/import/",["q-URXU_ey1.js","q-veZNES6X.js"]],["login/",[Qt,()=>yV],"/login/",["q-URXU_ey1.js","q-TEt8u4mP.js"]],["profile/",[Qt,()=>HV],"/profile/",["q-URXU_ey1.js","q-SMpZ7jvd.js"]],["recipes/",[Qt,()=>EH],"/recipes/",["q-URXU_ey1.js","q-9PC70MmQ.js"]],["signup/",[Qt,()=>zH],"/signup/",["q-URXU_ey1.js","q-SzUZgIfC.js"]],["recipes/[id]/edit/",[Qt,()=>GH],"/recipes/[id]/edit/",["q-URXU_ey1.js","q-3PrVpzBp.js"]],["recipes/[id]/",[Qt,()=>IY],"/recipes/[id]/",["q-URXU_ey1.js","q-PMdGLukL.js"]],["shared/[token]/",[Qt,()=>OY],"/shared/[token]/",["q-URXU_ey1.js","q-eFBXqbjm.js"]],["[...catchall]",[Qt,()=>NY],"/[...catchall]",["q-URXU_ey1.js","q-10Ifrhi6.js"]]],FY=[["/",()=>DY]],UY=!0,ES="/",BY=!0,_K={routes:LY,serverPlugins:MY,menus:FY,trailingSlash:UY,basePathname:ES,cacheModules:BY};export{St as F,XY as Q,YY as R,QY as S,dI as _,HY as a,VY as b,AT as c,Re as d,ui as e,de as f,W as g,xt as h,ue as i,Ke as j,cI as k,Mn as l,ZY as m,MY as n,FY as o,ES as p,_K as q,LY as r,jY as s,UY as t,KY as u,GY as v,BY as w};
